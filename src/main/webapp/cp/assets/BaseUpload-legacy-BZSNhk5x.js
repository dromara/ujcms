System.register(["./index-legacy-Dn378GZk.js","./BaseUpload.vue_vue_type_style_index_0_scoped_248c0508_lang-legacy-CKxOBGSm.js","./config-legacy-DvEG9oKg.js"],(function(e,a){"use strict";var t,u,l,r,i,n,c,o,s,d,p,f,y,v,g,m,b,_,B,A,S,h,w,I,x,L,z,T;return{setters:[e=>{t=e.d,u=e.A,l=e.u,r=e.a,i=e.r,n=e.ar,c=e.b,o=e.P,s=e.h,d=e.w,p=e.aC,f=e.l,y=e.x,v=e.a_,g=e.t,m=e.k,b=e.aT,_=e.aU,B=e.c,A=e.aV,S=e.g,h=e._},e=>{w=e.E},e=>{I=e.f,x=e.T,L=e.U,z=e.V,T=e.i}],execute:function(){const a=t({__name:"BaseUpload",props:{type:{type:String,default:"file",validator:e=>["image","video","audio","library","doc","file","any"].includes(e)},button:{type:String,default:null},data:{type:Object,default:null},uploadAction:{type:String,default:null},fileAccept:{type:String,default:null},fileMaxSize:{type:Number,default:null},multiple:{type:Boolean},disabled:{type:Boolean,default:!1},onSuccess:{type:Function,default:null}},setup(e){const a=e,{type:t,uploadAction:h,fileAccept:U,fileMaxSize:j}=u(a),{t:M}=l(),O=r(),$=i({}),k=n((()=>{if(null!=h?.value)return h.value;switch(t.value){case"image":return T;case"video":return z;case"audio":return L;case"library":case"doc":return x;case"file":return I;default:throw new Error(`Type not support: ${t.value}`)}})),E=n((()=>{if(null!=U?.value)return U.value;switch(t.value){case"image":return O.upload.imageInputAccept;case"video":return O.upload.videoInputAccept;case"audio":return O.upload.audioInputAccept;case"library":return O.upload.libraryInputAccept;case"doc":return O.upload.docInputAccept;case"file":return O.upload.fileInputAccept;case"any":return;default:throw new Error(`Type not support: ${t.value}`)}})),N=n((()=>{if(null!=j?.value)return j.value;switch(t.value){case"image":return O.upload.imageLimitByte;case"video":return O.upload.videoLimitByte;case"audio":return O.upload.audioLimitByte;case"library":return O.upload.libraryLimitByte;case"doc":return O.upload.docLimitByte;case"file":return O.upload.fileLimitByte;default:return 0}})),V=e=>!(N.value>0&&e.size>N.value&&(g.error(M("error.fileMaxSize",{size:N.value/1024/1024+" MB"})),1)),C=e=>{v(JSON.parse(e.message))};return(a,t)=>{const u=w,l=A;return c(),o("div",null,[s(u,{action:k.value,headers:{...m(_)(),...m(b)()},data:e.data,accept:E.value,"before-upload":V,"on-success":e.onSuccess,"on-progress":(e,a)=>$.value=a,"on-error":C,"show-file-list":!1,disabled:e.disabled,multiple:e.multiple,drag:""},{default:d((()=>[p(a.$slots,"default",{},(()=>[f("span",null,y(e.button??a.$t("clickOrDragToUpload")),1)]),!0)])),_:3},8,["action","headers","data","accept","on-success","on-progress","disabled","multiple"]),"uploading"===$.value.status?(c(),B(l,{key:0,percentage:parseInt($.value.percentage,10)},null,8,["percentage"])):S("",!0)])}}});e("B",h(a,[["__scopeId","data-v-248c0508"]]))}}}));
