System.register(["./index-legacy-DywSgIaj.js","./duration-legacy-DPyRt08Z.js","./stat-legacy-DZcOoiqc.js","./content-legacy-C0HQ2q9C.js","./interaction-legacy-CoyZ-mBI.js"],(function(t,e){"use strict";var a,l,s,n,u,i,r,d,o,c,v,p,f,y,x,m,g,b,w,h,_,C,k,$,j,S,Y,D,V,q,M,R,A,N,O,P;return{setters:[t=>{a=t.d,l=t.u,s=t.S,n=t.T,u=t.r,i=t.o,r=t.U,d=t.V,o=t.W,c=t.X,v=t.b,p=t.e,f=t.K,y=t.i,x=t.w,m=t.f,g=t.k,b=t.j,w=t.Y,h=t.n,_=t.t,C=t.h,k=t.Z,$=t.$,j=t.L,S=t.a0,Y=t.a1},t=>{D=t.d},t=>{V=t.q,q=t.a,M=t.b},t=>{R=t.q,A=t.a,N=t.b,O=t.c},t=>{P=t.q}],execute:function(){const e={class:"mb-3 shadow-md bg-warning-lighter"},T={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},z={class:"flex items-center"},L={class:"mb-3 shadow-md bg-warning-lighter"},B={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},H={class:"flex items-center"},F={class:"mb-3 shadow-md bg-warning-lighter"},I={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},W={class:"flex items-center"},E={class:"mb-3 shadow-md bg-warning-lighter"},G={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},K={class:"flex items-center"},U={class:"mb-3 shadow-md bg-warning-lighter"},X={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},Z={class:"flex items-center"},J={class:"p-3 app-block"},Q={class:"text-sm text-gray-secondary"},tt={class:"flex items-end justify-between mt-1"},et={class:"text-3xl text-primary"},at={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-primary"},lt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},st={class:"p-3 app-block"},nt={class:"text-sm text-gray-secondary"},ut={class:"flex items-end justify-between mt-1"},it={class:"text-3xl text-primary"},rt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-warning"},dt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},ot={class:"p-3 app-block"},ct={class:"text-sm text-gray-secondary"},vt={class:"flex items-end justify-between mt-1"},pt={class:"text-3xl text-primary"},ft={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-success"},yt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},xt={class:"p-3 app-block"},mt={class:"text-sm text-gray-secondary"},gt={class:"flex items-end justify-between mt-1"},bt={class:"text-3xl text-primary"},wt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-danger"},ht={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},_t={class:"px-3 py-5 mt-3 app-block"},Ct={class:"flex p-3 mt-3 justify-evenly app-block"},kt={class:"h-64 w-60 text-primary"},$t={class:"mt-2 text-center"},jt={class:"flex items-center justify-center mt-2"},St={class:"text-3xl"},Yt={key:0},Dt={key:1},Vt={class:"mt-4 space-y-2 text-sm"},qt={key:0},Mt={key:1},Rt={key:0},At={key:1},Nt={key:0},Ot={key:1},Pt={class:"h-64 w-60 text-gray-secondary"},Tt={class:"mt-2 text-center"},zt={class:"flex items-center justify-center mt-2"},Lt={class:"text-3xl"},Bt={key:0},Ht={key:1},Ft={class:"mt-4 space-y-2 text-sm"},It={key:0},Wt={key:1},Et={key:0},Gt={key:1},Kt={key:0},Ut={key:1},Xt={class:"p-3 mt-3 app-block"};t("default",a({__name:"HomePage",setup(t){const{t:a,n:Zt}=l();s.extend(D);const Jt=n(),Qt=n(),te=u({}),ee=u({}),ae=u({}),le=u(0),se=u(0),ne=u(0),ue=u(0),ie=u(0);return i((async()=>{r("articleReview:list")&&((async()=>{d.epRank>=1&&(le.value=await R())})(),(async()=>{d.epRank>=1&&(se.value=await A())})()),r("formReview:list")&&((async()=>{d.epRank>=3&&(ue.value=await N())})(),(async()=>{d.epRank>=3&&(ie.value=await O())})()),r("messageBoard:list")&&(async()=>{ne.value=await P()})(),(async()=>{const t=await V({begin:s().startOf("day").subtract(1,"day").format(),end:s().endOf("day").format()}),e={tooltip:{trigger:"axis"},legend:{data:[a("visitTrend.yesterdayPv"),a("visitTrend.todayPv")]},grid:{left:16,right:16,top:40,bottom:0,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:Array.from(Array(24).keys())},yAxis:{type:"value",minInterval:1},series:[{name:a("visitTrend.yesterdayPv"),type:"line",symbol:"circle",color:"#a0cfff",data:t.filter((t=>s(t.date)<s().startOf("day"))).map((t=>Number(t.pvCount)))},{name:a("visitTrend.todayPv"),type:"line",symbol:"circle",color:"#409eff",areaStyle:{color:"#ecf5ff"},data:t.filter((t=>s(t.date)>=s().startOf("day"))).map((t=>Number(t.pvCount)))}]},l=Jt.value;if(null==l)return;let n=o.getInstanceByDom(l);null==n&&(n=o.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await q({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")}),e={title:{text:a("menu.stat.visitSource"),textStyle:{color:"#909399",fontWeight:"normal",fontSize:16}},legend:{type:"scroll",orient:"vertical",right:"10%",top:16,bottom:16},tooltip:{trigger:"item",valueFormatter:t=>Zt(t)},series:[{name:a("menu.stat.visitSource"),type:"pie",radius:["44%","80%"],center:["40%","54%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!1}},labelLine:{show:!1},data:t.map((t=>({value:Number(t.pvCount),name:a(`visitSource.type.${t.name}`)})))}]},l=Qt.value;if(null==l)return;let n=o.getInstanceByDom(l);null==n&&(n=o.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await M({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")});te.value=t.newVisitor,ee.value=t.oldVisitor,te.value.pvCount=Number(te.value.pvCount),ee.value.pvCount=Number(ee.value.pvCount),te.value.uvCount=Number(te.value.uvCount),ee.value.uvCount=Number(ee.value.uvCount);const e=te.value.uvCount+ee.value.uvCount;e>0?(te.value.proportion=100*te.value.uvCount/e,ee.value.proportion=100*ee.value.uvCount/e):(te.value.proportion=50,ee.value.proportion=50)})(),(async()=>{ae.value=await c()})()})),(t,a)=>{const l=v("el-icon"),n=v("el-link"),u=v("el-col"),i=v("el-row");return p(),f("div",null,[y(i,{gutter:12},{default:x((()=>[le.value>0?(p(),m(u,{key:0,span:6},{default:x((()=>[g("div",e,[g("div",T,[g("div",z,[y(l,null,{default:x((()=>[y(b(w))])),_:1}),y(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[0]||(a[0]=()=>t.$router.push({path:"/content/article-review"}))},{default:x((()=>[h(_(t.$t("todo.pendingArticle")),1)])),_:1})]),g("div",null,[y(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[1]||(a[1]=()=>t.$router.push({path:"/content/article-review"}))},{default:x((()=>[h(_(le.value),1)])),_:1})])])])])),_:1})):C("",!0),se.value>0?(p(),m(u,{key:1,span:6},{default:x((()=>[g("div",L,[g("div",B,[g("div",H,[y(l,null,{default:x((()=>[y(b(w))])),_:1}),y(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[2]||(a[2]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:x((()=>[h(_(t.$t("todo.rejectedArticle")),1)])),_:1})]),g("div",null,[y(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[3]||(a[3]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:x((()=>[h(_(se.value),1)])),_:1})])])])])),_:1})):C("",!0),ue.value>0?(p(),m(u,{key:2,span:6},{default:x((()=>[g("div",F,[g("div",I,[g("div",W,[y(l,null,{default:x((()=>[y(b(w))])),_:1}),y(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[4]||(a[4]=()=>t.$router.push({path:"/content/form-review"}))},{default:x((()=>[h(_(t.$t("todo.pendingForm")),1)])),_:1})]),g("div",null,[y(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[5]||(a[5]=()=>t.$router.push({path:"/content/form-review"}))},{default:x((()=>[h(_(ue.value),1)])),_:1})])])])])),_:1})):C("",!0),ie.value>0?(p(),m(u,{key:3,span:6},{default:x((()=>[g("div",E,[g("div",G,[g("div",K,[y(l,null,{default:x((()=>[y(b(w))])),_:1}),y(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[6]||(a[6]=()=>t.$router.push({path:"/content/form",query:{status:22}}))},{default:x((()=>[h(_(t.$t("todo.rejectedForm")),1)])),_:1})]),g("div",null,[y(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[7]||(a[7]=()=>t.$router.push({path:"/content/form",query:{status:22}}))},{default:x((()=>[h(_(ie.value),1)])),_:1})])])])])),_:1})):C("",!0),ne.value>0?(p(),m(u,{key:4,span:6},{default:x((()=>[g("div",U,[g("div",X,[g("div",Z,[y(l,null,{default:x((()=>[y(b(w))])),_:1}),y(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[8]||(a[8]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:x((()=>[h(_(t.$t("todo.unreviewedMessageBoard")),1)])),_:1})]),g("div",null,[y(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[9]||(a[9]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:x((()=>[h(_(ne.value),1)])),_:1})])])])])),_:1})):C("",!0)])),_:1}),y(i,{gutter:12},{default:x((()=>[y(u,{span:6},{default:x((()=>[g("div",J,[g("div",Q,_(t.$t("contentStat.article")),1),g("div",tt,[g("div",et,_(ae.value.article?.total),1),g("div",at,[y(l,null,{default:x((()=>[y(b(k))])),_:1})])]),g("div",lt,[g("div",null,_(t.$t("contentStat.last7day")),1),g("div",null,_(ae.value.article?.last7day),1)])])])),_:1}),y(u,{span:6},{default:x((()=>[g("div",st,[g("div",nt,_(t.$t("contentStat.channel")),1),g("div",ut,[g("div",it,_(ae.value.channel?.total),1),g("div",rt,[y(l,null,{default:x((()=>[y(b($))])),_:1})])]),g("div",dt,[g("div",null,_(t.$t("contentStat.last7day")),1),g("div",null,_(ae.value.channel?.last7day),1)])])])),_:1}),y(u,{span:6},{default:x((()=>[g("div",ot,[g("div",ct,_(t.$t("contentStat.user")),1),g("div",vt,[g("div",pt,_(ae.value.user?.total),1),g("div",ft,[y(l,null,{default:x((()=>[y(b(j))])),_:1})])]),g("div",yt,[g("div",null,_(t.$t("contentStat.last7day")),1),g("div",null,_(ae.value.user?.last7day),1)])])])),_:1}),y(u,{span:6},{default:x((()=>[g("div",xt,[g("div",mt,_(t.$t("contentStat.attachment")),1),g("div",gt,[g("div",bt,_(ae.value.attachment?.total),1),g("div",wt,[y(l,null,{default:x((()=>[y(b(S))])),_:1})])]),g("div",ht,[g("div",null,_(t.$t("contentStat.last7day")),1),g("div",null,_(ae.value.attachment?.last7day),1)])])])),_:1})])),_:1}),g("div",_t,[g("div",{ref_key:"trendChart",ref:Jt,class:"h-64"},null,512)]),y(i,{gutter:12},{default:x((()=>[y(u,{span:12},{default:x((()=>[g("div",Ct,[g("div",kt,[g("div",$t,_(t.$t("visitVisitor.newVisitor")),1),g("div",jt,[y(l,{class:"text-5xl"},{default:x((()=>[y(b(Y))])),_:1}),g("span",St,[te.value.uvCount>0?(p(),f("span",Yt,_(t.$n(te.value.proportion??0,"decimal")),1)):(p(),f("span",Dt,"-")),a[10]||(a[10]=h("% "))])]),g("div",Vt,[y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visitVisitor.pv")),1)])),_:1}),y(u,{span:12},{default:x((()=>[h(_(te.value.pvCount),1)])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visitVisitor.uv")),1)])),_:1}),y(u,{span:12},{default:x((()=>[h(_(te.value.uvCount),1)])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visit.bounceRate")),1)])),_:1}),y(u,{span:12},{default:x((()=>[te.value.uvCount>0?(p(),f("span",qt,_(t.$n(100*te.value.bounceCount/te.value.uvCount,"decimal"))+"%",1)):(p(),f("span",Mt,"-"))])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visit.averageDuration")),1)])),_:1}),y(u,{span:12},{default:x((()=>[te.value.uvCount>0?(p(),f("span",Rt,_(b(s).duration(te.value.duration/te.value.uvCount,"seconds").format("HH:mm:ss")),1)):(p(),f("span",At,"-"))])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visit.averagePv")),1)])),_:1}),y(u,{span:12},{default:x((()=>[te.value.uvCount>0?(p(),f("span",Nt,_(t.$n(te.value.pvCount/te.value.uvCount,"decimal")),1)):(p(),f("span",Ot,"-"))])),_:1})])),_:1})])]),g("div",Pt,[g("div",Tt,_(t.$t("visitVisitor.oldVisitor")),1),g("div",zt,[y(l,{class:"text-5xl"},{default:x((()=>[y(b(Y))])),_:1}),g("span",Lt,[ee.value.uvCount>0?(p(),f("span",Bt,_(t.$n(ee.value.proportion??0,"decimal")),1)):(p(),f("span",Ht,"-")),a[11]||(a[11]=h("% "))])]),g("div",Ft,[y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visitVisitor.pv")),1)])),_:1}),y(u,{span:12},{default:x((()=>[h(_(ee.value.pvCount),1)])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visitVisitor.uv")),1)])),_:1}),y(u,{span:12},{default:x((()=>[h(_(ee.value.uvCount),1)])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visit.bounceRate")),1)])),_:1}),y(u,{span:12},{default:x((()=>[ee.value.uvCount>0?(p(),f("span",It,_(t.$n(100*ee.value.bounceCount/ee.value.uvCount,"decimal"))+"%",1)):(p(),f("span",Wt,"-"))])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visit.averageDuration")),1)])),_:1}),y(u,{span:12},{default:x((()=>[ee.value.uvCount>0?(p(),f("span",Et,_(b(s).duration(ee.value.duration/ee.value.uvCount,"seconds").format("HH:mm:ss")),1)):(p(),f("span",Gt,"-"))])),_:1})])),_:1}),y(i,{gutter:24},{default:x((()=>[y(u,{span:12,class:"text-right"},{default:x((()=>[h(_(t.$t("visit.averagePv")),1)])),_:1}),y(u,{span:12},{default:x((()=>[ee.value.uvCount>0?(p(),f("span",Kt,_(t.$n(ee.value.pvCount/ee.value.uvCount,"decimal")),1)):(p(),f("span",Ut,"-"))])),_:1})])),_:1})])])])])),_:1}),y(u,{span:12},{default:x((()=>[g("div",Xt,[g("div",{ref_key:"sourceTypeChart",ref:Qt,class:"w-full h-64"},null,512)])])),_:1})])),_:1})])}}}))}}}));
