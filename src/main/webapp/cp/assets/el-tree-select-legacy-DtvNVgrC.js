System.register(["./el-select-legacy-BR_8Webd.js","./el-tree-legacy-DXZLVg4P.js","./index-legacy-Dn378GZk.js"],(function(e,t){"use strict";var l,o,a,n,c,r,s,d,i,u,p,h,v,f,k,y,C,m,g,b,x,N,K,_,E,O,V;return{setters:[e=>{l=e.E,o=e.a,a=e.s},e=>{n=e.E},e=>{c=e.ap,r=e.B,s=e.bt,d=e.ar,i=e.eH,u=e.A,p=e.af,h=e.d,v=e.cj,f=e.at,k=e.cG,y=e.eA,C=e.cl,m=e.eI,g=e.eJ,b=e.bN,x=e.cf,N=e.al,K=e.r,_=e.cr,E=e.o,O=e.bP,V=e.aI}],execute:function(){var t=document.createElement("style");t.textContent=".el-tree-select{--el-tree-node-content-height:26px;--el-tree-node-hover-bg-color:var(--el-fill-color-light);--el-tree-text-color:var(--el-text-color-regular);--el-tree-expand-icon-color:var(--el-text-color-placeholder)}.el-tree-select__popper .el-tree-node__expand-icon{margin-left:8px}.el-tree-select__popper .el-tree-node.is-checked>.el-tree-node__content .el-select-dropdown__item.selected:after{content:none}.el-tree-select__popper .el-select-dropdown__list>.el-select-dropdown__item{padding-left:32px}.el-tree-select__popper .el-select-dropdown__item{background:transparent!important;flex:1;height:20px;line-height:20px;padding-left:0}\n/*$vite$:1*/",document.head.appendChild(t);const w=h({extends:o,setup(e,t){const l=o.setup(e,t);delete l.selectOptionClick;const a=v().proxy;return s((()=>{l.select.states.cachedOptions.get(a.value)||l.select.onOptionCreate(a)})),r((()=>t.attrs.visible),(e=>{l.states.visible=e}),{immediate:!0}),l},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function A(e){return e||0===e}function S(e){return f(e)&&e.length}function j(e){return f(e)?e:A(e)?[e]:[]}function M(e,t,l,o,a){for(let n=0;n<e.length;n++){const c=e[n];if(t(c,n,e,a))return o?o(c,n,e,a):c;{const e=l(c);if(S(e)){const a=M(e,t,l,o,c);if(a)return a}}}}function H(e,t,l,o){for(let a=0;a<e.length;a++){const n=e[a];t(n,a,e,o);const c=l(n);S(c)&&H(c,t,l,n)}}var L=h({props:{data:{type:Array,default:()=>[]}},setup(e){const t=b(a);return r((()=>e.data),(()=>{var l;e.data.forEach((e=>{t.states.cachedOptions.has(e.value)||t.states.cachedOptions.set(e.value,e)}));const o=(null==(l=t.selectRef)?void 0:l.querySelectorAll("input"))||[];x&&!Array.from(o).includes(document.activeElement)&&t.setSelected()}),{flush:"post",immediate:!0}),()=>{}}});const D=h({name:"ElTreeSelect",inheritAttrs:!1,props:{...l.props,...n.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:o,expose:a}=t,h=K(),v=K(),f=d((()=>e.nodeKey||e.valueKey||"value")),b=((e,{attrs:t,emit:o},{select:a,tree:n,key:h})=>{const v=c("tree-select");return r((()=>e.data),(()=>{e.filterable&&s((()=>{var e,t;null==(t=n.value)||t.filter(null==(e=a.value)?void 0:e.states.inputValue)}))}),{flush:"post"}),{...i(u(e),Object.keys(l.props)),...t,"onUpdate:modelValue":e=>o(p,e),valueKey:h,popperClass:d((()=>{const t=[v.e("popper")];return e.popperClass&&t.push(e.popperClass),t.join(" ")})),filterMethod:(t="")=>{var l;e.filterMethod?e.filterMethod(t):e.remoteMethod?e.remoteMethod(t):null==(l=n.value)||l.filter(t)}}})(e,t,{select:h,tree:v,key:f}),{cacheOptions:x,...N}=((e,{attrs:t,slots:l,emit:o},{select:a,tree:c,key:h})=>{r((()=>e.modelValue),(()=>{e.showCheckbox&&s((()=>{const t=c.value;t&&!k(t.getCheckedKeys(),j(e.modelValue))&&t.setCheckedKeys(j(e.modelValue))}))}),{immediate:!0,deep:!0});const v=d((()=>({value:h.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props}))),f=(e,t)=>{var l;const o=v.value[e];return y(o)?o(t,null==(l=c.value)?void 0:l.getNode(f("value",t))):t[o]},b=j(e.modelValue).map((t=>M(e.data||[],(e=>f("value",e)===t),(e=>f("children",e)),((e,t,l,o)=>o&&f("value",o))))).filter((e=>A(e))),x=d((()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const t=[];return H(e.data.concat(e.cacheData),(e=>{const l=f("value",e);t.push({value:l,currentLabel:f("label",e),isDisabled:f("disabled",e)})}),(e=>f("children",e))),t})),N=()=>{var e;return null==(e=c.value)?void 0:e.getCheckedKeys().filter((e=>{var t;const l=null==(t=c.value)?void 0:t.getNode(e);return!C(l)&&m(l.childNodes)}))};return{...i(u(e),Object.keys(n.props)),...t,nodeKey:h,expandOnClickNode:d((()=>!e.checkStrictly&&e.expandOnClickNode)),defaultExpandedKeys:d((()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(b):b)),renderContent:(t,{node:o,data:a,store:n})=>t(w,{value:f("value",a),label:f("label",a),disabled:f("disabled",a),visible:o.visible},e.renderContent?()=>e.renderContent(t,{node:o,data:a,store:n}):l.default?()=>l.default({node:o,data:a,store:n}):void 0),filterNodeMethod:(t,l,o)=>e.filterNodeMethod?e.filterNodeMethod(t,l,o):!t||new RegExp(g(t),"i").test(f("label",l)||""),onNodeClick:(l,o,n)=>{var c,r,s,d;if(null==(c=t.onNodeClick)||c.call(t,l,o,n),!e.showCheckbox||!e.checkOnClickNode){if(e.showCheckbox||!e.checkStrictly&&!o.isLeaf)e.expandOnClickNode&&n.proxy.handleExpandIconClick();else if(!f("disabled",l)){const e=null==(r=a.value)?void 0:r.states.options.get(f("value",l));null==(s=a.value)||s.handleOptionSelect(e)}null==(d=a.value)||d.focus()}},onCheck:(l,n)=>{var r;if(!e.showCheckbox)return;const d=f("value",l),i={};H([c.value.store.root],(e=>i[e.key]=e),(e=>e.childNodes));const u=n.checkedKeys,h=e.multiple?j(e.modelValue).filter((e=>!(e in i)&&!u.includes(e))):[],v=h.concat(u);if(e.checkStrictly)o(p,e.multiple?v:v.includes(d)?d:void 0);else if(e.multiple){const e=N();o(p,h.concat(e))}else{const t=M([l],(e=>!S(f("children",e))&&!f("disabled",e)),(e=>f("children",e))),a=t?f("value",t):void 0,n=A(e.modelValue)&&!!M([l],(t=>f("value",t)===e.modelValue),(e=>f("children",e)));o(p,a===e.modelValue||n?void 0:a)}s((()=>{var o;const a=j(e.modelValue);c.value.setCheckedKeys(a),null==(o=t.onCheck)||o.call(t,l,{checkedKeys:c.value.getCheckedKeys(),checkedNodes:c.value.getCheckedNodes(),halfCheckedKeys:c.value.getHalfCheckedKeys(),halfCheckedNodes:c.value.getHalfCheckedNodes()})})),null==(r=a.value)||r.focus()},onNodeExpand:(l,a,n)=>{var r;null==(r=t.onNodeExpand)||r.call(t,l,a,n),s((()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&a.checked){const t={},l=c.value.getCheckedKeys();H([c.value.store.root],(e=>t[e.key]=e),(e=>e.childNodes));const a=j(e.modelValue).filter((e=>!(e in t)&&!l.includes(e))),n=N();o(p,a.concat(n))}}))},cacheOptions:x}})(e,t,{select:h,tree:v,key:f}),V=_({});return a(V),E((()=>{Object.assign(V,{...i(v.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...i(h.value,["focus","blur"])})})),()=>O(l,_({...b,ref:e=>h.value=e}),{...o,default:()=>[O(L,{data:x.value}),O(n,_({...N,ref:e=>v.value=e}))]})}});e("E",V(N(D,[["__file","tree-select.vue"]])))}}}));
