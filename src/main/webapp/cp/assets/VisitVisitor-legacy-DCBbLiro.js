System.register(["./index-legacy-Dn378GZk.js","./el-radio-group-legacy-Bo0xKR1q.js","./el-radio-button-legacy-C-wGwFOO.js","./duration-legacy-Cq6YcfyS.js","./stat-legacy-dUcu6DZw.js"],(function(t,a){"use strict";var e,u,s,l,n,v,r,o,i,d,c,p,f,y,m,_,C,g,x,Y,b,k;return{setters:[t=>{e=t.d,u=t.X,s=t.r,l=t.o,n=t.b,v=t.P,r=t.l,o=t.h,i=t.w,d=t.aF,c=t.aG,p=t.v,f=t.x,y=t.k,m=t.aa,_=t.a3,C=t.a2,g=t.a6},t=>{x=t.b,Y=t.E},null,t=>{b=t.d},t=>{k=t.b}],execute:function(){const a={class:"p-3 mt-3 app-block"},$={class:"flex p-3 mt-3 justify-evenly app-block"},D={class:"h-64 w-60 text-primary"},h={class:"mt-2 text-center"},V={class:"flex items-center justify-center mt-2"},M={class:"text-3xl"},j={key:0},w={key:1},H={class:"mt-4 space-y-2 text-sm"},N={key:0},P={key:1},R={key:0},A={key:1},B={key:0},E={key:1},F={class:"h-64 w-60 text-gray-secondary"},G={class:"mt-2 text-center"},I={class:"flex items-center justify-center mt-2"},S={class:"text-3xl"},U={key:0},X={key:1},q={class:"mt-4 space-y-2 text-sm"},z={key:0},J={key:1},K={key:0},L={key:1},O={key:0},Q={key:1};t("default",e({__name:"VisitVisitor",setup(t){u.extend(b);const e=s("last30day"),T=t=>{switch(t){case"today":return u().format("YYYY-MM-DD");case"yesterday":return u().subtract(1,"day").format("YYYY-MM-DD");case"last7day":return u().subtract(6,"day").format("YYYY-MM-DD");case"last30day":return u().subtract(29,"day").format("YYYY-MM-DD");case"lastYear":return u().subtract(1,"year").format("YYYY-MM-DD");default:return}},W=t=>"yesterday"===t?u().subtract(1,"day").format("YYYY-MM-DD"):u().format("YYYY-MM-DD"),Z=s({}),tt=s({}),at=async t=>{const a=await k({begin:T(t),end:W(t)});Z.value=a.newVisitor,tt.value=a.oldVisitor,Z.value.pvCount=Number(Z.value.pvCount),tt.value.pvCount=Number(tt.value.pvCount),Z.value.uvCount=Number(Z.value.uvCount),tt.value.uvCount=Number(tt.value.uvCount);const e=Z.value.uvCount+tt.value.uvCount;e>0?(Z.value.proportion=100*Z.value.uvCount/e,tt.value.proportion=100*tt.value.uvCount/e):(Z.value.proportion=50,tt.value.proportion=50)};return l((async()=>{at(e.value)})),(t,s)=>{const l=x,b=Y,k=_,T=C,W=g;return n(),v("div",null,[r("div",a,[r("div",null,[o(b,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value=t),onChange:s[1]||(s[1]=t=>at(t))},{default:i((()=>[(n(),v(d,null,c(["today","yesterday","last7day","last30day","lastYear","all"],(a=>o(l,{key:a,value:a},{default:i((()=>[p(f(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),r("div",$,[r("div",D,[r("div",h,f(t.$t("visitVisitor.newVisitor")),1),r("div",V,[o(k,{class:"text-5xl"},{default:i((()=>[o(y(m))])),_:1}),r("span",M,[Z.value.uvCount>0?(n(),v("span",j,f(t.$n(Z.value.proportion??0,"decimal")),1)):(n(),v("span",w,"0")),s[2]||(s[2]=p("% "))])]),r("div",H,[o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.pv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(Z.value.pvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.uv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(Z.value.uvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.bounceRate")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),v("span",N,f(t.$n(100*Z.value.bounceCount/Z.value.uvCount,"decimal"))+"%",1)):(n(),v("span",P,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averageDuration")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),v("span",R,f(y(u).duration(Z.value.duration/Z.value.uvCount,"seconds").format("HH:mm:ss")),1)):(n(),v("span",A,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averagePv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),v("span",B,f(t.$n(Z.value.pvCount/Z.value.uvCount,"decimal")),1)):(n(),v("span",E,"-"))])),_:1})])),_:1})])]),r("div",F,[r("div",G,f(t.$t("visitVisitor.oldVisitor")),1),r("div",I,[o(k,{class:"text-5xl"},{default:i((()=>[o(y(m))])),_:1}),r("span",S,[tt.value.uvCount>0?(n(),v("span",U,f(t.$n(tt.value.proportion??0,"decimal")),1)):(n(),v("span",X,"0")),s[3]||(s[3]=p("% "))])]),r("div",q,[o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.pv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(tt.value.pvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.uv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(tt.value.uvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.bounceRate")),1)])),_:1}),o(T,{span:12},{default:i((()=>[tt.value.uvCount>0?(n(),v("span",z,f(t.$n(100*tt.value.bounceCount/tt.value.uvCount,"decimal"))+"%",1)):(n(),v("span",J,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averageDuration")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),v("span",K,f(y(u).duration(tt.value.duration/tt.value.uvCount,"seconds").format("HH:mm:ss")),1)):(n(),v("span",L,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averagePv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[tt.value.uvCount>0?(n(),v("span",O,f(t.$n(tt.value.pvCount/tt.value.uvCount,"decimal")),1)):(n(),v("span",Q,"-"))])),_:1})])),_:1})])])])])])}}}))}}}));
