import{ab as Ho,ac as Ka,ad as lr,ae as vr,af as Ti,ag as Yo,ah as Ko,ai as Go,aj as Qo,ak as ra,al as Xo,d as wt,am as Zo,an as Jo,ao as el,ap as tl,r as q,aq as nl,ar as nt,as as il,at as ur,au as rl,av as al,aw as Ga,o as qi,b as A,c as $,w as d,l as ce,k as E,ax as aa,ay as Wt,h as p,j as Kt,az as sl,aA as Fn,n as sn,aB as ol,aC as Ln,aD as Qa,P as we,a3 as ji,aE as ll,aF as Be,aG as Xe,v as U,x as P,aH as Pr,aI as ul,aJ as cl,aK as Xa,aL as dl,aM as Yn,A as oi,X as vt,B as It,aN as pl,e as $i,aO as zi,g as te,y as Za,aP as Nr,aQ as $r,z as Gt,aR as Sn,_ as Mr,u as li,a as Vr,aS as Ja,aT as es,aU as ts,aV as ns,aW as is,aX as fl,aY as rs,aZ as as,t as Bt,a_ as ss,a7 as ml,a$ as os,b0 as hl,b1 as yl,E as Cn,i as fn,m as mn,b2 as vl,b3 as tt,b4 as gl,$ as je,b5 as Re,a6 as bl,a2 as _l,b6 as wl,b7 as sa,f as El,b8 as xl,b9 as Sl,ba as kl,U as gi,bb as oa,bc as Al,bd as Tl,be as Cl,bf as Rl,bg as Dl,bh as Il,I as Pl,bi as Nl,bj as $l,bk as Ml,a5 as Vl,Z as Ll,bl as Bl,bm as Ol,bn as Ul,bo as Fl,bp as ql,bq as jl,br as zl,bs as Wl}from"./index-__TSAjOL.js";import{E as Hl,a as Yl,b as Kl}from"./el-main-CxOwtB5j.js";import{E as Wi,a as Hi,b as ls,c as Gl}from"./el-select-CPBsiljt.js";import{E as us}from"./el-pagination-BCmSIrki.js";import{E as Yi,a as cs,b as ds}from"./el-radio-group-B2Xrve8Z.js";/* empty css                        */import{E as ps}from"./el-popover-B2t_MYt0.js";import{E as fs}from"./el-tree-CZELDHk3.js";import{S as Ql}from"./sortable.esm-DEaZq8gs.js";import{E as Xl,x as Zl,h as Jl,D as cr,f as la,T as eu}from"./TuiEditor-CwuUv08M.js";import{t as ai,d as tu,a as ua,b as nu}from"./tree-CFBn_SXc.js";import{i as iu,f as ru,q as ms,a as au}from"./config-BS48XX7b.js";import{d as Lr,e as su,f as ou,g as ca,h as lu,i as uu,j as cu,k as du,l as pu,r as fu,s as hs,m as ys,u as mu,n as hu,o as vs,p as yu,t as vu,v as gu,w as bu,x as gs,y as bs,z as _s,A as _u,B as wu,C as Eu,D as xu,E as Su,F as ku,G as da}from"./content-BqI55UAh.js";import{E as Au,_ as Tu,a as qe,b as Cu,c as Ru}from"./QueryItem.vue_vue_type_script_setup_true_lang-CDNlcHM_.js";import{d as Du}from"./duration-DvhP3yW3.js";import{q as Iu,a as Pu,b as Nu,v as $u,c as Mu,d as Vu}from"./system--Gl2DLOU.js";import{E as ws}from"./el-tree-select-BM45XKJE.js";/* empty css                 */import{q as Lu,a as Bu,b as Ou,c as Uu}from"./user-Cc_GcFRq.js";import{a as pa,m as fa,g as ma}from"./data-CRNvglzJ.js";import{_ as ha}from"./FieldItem.vue_vue_type_script_setup_true_lang-B_vgS7r5.js";import{_ as Fu}from"./DialogForm.vue_vue_type_script_setup_true_lang-CYMSRniG.js";import{T as qu}from"./Tinymce-DiWOJB96.js";import{I as ju,a as zu}from"./FileListUpload.vue_vue_type_style_index_0_scoped_b3a09e2e_lang-BDXrjCRY.js";import{E as Es}from"./BaseUpload.vue_vue_type_style_index_0_scoped_248c0508_lang-XLXSgCOW.js";import{d as Wu}from"./vuedraggable.umd-BWOm6k_s.js";import{B as ei}from"./BaseUpload-DtBZbJkV.js";import{_ as Hu,a as Yu}from"./BlockItemForm.vue_vue_type_script_setup_true_lang-DWTl79cF.js";import{E as Ku}from"./el-switch-Cg-m0Y0i.js";import"./index-Vcq4gwWv.js";/* empty css                          */import"./position-BrJTBGCI.js";const Gu=Yo({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ra(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ra([Function,Array]),default:Qo},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Go.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Ko(["ariaLabel"])}),Qu={[Ti]:e=>lr(e),[vr]:e=>lr(e),[Ka]:e=>lr(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Ho(e)},xs="ElAutocomplete",Xu=wt({name:xs,inheritAttrs:!1}),Zu=wt({...Xu,props:Gu,emits:Qu,setup(e,{expose:t,emit:n}){const i=e,r=Zo(),a=Jo(),o=el(),u=tl("autocomplete"),c=q(),y=q(),v=q(),x=q();let m=!1,V=!1;const K=q([]),j=q(-1),ne=q(""),D=q(!1),X=q(!1),B=q(!1),b=nl(),k=nt(()=>a.style),I=nt(()=>(K.value.length>0||B.value)&&D.value),S=nt(()=>!i.hideLoading&&B.value),C=nt(()=>c.value?Array.from(c.value.$el.querySelectorAll("input")):[]),M=()=>{I.value&&(ne.value="".concat(c.value.$el.offsetWidth,"px"))},N=()=>{j.value=-1},H=async s=>{if(X.value)return;const l=h=>{B.value=!1,!X.value&&(ur(h)?(K.value=h,j.value=i.highlightFirstItem?0:-1):rl(xs,"autocomplete suggestions must be an array"))};if(B.value=!0,ur(i.fetchSuggestions))l(i.fetchSuggestions);else{const h=await i.fetchSuggestions(s,l);ur(h)&&l(h)}},G=il(H,i.debounce),Z=s=>{const l=!!s;if(n(vr,s),n(Ti,s),X.value=!1,D.value||(D.value=l),!i.triggerOnFocus&&!s){X.value=!0,K.value=[];return}G(s)},ye=s=>{var l;o.value||(((l=s.target)==null?void 0:l.tagName)!=="INPUT"||C.value.includes(document.activeElement))&&(D.value=!0)},pe=s=>{n(Ka,s)},oe=s=>{V?V=!1:(D.value=!0,n("focus",s),i.triggerOnFocus&&!m&&G(String(i.modelValue)))},he=s=>{setTimeout(()=>{var l;if((l=v.value)!=null&&l.isFocusInsideContent()){V=!0;return}D.value&&We(),n("blur",s)})},at=()=>{D.value=!1,n(Ti,""),n("clear")},Ke=async()=>{I.value&&j.value>=0&&j.value<K.value.length?J(K.value[j.value]):i.selectWhenUnmatched&&(n("select",{value:i.modelValue}),K.value=[],j.value=-1)},Ie=s=>{I.value&&(s.preventDefault(),s.stopPropagation(),We())},We=()=>{D.value=!1},F=()=>{var s;(s=c.value)==null||s.focus()},O=()=>{var s;(s=c.value)==null||s.blur()},J=async s=>{n(vr,s[i.valueKey]),n(Ti,s[i.valueKey]),n("select",s),K.value=[],j.value=-1},Te=s=>{if(!I.value||B.value)return;if(s<0){j.value=-1;return}s>=K.value.length&&(s=K.value.length-1);const l=y.value.querySelector(".".concat(u.be("suggestion","wrap"))),_=l.querySelectorAll(".".concat(u.be("suggestion","list")," li"))[s],L=l.scrollTop,{offsetTop:re,scrollHeight:ie}=_;re+ie>L+l.clientHeight&&(l.scrollTop+=ie),re<L&&(l.scrollTop-=ie),j.value=s,c.value.ref.setAttribute("aria-activedescendant","".concat(b.value,"-item-").concat(j.value))},f=al(x,()=>{I.value&&We()});return Ga(()=>{f==null||f()}),qi(()=>{c.value.ref.setAttribute("role","textbox"),c.value.ref.setAttribute("aria-autocomplete","list"),c.value.ref.setAttribute("aria-controls","id"),c.value.ref.setAttribute("aria-activedescendant","".concat(b.value,"-item-").concat(j.value)),m=c.value.ref.hasAttribute("readonly")}),t({highlightedIndex:j,activated:D,loading:B,inputRef:c,popperRef:v,suggestions:K,handleSelect:J,handleKeyEnter:Ke,focus:F,blur:O,close:We,highlight:Te,getData:H}),(s,l)=>(A(),$(E(Pr),{ref_key:"popperRef",ref:v,visible:E(I),placement:s.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[E(u).e("popper"),s.popperClass],teleported:s.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:"".concat(E(u).namespace.value,"-zoom-in-top"),persistent:"",role:"listbox",onBeforeShow:M,onHide:N},{content:d(()=>[ce("div",{ref_key:"regionRef",ref:y,class:Wt([E(u).b("suggestion"),E(u).is("loading",E(S))]),style:aa({[s.fitInputWidth?"width":"minWidth"]:ne.value,outline:"none"}),role:"region"},[p(E(Qa),{id:E(b),tag:"ul","wrap-class":E(u).be("suggestion","wrap"),"view-class":E(u).be("suggestion","list"),role:"listbox"},{default:d(()=>[E(S)?(A(),we("li",{key:0},[Ln(s.$slots,"loading",{},()=>[p(E(ji),{class:Wt(E(u).is("loading"))},{default:d(()=>[p(E(ll))]),_:1},8,["class"])])])):(A(!0),we(Be,{key:1},Xe(K.value,(h,_)=>(A(),we("li",{id:"".concat(E(b),"-item-").concat(_),key:_,class:Wt({highlighted:j.value===_}),role:"option","aria-selected":j.value===_,onClick:L=>J(h)},[Ln(s.$slots,"default",{item:h},()=>[U(P(h[s.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:d(()=>[ce("div",{ref_key:"listboxRef",ref:x,class:Wt([E(u).b(),s.$attrs.class]),style:aa(E(k)),role:"combobox","aria-haspopup":"listbox","aria-expanded":E(I),"aria-owns":E(b)},[p(E(Kt),sl({ref_key:"inputRef",ref:c},E(r),{clearable:s.clearable,disabled:E(o),name:s.name,"model-value":s.modelValue,"aria-label":s.ariaLabel,onInput:Z,onChange:pe,onFocus:oe,onBlur:he,onClear:at,onKeydown:[Fn(sn(h=>Te(j.value-1),["prevent"]),["up"]),Fn(sn(h=>Te(j.value+1),["prevent"]),["down"]),Fn(Ke,["enter"]),Fn(We,["tab"]),Fn(Ie,["esc"])],onMousedown:ye}),ol({_:2},[s.$slots.prepend?{name:"prepend",fn:d(()=>[Ln(s.$slots,"prepend")])}:void 0,s.$slots.append?{name:"append",fn:d(()=>[Ln(s.$slots,"append")])}:void 0,s.$slots.prefix?{name:"prefix",fn:d(()=>[Ln(s.$slots,"prefix")])}:void 0,s.$slots.suffix?{name:"suffix",fn:d(()=>[Ln(s.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Ju=Xo(Zu,[["__file","autocomplete.vue"]]);const ec=ul(Ju);var ge;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(ge||(ge={}));var W;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(W||(W={}));function zt(e){return e===ge.Space||e===ge.NewLine||e===ge.Tab||e===ge.FormFeed||e===ge.CarriageReturn}function bi(e){return e===ge.Slash||e===ge.Gt||zt(e)}function tc(e){return e>=ge.LowerA&&e<=ge.LowerZ||e>=ge.UpperA&&e<=ge.UpperZ}var Ot;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Ot||(Ot={}));const st={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class nc{constructor({xmlMode:t=!1,decodeEntities:n=!0},i){this.cbs=i,this.state=W.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=W.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new Xl(t?Zl:Jl,(r,a)=>this.emitCodePoint(r,a))}reset(){this.state=W.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=W.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===ge.Lt||!this.decodeEntities&&this.fastForwardTo(ge.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=W.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===ge.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?bi(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=W.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===ge.Gt||zt(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===st.TitleEnd?this.decodeEntities&&t===ge.Amp&&this.startEntity():this.fastForwardTo(ge.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===ge.Lt)}stateCDATASequence(t){t===st.Cdata[this.sequenceIndex]?++this.sequenceIndex===st.Cdata.length&&(this.state=W.InCommentLike,this.currentSequence=st.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=W.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===st.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=W.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!bi(t):tc(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=W.SpecialStartSequence}stateBeforeTagName(t){if(t===ge.ExclamationMark)this.state=W.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===ge.Questionmark)this.state=W.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=W.InTagName:n===st.ScriptEnd[2]?this.state=W.BeforeSpecialS:n===st.TitleEnd[2]?this.state=W.BeforeSpecialT:this.state=W.InTagName}else t===ge.Slash?this.state=W.BeforeClosingTagName:(this.state=W.Text,this.stateText(t))}stateInTagName(t){bi(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){zt(t)||(t===ge.Gt?this.state=W.Text:(this.state=this.isTagStartChar(t)?W.InClosingTagName:W.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===ge.Gt||zt(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=W.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===ge.Gt||this.fastForwardTo(ge.Gt))&&(this.state=W.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===ge.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=W.InSpecialTag,this.sequenceIndex=0):this.state=W.Text,this.sectionStart=this.index+1):t===ge.Slash?this.state=W.InSelfClosingTag:zt(t)||(this.state=W.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===ge.Gt?(this.cbs.onselfclosingtag(this.index),this.state=W.Text,this.sectionStart=this.index+1,this.isSpecial=!1):zt(t)||(this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===ge.Eq||bi(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=W.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===ge.Eq?this.state=W.BeforeAttributeValue:t===ge.Slash||t===ge.Gt?(this.cbs.onattribend(Ot.NoValue,this.sectionStart),this.sectionStart=-1,this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(t)):zt(t)||(this.cbs.onattribend(Ot.NoValue,this.sectionStart),this.state=W.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===ge.DoubleQuote?(this.state=W.InAttributeValueDq,this.sectionStart=this.index+1):t===ge.SingleQuote?(this.state=W.InAttributeValueSq,this.sectionStart=this.index+1):zt(t)||(this.sectionStart=this.index,this.state=W.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===ge.DoubleQuote?Ot.Double:Ot.Single,this.index+1),this.state=W.BeforeAttributeName):this.decodeEntities&&t===ge.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,ge.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,ge.SingleQuote)}stateInAttributeValueNoQuotes(t){zt(t)||t===ge.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ot.Unquoted,this.index),this.state=W.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===ge.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===ge.OpeningSquareBracket?(this.state=W.CDATASequence,this.sequenceIndex=0):this.state=t===ge.Dash?W.BeforeComment:W.InDeclaration}stateInDeclaration(t){(t===ge.Gt||this.fastForwardTo(ge.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=W.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===ge.Gt||this.fastForwardTo(ge.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=W.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===ge.Dash?(this.state=W.InCommentLike,this.currentSequence=st.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=W.InDeclaration}stateInSpecialComment(t){(t===ge.Gt||this.fastForwardTo(ge.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=W.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===st.ScriptEnd[3]?this.startSpecial(st.ScriptEnd,4):n===st.StyleEnd[3]?this.startSpecial(st.StyleEnd,4):(this.state=W.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){const n=t|32;n===st.TitleEnd[3]?this.startSpecial(st.TitleEnd,4):n===st.TextareaEnd[3]?this.startSpecial(st.TextareaEnd,4):(this.state=W.InTagName,this.stateInTagName(t))}startEntity(){this.baseState=this.state,this.state=W.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?cr.Strict:this.baseState===W.Text||this.baseState===W.InSpecialTag?cr.Legacy:cr.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===W.Text||this.state===W.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===W.InAttributeValueDq||this.state===W.InAttributeValueSq||this.state===W.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case W.Text:{this.stateText(t);break}case W.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case W.InSpecialTag:{this.stateInSpecialTag(t);break}case W.CDATASequence:{this.stateCDATASequence(t);break}case W.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case W.InAttributeName:{this.stateInAttributeName(t);break}case W.InCommentLike:{this.stateInCommentLike(t);break}case W.InSpecialComment:{this.stateInSpecialComment(t);break}case W.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case W.InTagName:{this.stateInTagName(t);break}case W.InClosingTagName:{this.stateInClosingTagName(t);break}case W.BeforeTagName:{this.stateBeforeTagName(t);break}case W.AfterAttributeName:{this.stateAfterAttributeName(t);break}case W.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case W.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case W.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case W.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case W.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case W.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case W.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case W.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case W.InDeclaration:{this.stateInDeclaration(t);break}case W.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case W.BeforeComment:{this.stateBeforeComment(t);break}case W.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case W.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===W.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===W.InCommentLike?this.currentSequence===st.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===W.InTagName||this.state===W.BeforeAttributeName||this.state===W.BeforeAttributeValue||this.state===W.AfterAttributeName||this.state===W.InAttributeName||this.state===W.InAttributeValueSq||this.state===W.InAttributeValueDq||this.state===W.InAttributeValueNq||this.state===W.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==W.Text&&this.baseState!==W.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}}const Bn=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ve=new Set(["p"]),ya=new Set(["thead","tbody"]),va=new Set(["dd","dt"]),ga=new Set(["rt","rp"]),ic=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ve],["h1",Ve],["h2",Ve],["h3",Ve],["h4",Ve],["h5",Ve],["h6",Ve],["select",Bn],["input",Bn],["output",Bn],["button",Bn],["datalist",Bn],["textarea",Bn],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",va],["dt",va],["address",Ve],["article",Ve],["aside",Ve],["blockquote",Ve],["details",Ve],["div",Ve],["dl",Ve],["fieldset",Ve],["figcaption",Ve],["figure",Ve],["footer",Ve],["form",Ve],["header",Ve],["hr",Ve],["main",Ve],["nav",Ve],["ol",Ve],["pre",Ve],["section",Ve],["table",Ve],["ul",Ve],["rt",ga],["rp",ga],["tbody",ya],["tfoot",ya]]),rc=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),ba=new Set(["math","svg"]),_a=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),ac=/\s|\//;let sc=class{constructor(t,n={}){var i,r,a,o,u,c;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t!=null?t:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(i=n.lowerCaseTags)!==null&&i!==void 0?i:this.htmlMode,this.lowerCaseAttributeNames=(r=n.lowerCaseAttributeNames)!==null&&r!==void 0?r:this.htmlMode,this.recognizeSelfClosing=(a=n.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((o=n.Tokenizer)!==null&&o!==void 0?o:nc)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(u=this.cbs).onparserinit)===null||c===void 0||c.call(u,this)}ontext(t,n){var i,r;const a=this.getSlice(t,n);this.endIndex=n-1,(r=(i=this.cbs).ontext)===null||r===void 0||r.call(i,a),this.startIndex=n}ontextentity(t,n){var i,r;this.endIndex=n-1,(r=(i=this.cbs).ontext)===null||r===void 0||r.call(i,la(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&rc.has(t)}onopentagname(t,n){this.endIndex=n;let i=this.getSlice(t,n);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(t){var n,i,r,a;this.openTagStart=this.startIndex,this.tagname=t;const o=this.htmlMode&&ic.get(t);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){const u=this.stack.shift();(i=(n=this.cbs).onclosetag)===null||i===void 0||i.call(n,u,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(ba.has(t)?this.foreignContext.unshift(!0):_a.has(t)&&this.foreignContext.unshift(!1))),(a=(r=this.cbs).onopentagname)===null||a===void 0||a.call(r,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,i;this.startIndex=this.openTagStart,this.attribs&&((i=(n=this.cbs).onopentag)===null||i===void 0||i.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var i,r,a,o,u,c,y,v;this.endIndex=n;let x=this.getSlice(t,n);if(this.lowerCaseTagNames&&(x=x.toLowerCase()),this.htmlMode&&(ba.has(x)||_a.has(x))&&this.foreignContext.shift(),this.isVoidElement(x))this.htmlMode&&x==="br"&&((o=(a=this.cbs).onopentagname)===null||o===void 0||o.call(a,"br"),(c=(u=this.cbs).onopentag)===null||c===void 0||c.call(u,"br",{},!0),(v=(y=this.cbs).onclosetag)===null||v===void 0||v.call(y,"br",!1));else{const m=this.stack.indexOf(x);if(m!==-1)for(let V=0;V<=m;V++){const K=this.stack.shift();(r=(i=this.cbs).onclosetag)===null||r===void 0||r.call(i,K,V!==m)}else this.htmlMode&&x==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,i;const r=this.tagname;this.endOpenTag(t),this.stack[0]===r&&((i=(n=this.cbs).onclosetag)===null||i===void 0||i.call(n,r,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const i=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=la(t)}onattribend(t,n){var i,r;this.endIndex=n,(r=(i=this.cbs).onattribute)===null||r===void 0||r.call(i,this.attribname,this.attribvalue,t===Ot.Double?'"':t===Ot.Single?"'":t===Ot.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(ac);let i=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(t,n){this.endIndex=n;const i=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const r=this.getInstructionName(i);this.cbs.onprocessinginstruction("!".concat(r),"!".concat(i))}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const i=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const r=this.getInstructionName(i);this.cbs.onprocessinginstruction("?".concat(r),"?".concat(i))}this.startIndex=n+1}oncomment(t,n,i){var r,a,o,u;this.endIndex=n,(a=(r=this.cbs).oncomment)===null||a===void 0||a.call(r,this.getSlice(t,n-i)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=n+1}oncdata(t,n,i){var r,a,o,u,c,y,v,x,m,V;this.endIndex=n;const K=this.getSlice(t,n-i);!this.htmlMode||this.options.recognizeCDATA?((a=(r=this.cbs).oncdatastart)===null||a===void 0||a.call(r),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,K),(y=(c=this.cbs).oncdataend)===null||y===void 0||y.call(c)):((x=(v=this.cbs).oncomment)===null||x===void 0||x.call(v,"[CDATA[".concat(K,"]]")),(V=(m=this.cbs).oncommentend)===null||V===void 0||V.call(m)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=0;i<this.stack.length;i++)this.cbs.onclosetag(this.stack[i],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,i,r;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(r=(i=this.cbs).onparserinit)===null||r===void 0||r.call(i,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,n-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,i;if(this.ended){(i=(n=this.cbs).onerror)===null||i===void 0||i.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,i;if(this.ended){(i=(n=this.cbs).onerror)===null||i===void 0||i.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};var De;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(De||(De={}));function oc(e){return e.type===De.Tag||e.type===De.Script||e.type===De.Style}De.Root;De.Text;De.Directive;De.Comment;De.Script;De.Style;De.Tag;De.CDATA;De.Doctype;class Ss{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return Rs(this,t)}}class Br extends Ss{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}let gr=class extends Br{constructor(){super(...arguments),this.type=De.Text}get nodeType(){return 3}};class ks extends Br{constructor(){super(...arguments),this.type=De.Comment}get nodeType(){return 8}}class As extends Br{constructor(t,n){super(n),this.name=t,this.type=De.Directive}get nodeType(){return 1}}class Or extends Ss{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class Ts extends Or{constructor(){super(...arguments),this.type=De.CDATA}get nodeType(){return 4}}class br extends Or{constructor(){super(...arguments),this.type=De.Root}get nodeType(){return 9}}class Cs extends Or{constructor(t,n,i=[],r=t==="script"?De.Script:t==="style"?De.Style:De.Tag){super(i),this.name=t,this.attribs=n,this.type=r}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,i;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(i=this["x-attribsPrefix"])===null||i===void 0?void 0:i[t]}})}}function Ci(e){return oc(e)}function lc(e){return e.type===De.CDATA}function _r(e){return e.type===De.Text}function uc(e){return e.type===De.Comment}function cc(e){return e.type===De.Directive}function dc(e){return e.type===De.Root}function pc(e){return Object.prototype.hasOwnProperty.call(e,"children")}function Rs(e,t=!1){let n;if(_r(e))n=new gr(e.data);else if(uc(e))n=new ks(e.data);else if(Ci(e)){const i=t?dr(e.children):[],r=new Cs(e.name,{...e.attribs},i);i.forEach(a=>a.parent=r),e.namespace!=null&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=r}else if(lc(e)){const i=t?dr(e.children):[],r=new Ts(i);i.forEach(a=>a.parent=r),n=r}else if(dc(e)){const i=t?dr(e.children):[],r=new br(i);i.forEach(a=>a.parent=r),e["x-mode"]&&(r["x-mode"]=e["x-mode"]),n=r}else if(cc(e)){const i=new As(e.name,e.data);e["x-name"]!=null&&(i["x-name"]=e["x-name"],i["x-publicId"]=e["x-publicId"],i["x-systemId"]=e["x-systemId"]),n=i}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function dr(e){const t=e.map(n=>Rs(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const wa={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class fc{constructor(t,n,i){this.dom=[],this.root=new br(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(i=n,n=wa),typeof t=="object"&&(n=t,t=void 0),this.callback=t!=null?t:null,this.options=n!=null?n:wa,this.elementCB=i!=null?i:null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new br(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const i=this.options.xmlMode?De.Tag:void 0,r=new Cs(t,n,void 0,i);this.addNode(r),this.tagStack.push(r)}ontext(t){const{lastNode:n}=this;if(n&&n.type===De.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const i=new gr(t);this.addNode(i),this.lastNode=i}}oncomment(t){if(this.lastNode&&this.lastNode.type===De.Comment){this.lastNode.data+=t;return}const n=new ks(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new gr(""),n=new Ts([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const i=new As(t,n);this.addNode(i)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],i=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),i&&(t.prev=i,i.next=t),t.parent=n,this.lastNode=null}}function Ds(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function mc(e,t,n=!0,i=1/0){return hc(e,Array.isArray(t)?t:[t],n,i)}function hc(e,t,n,i){const r=[],a=[t],o=[0];for(;;){if(o[0]>=a[0].length){if(o.length===1)return r;a.shift(),o.shift();continue}const u=a[0][o[0]++];if(e(u)&&(r.push(u),--i<=0))return r;n&&pc(u)&&u.children.length>0&&(o.unshift(0),a.unshift(u.children))}}const yc={tag_name(e){return typeof e=="function"?t=>Ci(t)&&e(t.name):e==="*"?Ci:t=>Ci(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>_r(t)&&e(t.data):t=>_r(t)&&t.data===e}};function Is(e,t,n=!0,i=1/0){return mc(yc.tag_name(e),t,n,i)}function Ps(e,t){const n=new fc(void 0,t);return new sc(n,t).end(e),n.root}var Ns={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Xa,function(){return function(n,i,r){n=n||{};var a=i.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u(y,v,x,m){return a.fromToBase(y,v,x,m)}r.en.relativeTime=o,a.fromToBase=function(y,v,x,m,V){for(var K,j,ne,D=x.$locale().relativeTime||o,X=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],B=X.length,b=0;b<B;b+=1){var k=X[b];k.d&&(K=m?r(y).diff(x,k.d,!0):x.diff(y,k.d,!0));var I=(n.rounding||Math.round)(Math.abs(K));if(ne=K>0,I<=k.r||!k.r){I<=1&&b>0&&(k=X[b-1]);var S=D[k.l];V&&(I=V(""+I)),j=typeof S=="string"?S.replace("%d",I):S(I,v,k.l,ne);break}}if(v)return j;var C=ne?D.future:D.past;return typeof C=="function"?C(j):C.replace("%s",j)},a.to=function(y,v){return u(y,v,this,!0)},a.from=function(y,v){return u(y,v,this)};var c=function(y){return y.$u?r.utc():r()};a.toNow=function(y){return this.to(c(this),y)},a.fromNow=function(y){return this.from(c(this),y)}}})})(Ns);var vc=Ns.exports;const gc=cl(vc);var bc={exports:{}};(function(e,t){(function(n,i){e.exports=i(dl)})(Xa,function(n){function i(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var r=i(n),a={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,u){return u==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,u){var c=100*o+u;return c<600?"凌晨":c<900?"早上":c<1100?"上午":c<1300?"中午":c<1800?"下午":"晚上"}};return r.default.locale(a,null,!0),a})})(bc);function qt(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}const ui=Object.prototype.toString,_c=Object.prototype.hasOwnProperty;function wr(e){return e===void 0}function qn(e){return e!==void 0}function $s(e){return e==null}function Pt(e){return ui.call(e)==="[object Array]"}function on(e){return ui.call(e)==="[object Object]"}function ln(e){return ui.call(e)==="[object Number]"}function an(e){const t=ui.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"||t==="[object Proxy]"}function Ut(e){return ui.call(e)==="[object String]"}function Rn(e,t){return!$s(e)&&_c.call(e,t)}function Nt(e,t){const n=Ur(t);let i;return se(e,function(r,a){if(n(r,a))return i=r,!1}),i}function wc(e,t){const n=Ur(t);let i=Pt(e)?-1:void 0;return se(e,function(r,a){if(n(r,a))return i=a,!1}),i}function jn(e,t){const n=Ur(t);let i=[];return se(e,function(r,a){n(r,a)&&i.push(r)}),i}function se(e,t){let n,i;if(wr(e))return;const r=Pt(e)?Sc:xc;for(let a in e)if(Rn(e,a)&&(n=e[a],i=t(n,r(a)),i===!1))return n}function zn(e,t,n){return se(e,function(i,r){n=t(n,i,r)}),n}function Ms(e,t){return!!zn(e,function(n,i,r){return n&&t(i,r)},!0)}function Vs(e,t){return!!Nt(e,t)}function Ec(e,t){let n=[];return se(e,function(i,r){n.push(t(i,r))}),n}function Ea(e){return function(t){return Ms(e,function(n,i){return t[i]===n})}}function Ur(e){return an(e)?e:t=>t===e}function xc(e){return e}function Sc(e){return Number(e)}function kc(e,t){let n,i,r,a;function o(x){let m=Date.now(),V=x?0:a+t-m;if(V>0)return u(V);e.apply(r,i),c()}function u(x){n=setTimeout(o,x)}function c(){n&&clearTimeout(n),n=a=i=r=void 0}function y(){n&&o(!0),c()}function v(...x){a=Date.now(),i=x,r=this,n||u(t)}return v.flush=y,v.cancel=c,v}function un(e,t){return e.bind(t)}function de(e,...t){return Object.assign(e,...t)}function Ac(e,t,n){let i=e;return se(t,function(r,a){if(typeof r!="number"&&typeof r!="string")throw new Error("illegal key type: "+typeof r+". Key should be of type number or string.");if(r==="constructor")throw new Error("illegal key: constructor");if(r==="__proto__")throw new Error("illegal key: __proto__");let o=t[a+1],u=i[r];qn(o)&&$s(u)&&(u=i[r]=isNaN(+o)?{}:[]),wr(o)?wr(n)?delete i[r]:i[r]=n:i=u}),e}function Tc(e,t){let n={},i=Object(e);return se(t,function(r){r in i&&(n[r]=e[r])}),n}function Cc(e,t){let n={},i=Object(e);return se(i,function(r,a){t.indexOf(a)===-1&&(n[a]=r)}),n}var Rc=1e3;function Qt(e,t){var n=this;t=t||Rc,e.on(["render.shape","render.connection"],t,function(i,r){var a=i.type,o=r.element,u=r.gfx,c=r.attrs;if(n.canRender(o))return a==="render.shape"?n.drawShape(u,o,c):n.drawConnection(u,o,c)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(i,r){if(n.canRender(r))return i.type==="render.getShapePath"?n.getShapePath(r):n.getConnectionPath(r)})}Qt.prototype.canRender=function(e){};Qt.prototype.drawShape=function(e,t){};Qt.prototype.drawConnection=function(e,t){};Qt.prototype.getShapePath=function(e){};Qt.prototype.getConnectionPath=function(e){};function le(e,t){var n=ze(e);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(t)}function Mi(e,t){return Vs(t,function(n){return le(e,n)})}function ze(e){return e&&e.businessObject||e}function kn(e){return e&&e.di}function xn(e,t){return le(e,"bpmn:CallActivity")?!1:le(e,"bpmn:SubProcess")?(t=t||kn(e),t&&le(t,"bpmndi:BPMNPlane")?!0:t&&!!t.isExpanded):le(e,"bpmn:Participant")?!!ze(e).processRef:!0}function xa(e){if(!(!le(e,"bpmn:Participant")&&!le(e,"bpmn:Lane"))){var t=kn(e).isHorizontal;return t===void 0?!0:t}}function Dc(e){return e&&!!ze(e).triggeredByEvent}function Ic(e){return on(e)&&Rn(e,"waypoints")}function Ls(e){return on(e)&&Rn(e,"labelTarget")}var Vi={width:90,height:20},Sa=15;function Pc(e){return le(e,"bpmn:Event")||le(e,"bpmn:Gateway")||le(e,"bpmn:DataStoreReference")||le(e,"bpmn:DataObjectReference")||le(e,"bpmn:DataInput")||le(e,"bpmn:DataOutput")||le(e,"bpmn:SequenceFlow")||le(e,"bpmn:MessageFlow")||le(e,"bpmn:Group")}function Nc(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)],r=$c(e),a=Math.atan((i.y-n.y)/(i.x-n.x)),o=r.x,u=r.y;return Math.abs(a)<Math.PI/2?u-=Sa:o+=Sa,{x:o,y:u}}function $c(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}function Mc(e){return e.waypoints?Nc(e.waypoints):le(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+Vi.height/2}:{x:e.x+e.width/2,y:e.y+e.height+Vi.height/2}}function Vc(e,t){var n,i,r,a=e.label;return a&&a.bounds?(r=a.bounds,i={width:Math.max(Vi.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=Mc(t),i=Vi),de({x:n.x-i.width/2,y:n.y-i.height/2},i)}function Lc(e){if(le(e,"bpmn:FlowElement")||le(e,"bpmn:Participant")||le(e,"bpmn:Lane")||le(e,"bpmn:SequenceFlow")||le(e,"bpmn:MessageFlow")||le(e,"bpmn:DataInput")||le(e,"bpmn:DataOutput"))return"name";if(le(e,"bpmn:TextAnnotation"))return"text";if(le(e,"bpmn:Group"))return"categoryValueRef"}function Bc(e){var t=e.categoryValueRef;return t&&t.value||""}function Li(e){var t=e.businessObject,n=Lc(t);if(n)return n==="categoryValueRef"?Bc(t):t[n]||""}function Oc(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(n){}return e}function Uc(e,t){return t.appendChild(Oc(e,t))}function He(e,t){return Uc(t,e),e}var Er=2,Bs={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Er,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Er,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Fc(e,t){return Bs[t]?e.style[t]:e.getAttributeNS(null,t)}function Os(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Bs[i];r?(r===Er&&typeof n=="number"&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function qc(e,t){var n=Object.keys(t),i,r;for(i=0,r;r=n[i];i++)Os(e,r,t[r])}function Ae(e,t,n){if(typeof t=="string")if(n!==void 0)Os(e,t,n);else return Fc(e,t);else qc(e,t);return e}const jc=Object.prototype.toString;function Tt(e){return new cn(e)}function cn(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}cn.prototype.add=function(e){return this.list.add(e),this};cn.prototype.remove=function(e){return jc.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};cn.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this};cn.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};cn.prototype.array=function(){return Array.from(this.list)};cn.prototype.has=cn.prototype.contains=function(e){return this.list.contains(e)};function zc(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}var Fr={svg:"http://www.w3.org/2000/svg"},ka='<svg xmlns="'+Fr.svg+'"';function Wc(e){var t=!1;e.substring(0,4)==="<svg"?e.indexOf(Fr.svg)===-1&&(e=ka+e.substring(4)):(e=ka+">"+e+"</svg>",t=!0);var n=Hc(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function Hc(e){var t;return t=new DOMParser,t.async=!1,t.parseFromString(e,"text/xml")}function Ce(e,t){var n;return e=e.trim(),e.charAt(0)==="<"?(n=Wc(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Fr.svg,e),t&&Ae(n,t),n}var pr=null;function Us(){return pr===null&&(pr=Ce("svg")),pr}function Aa(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}function Yc(e,t,n,i,r,a){var o=Us().createSVGMatrix();switch(arguments.length){case 0:return o;case 1:return Aa(o,e);case 6:return Aa(o,{a:e,b:t,c:n,d:i,e:r,f:a})}}function ii(e){return Us().createSVGTransform()}var Ta=/([&<>]{1})/g,Kc=/([&<>\n\r"]{1})/g,Gc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function fr(e,t){function n(i,r){return Gc[r]||r}return e.replace(t,n)}function Fs(e,t){var n,i,r,a,o;switch(e.nodeType){case 3:t.push(fr(e.textContent,Ta));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(r=e.attributes,n=0,i=r.length;n<i;++n)a=r.item(n),t.push(" ",a.name,'="',fr(a.value,Kc),'"');if(e.hasChildNodes()){for(t.push(">"),o=e.childNodes,n=0,i=o.length;n<i;++n)Fs(o.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("<!--",fr(e.nodeValue,Ta),"-->");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function Qc(e){for(var t=e.firstChild,n=[];t;)Fs(t,n),t=t.nextSibling;return n.join("")}function Ca(e,t){return Qc(e)}function ci(e){var t=e.parentNode;return t&&t.removeChild(e),e}function Xc(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function Zc(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(Xc(e,i))}function si(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),Zc(n,t)),n.consolidate()}function Dn(e){return e.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function Jc(e){return["M",e.x,e.y]}function mr(e){return["L",e.x,e.y]}function ed(e,t,n){return["C",e.x,e.y,t.x,t.y,n.x,n.y]}function td(e,t){const n=e.length,i=[Jc(e[0])];for(let r=1;r<n;r++){const a=e[r-1],o=e[r],u=e[r+1];if(!u||!t){i.push(mr(o));continue}const c=Math.min(t,xr(o.x-a.x,o.y-a.y),xr(u.x-o.x,u.y-o.y));if(!c){i.push(mr(o));continue}const y=_i(o,a,c),v=_i(o,a,c*.5),x=_i(o,u,c),m=_i(o,u,c*.5);i.push(mr(y)),i.push(ed(v,m,x))}return i}function _i(e,t,n){const i=t.x-e.x,r=t.y-e.y,a=xr(i,r),o=n/a;return{x:e.x+i*o,y:e.y+r*o}}function xr(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function qr(e,t,n){ln(t)&&(n=t,t=null),t||(t={});const i=Ce("path",t);return ln(n)&&(i.dataset.cornerRadius=String(n)),qs(i,e)}function qs(e,t){const n=parseInt(e.dataset.cornerRadius,10)||0;return Ae(e,{d:Dn(td(t,n))}),e}var Sr="hsl(225, 10%, 15%)",nd="white";function Vt(e,t){return Vs(e.eventDefinitions,function(n){return n.$type===t})}function id(e){return e.$type==="bpmn:IntermediateThrowEvent"||e.$type==="bpmn:EndEvent"}function rd(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}function _e(e,t,n){var i=kn(e);return n||i.get("color:background-color")||i.get("bioc:fill")||t||nd}function ee(e,t,n){var i=kn(e);return n||i.get("color:border-color")||i.get("bioc:stroke")||t||Sr}function ti(e,t,n,i){var r=kn(e),a=r.get("label");return i||a&&a.get("color:color")||t||ee(e,n)}function ad(e){var t=e.x+e.width/2,n=e.y+e.height/2,i=e.width/2,r=[["M",t,n],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]];return Dn(r)}function sd(e,t){var n=e.x,i=e.y,r=e.width,a=e.height,o=[["M",n+t,i],["l",r-t*2,0],["a",t,t,0,0,1,t,t],["l",0,a-t*2],["a",t,t,0,0,1,-t,t],["l",t*2-r,0],["a",t,t,0,0,1,-t,-t],["l",0,t*2-a],["a",t,t,0,0,1,t,-t],["z"]];return Dn(o)}function od(e){var t=e.width,n=e.height,i=e.x,r=e.y,a=t/2,o=n/2,u=[["M",i+a,r],["l",a,o],["l",-a,o],["l",-a,-o],["z"]];return Dn(u)}function ld(e){var t=e.x,n=e.y,i=e.width,r=e.height,a=[["M",t,n],["l",i,0],["l",0,r],["l",-i,0],["z"]];return Dn(a)}function ni(e,t={}){return{width:At(e,t),height:yt(e,t)}}function At(e,t={}){return Rn(t,"width")?t.width:e.width}function yt(e,t={}){return Rn(t,"height")?t.height:e.height}function ud(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in e)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(e)}const cd=Object.prototype.toString,dd=Object.prototype.hasOwnProperty;function pd(e){return e===void 0}function fd(e){return cd.call(e)==="[object Array]"}function md(e,t){return dd.call(e,t)}function Ra(e,t){let n,i;if(pd(e))return;const r=fd(e)?yd:hd;for(let a in e)if(md(e,a)&&(n=e[a],i=t(n,r(a)),i===!1))return n}function hd(e){return e}function yd(e){return Number(e)}function gt(e,...t){const n=e.style;return Ra(t,function(i){i&&Ra(i,function(r,a){n[a]=r})}),e}function vd(e,t,n){return arguments.length==2?e.getAttribute(t):n===null?e.removeAttribute(t):(e.setAttribute(t,n),e)}const gd=Object.prototype.toString;function Ki(e){return new dn(e)}function dn(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}dn.prototype.add=function(e){return this.list.add(e),this};dn.prototype.remove=function(e){return gd.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};dn.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this};dn.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};dn.prototype.array=function(){return Array.from(this.list)};dn.prototype.has=dn.prototype.contains=function(e){return this.list.contains(e)};function js(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function bd(e,t,n){var i=n?e:e.parentNode;return i&&typeof i.closest=="function"&&i.closest(t)||null}var Bi={},Oi,kr,jr;function zs(){Oi=window.addEventListener?"addEventListener":"attachEvent",kr=window.removeEventListener?"removeEventListener":"detachEvent",jr=Oi!=="addEventListener"?"on":""}var _d=Bi.bind=function(e,t,n,i){return Oi||zs(),e[Oi](jr+t,n,i||!1),n},wd=Bi.unbind=function(e,t,n,i){return kr||zs(),e[kr](jr+t,n,i||!1),n},zr=ud({__proto__:null,bind:_d,unbind:wd,default:Bi},[Bi]),Ws=["focus","blur"];function Ed(e,t,n,i,r){return Ws.indexOf(n)!==-1&&(r=!0),zr.bind(e,n,function(a){var o=a.target||a.srcElement;a.delegateTarget=bd(o,t,!0),a.delegateTarget&&i.call(e,a)},r)}function xd(e,t,n,i){return Ws.indexOf(t)!==-1&&(i=!0),zr.unbind(e,t,n,i)}var Ar={bind:Ed,unbind:xd},Sd=kd,Hs=!1,wi;typeof document<"u"&&(wi=document.createElement("div"),wi.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Hs=!wi.getElementsByTagName("link").length,wi=void 0);var Qe={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Hs?[1,"X<div>","</div>"]:[0,"",""]};Qe.td=Qe.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];Qe.option=Qe.optgroup=[1,'<select multiple="multiple">',"</select>"];Qe.thead=Qe.tbody=Qe.colgroup=Qe.caption=Qe.tfoot=[1,"<table>","</table>"];Qe.polyline=Qe.ellipse=Qe.polygon=Qe.circle=Qe.text=Qe.line=Qe.path=Qe.rect=Qe.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function kd(e,t){if(typeof e!="string")throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if(i=="body"){var c=t.createElement("html");return c.innerHTML=e,c.removeChild(c.lastChild)}var r=Object.prototype.hasOwnProperty.call(Qe,i)?Qe[i]:Qe._default,a=r[0],o=r[1],u=r[2],c=t.createElement("div");for(c.innerHTML=o+e+u;a--;)c=c.lastChild;if(c.firstChild==c.lastChild)return c.removeChild(c.firstChild);for(var y=t.createDocumentFragment();c.firstChild;)y.appendChild(c.removeChild(c.firstChild));return y}var Ft=Sd;function Dt(e,t){return t=t||document,t.querySelector(e)}function Ad(e,t){return t=t||document,t.querySelectorAll(e)}function Ui(e){e.parentNode&&e.parentNode.removeChild(e)}function hr(e,t,n,i,r){var a=ii();a.setTranslate(t,n);var o=ii();o.setRotate(i||0,0,0);var u=ii();u.setScale(1,1),si(e,[a,o,u])}function Ys(e,t,n){var i=ii();i.setTranslate(t,n),si(e,i)}function Td(e,t){var n=ii();n.setRotate(t,0,0),si(e,n)}function Cd(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Rd=Cd(function(e){var t=e.exports=function(n,i){if(i||(i=16),n===void 0&&(n=128),n<=0)return"0";for(var r=Math.log(Math.pow(2,n))/Math.log(i),a=2;r===1/0;a*=2)r=Math.log(Math.pow(2,n/a))/Math.log(i)*a;for(var o=r-Math.floor(r),u="",a=0;a<Math.floor(r);a++){var c=Math.floor(Math.random()*i).toString(i);u=c+u}if(o){var y=Math.pow(i,o),c=Math.floor(Math.random()*y).toString(i);u=c+u}var v=parseInt(u,i);return v!==1/0&&v>=Math.pow(2,n)?t(n,i):u};t.rack=function(n,i,r){var a=function(u){var c=0;do{if(c++>10)if(r)n+=r;else throw new Error("too many ID collisions, use more bits");var y=t(n,i)}while(Object.hasOwnProperty.call(o,y));return o[y]=u,y},o=a.hats={};return a.get=function(u){return a.hats[u]},a.set=function(u,c){return a.hats[u]=c,a},a.bits=n||128,a.base=i||16,a}});function Yt(e){if(!(this instanceof Yt))return new Yt(e);e=e||[128,36,1],this._seed=e.length?Rd.rack(e[0],e[1],e[2]):e}Yt.prototype.next=function(e){return this._seed(e||!0)};Yt.prototype.nextPrefixed=function(e,t){var n;do n=e+this.next(!0);while(this.assigned(n));return this.claim(n,t),n};Yt.prototype.claim=function(e,t){this._seed.set(e,t||!0)};Yt.prototype.assigned=function(e){return this._seed.get(e)||!1};Yt.prototype.unclaim=function(e){delete this._seed.hats[e]};Yt.prototype.clear=function(){var e=this._seed.hats,t;for(t in e)this.unclaim(t)};var Dd=new Yt,Id=10,Ei=3,Pd=1.5,Ri=10,On=.95,Nd=1,$d=.25;function In(e,t,n,i,r,a,o){Qt.call(this,t,o);var u=e&&e.defaultFillColor,c=e&&e.defaultStrokeColor,y=e&&e.defaultLabelColor;function v(f){return n.computeStyle(f,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Sr,strokeWidth:2,fill:"white"})}function x(f){return n.computeStyle(f,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Sr,strokeWidth:2})}function m(f,s){var{ref:l={x:0,y:0},scale:h=1,element:_,parentGfx:L=r._svg}=s,re=Ce("marker",{id:f,viewBox:"0 0 20 20",refX:l.x,refY:l.y,markerWidth:20*h,markerHeight:20*h,orient:"auto"});He(re,_);var ie=Dt(":scope > defs",L);ie||(ie=Ce("defs"),He(L,ie)),He(ie,re)}function V(f,s,l,h){var _=Dd.nextPrefixed("marker-");return K(f,_,s,l,h),"url(#"+_+")"}function K(f,s,l,h,_){if(l==="sequenceflow-end"){var L=Ce("path",{d:"M 1 5 L 11 10 L 1 15 Z",...v({fill:_,stroke:_,strokeWidth:1})});m(s,{element:L,ref:{x:11,y:10},scale:.5,parentGfx:f})}if(l==="messageflow-start"){var re=Ce("circle",{cx:6,cy:6,r:3.5,...v({fill:h,stroke:_,strokeWidth:1,strokeDasharray:[1e4,1]})});m(s,{element:re,ref:{x:6,y:6},parentGfx:f})}if(l==="messageflow-end"){var ie=Ce("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...v({fill:h,stroke:_,strokeWidth:1,strokeDasharray:[1e4,1]})});m(s,{element:ie,ref:{x:8.5,y:5},parentGfx:f})}if(l==="association-start"){var ve=Ce("path",{d:"M 11 5 L 1 10 L 11 15",...x({fill:"none",stroke:_,strokeWidth:1.5,strokeDasharray:[1e4,1]})});m(s,{element:ve,ref:{x:1,y:10},scale:.5,parentGfx:f})}if(l==="association-end"){var Ue=Ce("path",{d:"M 1 5 L 11 10 L 1 15",...x({fill:"none",stroke:_,strokeWidth:1.5,strokeDasharray:[1e4,1]})});m(s,{element:Ue,ref:{x:11,y:10},scale:.5,parentGfx:f})}if(l==="conditional-flow-marker"){var lt=Ce("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...v({fill:h,stroke:_})});m(s,{element:lt,ref:{x:-1,y:10},scale:.5,parentGfx:f})}if(l==="conditional-default-flow-marker"){var rt=Ce("path",{d:"M 6 4 L 10 16",...v({stroke:_,fill:"none"})});m(s,{element:rt,ref:{x:0,y:10},scale:.5,parentGfx:f})}}function j(f,s,l,h,_={}){on(h)&&(_=h,h=0),h=h||0,_=v(_);var L=s/2,re=l/2,ie=Ce("circle",{cx:L,cy:re,r:Math.round((s+l)/4-h),..._});return He(f,ie),ie}function ne(f,s,l,h,_,L){on(_)&&(L=_,_=0),_=_||0,L=v(L);var re=Ce("rect",{x:_,y:_,width:s-_*2,height:l-_*2,rx:h,ry:h,...L});return He(f,re),re}function D(f,s,l,h){var _=s/2,L=l/2,re=[{x:_,y:0},{x:s,y:L},{x:_,y:l},{x:0,y:L}],ie=re.map(function(Ue){return Ue.x+","+Ue.y}).join(" ");h=v(h);var ve=Ce("polygon",{...h,points:ie});return He(f,ve),ve}function X(f,s,l,h){l=x(l);var _=qr(s,l,h);return He(f,_),_}function B(f,s,l){return X(f,s,l,5)}function b(f,s,l){l=x(l);var h=Ce("path",{...l,d:s});return He(f,h),h}function k(f,s,l,h){return b(s,l,de({"data-marker":f},h))}function I(f){return Te[f]}function S(f){return function(s,l,h){return I(f)(s,l,h)}}var C={"bpmn:MessageEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:s.width,containerHeight:s.height,position:{mx:.235,my:.315}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill),re=h?_e(s,u,l.fill):ee(s,c,l.stroke),ie=b(f,_,{fill:L,stroke:re,strokeWidth:1});return ie},"bpmn:TimerEventDefinition":function(f,s,l={}){var h=j(f,s.width,s.height,.2*s.height,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:2}),_=i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:s.width,containerHeight:s.height,position:{mx:.5,my:.5}});b(f,_,{stroke:ee(s,c,l.stroke),strokeWidth:2});for(var L=0;L<12;L++){var re=i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:s.width,containerHeight:s.height,position:{mx:.5,my:.5}}),ie=s.width/2,ve=s.height/2;b(f,re,{strokeWidth:1,stroke:ee(s,c,l.stroke),transform:"rotate("+L*30+","+ve+","+ie+")"})}return h},"bpmn:EscalationEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.5,my:.2}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill);return b(f,_,{fill:L,stroke:ee(s,c,l.stroke),strokeWidth:1})},"bpmn:ConditionalEventDefinition":function(f,s,l={}){var h=i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.5,my:.222}});return b(f,h,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1})},"bpmn:LinkEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.57,my:.263}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill);return b(f,_,{fill:L,stroke:ee(s,c,l.stroke),strokeWidth:1})},"bpmn:ErrorEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:s.width,containerHeight:s.height,position:{mx:.2,my:.722}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill);return b(f,_,{fill:L,stroke:ee(s,c,l.stroke),strokeWidth:1})},"bpmn:CancelEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.638,my:-.055}}),L=h?ee(s,c,l.stroke):"none",re=b(f,_,{fill:L,stroke:ee(s,c,l.stroke),strokeWidth:1});return Td(re,45),re},"bpmn:CompensateEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.22,my:.5}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill);return b(f,_,{fill:L,stroke:ee(s,c,l.stroke),strokeWidth:1})},"bpmn:SignalEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:s.width,containerHeight:s.height,position:{mx:.5,my:.2}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill);return b(f,_,{strokeWidth:1,fill:L,stroke:ee(s,c,l.stroke)})},"bpmn:MultipleEventDefinition":function(f,s,l={},h){var _=i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:s.width,containerHeight:s.height,position:{mx:.222,my:.36}}),L=h?ee(s,c,l.stroke):_e(s,u,l.fill);return b(f,_,{fill:L,strokeWidth:1})},"bpmn:ParallelMultipleEventDefinition":function(f,s,l={}){var h=i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:s.width,containerHeight:s.height,position:{mx:.458,my:.194}});return b(f,h,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1})},"bpmn:TerminateEventDefinition":function(f,s,l={}){var h=j(f,s.width,s.height,8,{fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke),strokeWidth:4});return h}};function M(f,s,l={}){var h=ze(f),_=id(h);return h.get("eventDefinitions")&&h.get("eventDefinitions").length>1?h.get("parallelMultiple")?C["bpmn:ParallelMultipleEventDefinition"](s,f,l,_):C["bpmn:MultipleEventDefinition"](s,f,l,_):Vt(h,"bpmn:MessageEventDefinition")?C["bpmn:MessageEventDefinition"](s,f,l,_):Vt(h,"bpmn:TimerEventDefinition")?C["bpmn:TimerEventDefinition"](s,f,l,_):Vt(h,"bpmn:ConditionalEventDefinition")?C["bpmn:ConditionalEventDefinition"](s,f,l,_):Vt(h,"bpmn:SignalEventDefinition")?C["bpmn:SignalEventDefinition"](s,f,l,_):Vt(h,"bpmn:EscalationEventDefinition")?C["bpmn:EscalationEventDefinition"](s,f,l,_):Vt(h,"bpmn:LinkEventDefinition")?C["bpmn:LinkEventDefinition"](s,f,l,_):Vt(h,"bpmn:ErrorEventDefinition")?C["bpmn:ErrorEventDefinition"](s,f,l,_):Vt(h,"bpmn:CancelEventDefinition")?C["bpmn:CancelEventDefinition"](s,f,l,_):Vt(h,"bpmn:CompensateEventDefinition")?C["bpmn:CompensateEventDefinition"](s,f,l,_):Vt(h,"bpmn:TerminateEventDefinition")?C["bpmn:TerminateEventDefinition"](s,f,l,_):null}var N={ParticipantMultiplicityMarker:function(f,s,l={}){var h=At(s,l),_=yt(s,l),L=i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:h,containerHeight:_,position:{mx:(h/2-6)/h,my:(_-15)/_}});k("participant-multiplicity",f,L,{strokeWidth:2,fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)})},SubProcessMarker:function(f,s,l={}){var h=ne(f,14,14,0,{strokeWidth:1,fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)});Ys(h,s.width/2-7.5,s.height-20);var _=i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:s.width,containerHeight:s.height,position:{mx:(s.width/2-7.5)/s.width,my:(s.height-20)/s.height}});k("sub-process",f,_,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)})},ParallelMarker:function(f,s,l){var h=At(s,l),_=yt(s,l),L=i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:h,containerHeight:_,position:{mx:(h/2+l.parallel)/h,my:(_-20)/_}});k("parallel",f,L,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)})},SequentialMarker:function(f,s,l){var h=i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:(s.width/2+l.seq)/s.width,my:(s.height-19)/s.height}});k("sequential",f,h,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)})},CompensationMarker:function(f,s,l){var h=i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:(s.width/2+l.compensation)/s.width,my:(s.height-13)/s.height}});k("compensation",f,h,{strokeWidth:1,fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)})},LoopMarker:function(f,s,l){var h=At(s,l),_=yt(s,l),L=i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:h,containerHeight:_,position:{mx:(h/2+l.loop)/h,my:(_-7)/_}});k("loop",f,L,{strokeWidth:1.5,fill:"none",stroke:ee(s,c,l.stroke),strokeMiterlimit:.5})},AdhocMarker:function(f,s,l){var h=At(s,l),_=yt(s,l),L=i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:h,containerHeight:_,position:{mx:(h/2+l.adhoc)/h,my:(_-15)/_}});k("adhoc",f,L,{strokeWidth:1,fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke)})}};function H(f,s,l,h){N[f](s,l,h)}function G(f,s,l,h={}){h={fill:h.fill,stroke:h.stroke,width:At(s,h),height:yt(s,h)};var _=ze(s),L=l&&l.includes("SubProcessMarker");L?h={...h,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:h={...h,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},se(l,function(ve){H(ve,f,s,h)}),_.get("isForCompensation")&&H("CompensationMarker",f,s,h),le(_,"bpmn:AdHocSubProcess")&&H("AdhocMarker",f,s,h);var re=_.get("loopCharacteristics"),ie=re&&re.get("isSequential");re&&(ie===void 0&&H("LoopMarker",f,s,h),ie===!1&&H("ParallelMarker",f,s,h),ie===!0&&H("SequentialMarker",f,s,h))}function Z(f,s,l={}){l=de({size:{width:100}},l);var h=a.createText(s||"",l);return Tt(h).add("djs-label"),He(f,h),h}function ye(f,s,l,h={}){var _=ze(s),L=ni({width:s.width,height:s.height},h);return Z(f,_.name,{align:l,box:L,padding:7,style:{fill:ti(s,y,c,h.stroke)}})}function pe(f,s,l={}){var h={width:90,height:30,x:s.width/2+s.x,y:s.height/2+s.y};return Z(f,Li(s),{box:h,fitBox:!0,style:de({},a.getExternalStyle(),{fill:ti(s,y,c,l.stroke)})})}function oe(f,s,l,h={}){var _=xa(l),L=Z(f,s,{box:{height:30,width:_?yt(l,h):At(l,h)},align:"center-middle",style:{fill:ti(l,y,c,h.stroke)}});if(_){var re=-1*yt(l,h);hr(L,0,-re,270)}}function he(f,s,l={}){var{width:h,height:_}=ni(s,l);return ne(f,h,_,Ri,{...l,fill:_e(s,u,l.fill),fillOpacity:On,stroke:ee(s,c,l.stroke)})}function at(f,s,l={}){var h=ze(s),_=_e(s,u,l.fill),L=ee(s,c,l.stroke);return(h.get("associationDirection")==="One"||h.get("associationDirection")==="Both")&&(l.markerEnd=V(f,"association-end",_,L)),h.get("associationDirection")==="Both"&&(l.markerStart=V(f,"association-start",_,L)),l=Se(l,["markerStart","markerEnd"]),B(f,s.waypoints,{...l,stroke:L,strokeDasharray:"0, 5"})}function Ke(f,s,l={}){var h=_e(s,u,l.fill),_=ee(s,c,l.stroke),L=i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.474,my:.296}}),re=b(f,L,{fill:h,fillOpacity:On,stroke:_}),ie=ze(s);if(rd(ie)){var ve=i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:.33,my:(s.height-18)/s.height}});b(f,ve,{strokeWidth:2,fill:h,stroke:_})}return re}function Ie(f,s,l={}){return j(f,s.width,s.height,{fillOpacity:On,...l,fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)})}function We(f,s,l={}){return D(f,s.width,s.height,{fill:_e(s,u,l.fill),fillOpacity:On,stroke:ee(s,c,l.stroke)})}function F(f,s,l={}){var h=ne(f,At(s,l),yt(s,l),0,{fill:_e(s,u,l.fill),fillOpacity:l.fillOpacity||On,stroke:ee(s,c,l.stroke),strokeWidth:1.5}),_=ze(s);if(le(_,"bpmn:Lane")){var L=_.get("name");oe(f,L,s,l)}return h}function O(f,s,l={}){var h=he(f,s,l);Dc(s)&&Ae(h,{strokeDasharray:"0, 5.5",strokeWidth:2.5});var _=xn(s);return ye(f,s,_?"center-top":"center-middle",l),_?G(f,s,void 0,l):G(f,s,["SubProcessMarker"],l),h}function J(f,s,l={}){var h=he(f,s,l);return ye(f,s,"center-middle",l),G(f,s,void 0,l),h}var Te=this.handlers={"bpmn:AdHocSubProcess":function(f,s,l={}){return xn(s)?l=Se(l,["fill","stroke","width","height"]):l=Se(l,["fill","stroke"]),O(f,s,l)},"bpmn:Association":function(f,s,l={}){return l=Se(l,["fill","stroke"]),at(f,s,l)},"bpmn:BoundaryEvent":function(f,s,l={}){var{renderIcon:h=!0}=l;l=Se(l,["fill","stroke"]);var _=ze(s),L=_.get("cancelActivity");l={strokeWidth:1.5,fill:_e(s,u,l.fill),fillOpacity:Nd,stroke:ee(s,c,l.stroke)},L||(l.strokeDasharray="6");var re=Ie(f,s,l);return j(f,s.width,s.height,Ei,{...l,fill:"none"}),h&&M(s,f,l),re},"bpmn:BusinessRuleTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=J(f,s,l),_=i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),L=b(f,_);Ae(L,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1});var re=i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),ie=b(f,re);return Ae(ie,{fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke),strokeWidth:1}),h},"bpmn:CallActivity":function(f,s,l={}){return l=Se(l,["fill","stroke"]),O(f,s,{strokeWidth:5,...l})},"bpmn:ComplexGateway":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=We(f,s,l),_=i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:s.width,containerHeight:s.height,position:{mx:.46,my:.26}});return b(f,_,{fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke),strokeWidth:1}),h},"bpmn:DataInput":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=i.getRawPath("DATA_ARROW"),_=Ke(f,s,l);return b(f,h,{fill:"none",stroke:ee(s,c,l.stroke),strokeWidth:1}),_},"bpmn:DataInputAssociation":function(f,s,l={}){return l=Se(l,["fill","stroke"]),at(f,s,{...l,markerEnd:V(f,"association-end",_e(s,u,l.fill),ee(s,c,l.stroke))})},"bpmn:DataObject":function(f,s,l={}){return l=Se(l,["fill","stroke"]),Ke(f,s,l)},"bpmn:DataObjectReference":S("bpmn:DataObject"),"bpmn:DataOutput":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=i.getRawPath("DATA_ARROW"),_=Ke(f,s,l);return b(f,h,{strokeWidth:1,fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke)}),_},"bpmn:DataOutputAssociation":function(f,s,l={}){return l=Se(l,["fill","stroke"]),at(f,s,{...l,markerEnd:V(f,"association-end",_e(s,u,l.fill),ee(s,c,l.stroke))})},"bpmn:DataStoreReference":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:s.width,containerHeight:s.height,position:{mx:0,my:.133}});return b(f,h,{fill:_e(s,u,l.fill),fillOpacity:On,stroke:ee(s,c,l.stroke),strokeWidth:2})},"bpmn:EndEvent":function(f,s,l={}){var{renderIcon:h=!0}=l;l=Se(l,["fill","stroke"]);var _=Ie(f,s,{...l,strokeWidth:4});return h&&M(s,f,l),_},"bpmn:EventBasedGateway":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=ze(s),_=We(f,s,l);j(f,s.width,s.height,s.height*.2,{fill:_e(s,"none",l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1});var L=h.get("eventGatewayType"),re=!!h.get("instantiate");function ie(){var Ue=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:s.width,containerHeight:s.height,position:{mx:.36,my:.44}});b(f,Ue,{fill:"none",stroke:ee(s,c,l.stroke),strokeWidth:2})}if(L==="Parallel"){var ve=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:s.width,containerHeight:s.height,position:{mx:.474,my:.296}});b(f,ve,{fill:"none",stroke:ee(s,c,l.stroke),strokeWidth:1})}else L==="Exclusive"&&(re||j(f,s.width,s.height,s.height*.26,{fill:"none",stroke:ee(s,c,l.stroke),strokeWidth:1}),ie());return _},"bpmn:ExclusiveGateway":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=We(f,s,l),_=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:s.width,containerHeight:s.height,position:{mx:.32,my:.3}}),L=kn(s);return L.get("isMarkerVisible")&&b(f,_,{fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke),strokeWidth:1}),h},"bpmn:Gateway":function(f,s,l={}){return l=Se(l,["fill","stroke"]),We(f,s,l)},"bpmn:Group":function(f,s,l={}){return l=Se(l,["fill","stroke","width","height"]),ne(f,s.width,s.height,Ri,{stroke:ee(s,c,l.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:At(s,l),height:yt(s,l)})},"bpmn:InclusiveGateway":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=We(f,s,l);return j(f,s.width,s.height,s.height*.24,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:2.5}),h},"bpmn:IntermediateEvent":function(f,s,l={}){var{renderIcon:h=!0}=l;l=Se(l,["fill","stroke"]);var _=Ie(f,s,{...l,strokeWidth:1.5});return j(f,s.width,s.height,Ei,{fill:"none",stroke:ee(s,c,l.stroke),strokeWidth:1.5}),h&&M(s,f,l),_},"bpmn:IntermediateCatchEvent":S("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":S("bpmn:IntermediateEvent"),"bpmn:Lane":function(f,s,l={}){return l=Se(l,["fill","stroke","width","height"]),F(f,s,{...l,fillOpacity:$d})},"bpmn:ManualTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=J(f,s,l),_=i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return b(f,_,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:.5}),h},"bpmn:MessageFlow":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=ze(s),_=kn(s),L=_e(s,u,l.fill),re=ee(s,c,l.stroke),ie=B(f,s.waypoints,{markerEnd:V(f,"messageflow-end",L,re),markerStart:V(f,"messageflow-start",L,re),stroke:re,strokeDasharray:"10, 11",strokeWidth:1.5});if(h.get("messageRef")){var ve=ie.getPointAtLength(ie.getTotalLength()/2),Ue=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:ve.x,y:ve.y}}),lt={strokeWidth:1};_.get("messageVisibleKind")==="initiating"?(lt.fill=L,lt.stroke=re):(lt.fill=re,lt.stroke=L);var rt=b(f,Ue,lt),Ne=h.get("messageRef"),Ze=Ne.get("name"),xe=Z(f,Ze,{align:"center-top",fitBox:!0,style:{fill:re}}),_t=rt.getBBox(),Jt=xe.getBBox(),Je=ve.x-Jt.width/2,ae=ve.y+_t.height/2+Id;hr(xe,Je,ae,0)}return ie},"bpmn:ParallelGateway":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=We(f,s,l),_=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:s.width,containerHeight:s.height,position:{mx:.46,my:.2}});return b(f,_,{fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke),strokeWidth:1}),h},"bpmn:Participant":function(f,s,l={}){l=Se(l,["fill","stroke","width","height"]);var h=F(f,s,l),_=xn(s),L=xa(s),re=ze(s),ie=re.get("name");if(_){var ve=L?[{x:30,y:0},{x:30,y:yt(s,l)}]:[{x:0,y:30},{x:At(s,l),y:30}];X(f,ve,{stroke:ee(s,c,l.stroke),strokeWidth:Pd}),oe(f,ie,s,l)}else{var Ue=ni(s,l);L||(Ue.height=At(s,l),Ue.width=yt(s,l));var lt=Z(f,ie,{box:Ue,align:"center-middle",style:{fill:ti(s,y,c,l.stroke)}});if(!L){var rt=-1*yt(s,l);hr(lt,0,-rt,270)}}return re.get("participantMultiplicity")&&H("ParticipantMultiplicityMarker",f,s,l),h},"bpmn:ReceiveTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=ze(s),_=J(f,s,l),L;return h.get("instantiate")?(j(f,28,28,20*.22,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1}),L=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):L=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),b(f,L,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1}),_},"bpmn:ScriptTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=J(f,s,l),_=i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return b(f,_,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1}),h},"bpmn:SendTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=J(f,s,l),_=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return b(f,_,{fill:ee(s,c,l.stroke),stroke:_e(s,u,l.fill),strokeWidth:1}),h},"bpmn:SequenceFlow":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=_e(s,u,l.fill),_=ee(s,c,l.stroke),L=B(f,s.waypoints,{markerEnd:V(f,"sequenceflow-end",h,_),stroke:_}),re=ze(s),{source:ie}=s;if(ie){var ve=ze(ie);re.get("conditionExpression")&&le(ve,"bpmn:Activity")&&Ae(L,{markerStart:V(f,"conditional-flow-marker",h,_)}),ve.get("default")&&(le(ve,"bpmn:Gateway")||le(ve,"bpmn:Activity"))&&ve.get("default")===re&&Ae(L,{markerStart:V(f,"conditional-default-flow-marker",h,_)})}return L},"bpmn:ServiceTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=J(f,s,l);j(f,10,10,{fill:_e(s,u,l.fill),stroke:"none",transform:"translate(6, 6)"});var _=i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});b(f,_,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1}),j(f,10,10,{fill:_e(s,u,l.fill),stroke:"none",transform:"translate(11, 10)"});var L=i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return b(f,L,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:1}),h},"bpmn:StartEvent":function(f,s,l={}){var{renderIcon:h=!0}=l;l=Se(l,["fill","stroke"]);var _=ze(s);_.get("isInterrupting")||(l={...l,strokeDasharray:"6"});var L=Ie(f,s,l);return h&&M(s,f,l),L},"bpmn:SubProcess":function(f,s,l={}){return xn(s)?l=Se(l,["fill","stroke","width","height"]):l=Se(l,["fill","stroke"]),O(f,s,l)},"bpmn:Task":function(f,s,l={}){return l=Se(l,["fill","stroke"]),J(f,s,l)},"bpmn:TextAnnotation":function(f,s,l={}){l=Se(l,["fill","stroke","width","height"]);var{width:h,height:_}=ni(s,l),L=ne(f,h,_,0,0,{fill:"none",stroke:"none"}),re=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:h,containerHeight:_,position:{mx:0,my:0}});b(f,re,{stroke:ee(s,c,l.stroke)});var ie=ze(s),ve=ie.get("text")||"";return Z(f,ve,{align:"left-top",box:ni(s,l),padding:7,style:{fill:ti(s,y,c,l.stroke)}}),L},"bpmn:Transaction":function(f,s,l={}){xn(s)?l=Se(l,["fill","stroke","width","height"]):l=Se(l,["fill","stroke"]);var h=O(f,s,{strokeWidth:1.5,...l}),_=n.style(["no-fill","no-events"],{stroke:ee(s,c,l.stroke),strokeWidth:1.5}),L=xn(s);return L||(l={}),ne(f,At(s,l),yt(s,l),Ri-Ei,Ei,_),h},"bpmn:UserTask":function(f,s,l={}){l=Se(l,["fill","stroke"]);var h=J(f,s,l),_=15,L=12,re=i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:_,y:L}});b(f,re,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:.5});var ie=i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:_,y:L}});b(f,ie,{fill:_e(s,u,l.fill),stroke:ee(s,c,l.stroke),strokeWidth:.5});var ve=i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:_,y:L}});return b(f,ve,{fill:ee(s,c,l.stroke),stroke:ee(s,c,l.stroke),strokeWidth:.5}),h},label:function(f,s,l={}){return pe(f,s,l)}};this._drawPath=b,this._renderer=I}qt(In,Qt);In.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];In.prototype.canRender=function(e){return le(e,"bpmn:BaseElement")};In.prototype.drawShape=function(e,t,n={}){var{type:i}=t,r=this._renderer(i);return r(e,t,n)};In.prototype.drawConnection=function(e,t,n={}){var{type:i}=t,r=this._renderer(i);return r(e,t,n)};In.prototype.getShapePath=function(e){return le(e,"bpmn:Event")?ad(e):le(e,"bpmn:Activity")?sd(e,Ri):le(e,"bpmn:Gateway")?od(e):ld(e)};function Se(e,t=[]){return t.reduce((n,i)=>(e[i]&&(n[i]=e[i]),n),{})}var Md=0,Vd={width:150,height:50};function Ld(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}function Bd(e){return on(e)?de({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function Od(e,t){t.textContent=e;var n;try{var i,r=e==="";return t.textContent=r?"dummy":e,n=t.getBBox(),i={width:n.width+n.x*2,height:n.height},r&&(i.width=0),i}catch(a){return{width:0,height:0}}}function Ud(e,t,n){for(var i=e.shift(),r=i,a;;){if(a=Od(r,n),a.width=r?a.width:0,r===" "||r===""||a.width<Math.round(t)||r.length<2)return Fd(e,r,i,a);r=jd(r,a.width,t)}}function Fd(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}var Da="­";function qd(e,t){var n=e.split(/(\s|-|\u00AD)/g),i,r=[],a=0;if(n.length>1)for(;i=n.shift();)if(i.length+a<t)r.push(i),a+=i.length;else{(i==="-"||i===Da)&&r.pop();break}var o=r[r.length-1];return o&&o===Da&&(r[r.length-1]="-"),r.join("")}function jd(e,t,n){var i=Math.max(e.length*(n/t),1),r=qd(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function zd(){var e=document.getElementById("helper-svg");return e||(e=Ce("svg"),Ae(e,{id:"helper-svg"}),gt(e,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(e)),e}function Gi(e){this._config=de({},{size:Vd,padding:Md,style:{},align:"center-top"},e||{})}Gi.prototype.createText=function(e,t){return this.layoutText(e,t).element};Gi.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions};Gi.prototype.layoutText=function(e,t){var n=de({},this._config.size,t.box),i=de({},this._config.style,t.style),r=Ld(t.align||this._config.align),a=Bd(t.padding!==void 0?t.padding:this._config.padding),o=t.fitBox||!1,u=Wd(i),c=e.split(/\u00AD?\r?\n/),y=[],v=n.width-a.left-a.right,x=Ce("text");Ae(x,{x:0,y:0}),Ae(x,i);var m=zd();for(He(m,x);c.length;)y.push(Ud(c,v,x));r.vertical==="middle"&&(a.top=a.bottom=0);var V=zn(y,function(X,B,b){return X+(u||B.height)},0)+a.top+a.bottom,K=zn(y,function(X,B,b){return B.width>X?B.width:X},0),j=a.top;r.vertical==="middle"&&(j+=(n.height-V)/2),j-=(u||y[0].height)/4;var ne=Ce("text");Ae(ne,i),se(y,function(X){var B;switch(j+=u||X.height,r.horizontal){case"left":B=a.left;break;case"right":B=(o?K:v)-a.right-X.width;break;default:B=Math.max(((o?K:v)-X.width)/2+a.left,0)}var b=Ce("tspan");Ae(b,{x:B,y:j}),b.textContent=X.text,He(ne,b)}),ci(x);var D={width:K,height:V};return{dimensions:D,element:ne}};function Wd(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}var Hd=12,Yd=1.2,Kd=30;function Ks(e){var t=de({fontFamily:"Arial, sans-serif",fontSize:Hd,fontWeight:"normal",lineHeight:Yd},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=de({},t,{fontSize:n},e&&e.externalStyle||{}),r=new Gi({style:t});this.getExternalLabelBounds=function(a,o){var u=r.getDimensions(o,{box:{width:90,height:30},style:i});return{x:Math.round(a.x+a.width/2-u.width/2),y:Math.round(a.y),width:Math.ceil(u.width),height:Math.ceil(u.height)}},this.getTextAnnotationBounds=function(a,o){var u=r.getDimensions(o,{box:a,style:t,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(Kd,Math.round(u.height))}},this.createText=function(a,o){return r.createText(a,o||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}Ks.$inject=["config.textRenderer"];function Gd(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,n){var i=this.pathMap[t],r,a;n.abspos?(r=n.abspos.x,a=n.abspos.y):(r=n.containerWidth*n.position.mx,a=n.containerHeight*n.position.my);var o={};if(n.position){for(var u=n.containerHeight/i.height*n.yScaleFactor,c=n.containerWidth/i.width*n.xScaleFactor,y=0;y<i.heightElements.length;y++)o["y"+y]=i.heightElements[y]*u;for(var v=0;v<i.widthElements.length;v++)o["x"+v]=i.widthElements[v]*c}var x=Jd(i.d,{mx:r,my:a,e:o});return x}}var Qd=/\{([^{}]+)\}/g,Xd=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function Zd(e,t,n){var i=n;return t.replace(Xd,function(r,a,o,u,c){a=a||u,i&&(a in i&&(i=i[a]),typeof i=="function"&&c&&(i=i()))}),i=(i==null||i==n?e:i)+"",i}function Jd(e,t){return String(e).replace(Qd,function(n,i){return Zd(n,i,t)})}const ep={__init__:["bpmnRenderer"],bpmnRenderer:["type",In],textRenderer:["type",Ks],pathMap:["type",Gd]};function tp(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(n,i){return t[i]||"{"+i+"}"})}const Gs={translate:["value",tp]};function np(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function Tr(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function ip(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function rp(e){return np({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function ap(e){for(var t=e.waypoints,n=t.reduce(function(y,v,x){var m=t[x-1];if(m){var V=y[y.length-1],K=V&&V.endLength||0,j=sp(m,v);y.push({start:m,end:v,startLength:K,endLength:K+j,length:j})}return y},[]),i=n.reduce(function(y,v){return y+v.length},0),r=i/2,a=0,o=n[a];o.endLength<r;)o=n[++a];var u=(r-o.startLength)/o.length,c={x:o.start.x+(o.end.x-o.start.x)*u,y:o.start.y+(o.end.y-o.start.y)*u};return c}function Cr(e){return Ic(e)?ap(e):rp(e)}function sp(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ot(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}function Di(e,t,n){return de({id:e.id,type:e.$type,businessObject:e,di:t},n)}function op(e,t,n){var i=e.waypoint;return!i||i.length<2?[Cr(t),Cr(n)]:i.map(function(r){return{x:r.x,y:r.y}})}function Qs(e,t,n){return new Error("element ".concat(ot(t)," referenced by ").concat(ot(e),"#").concat(n," not yet drawn"))}function Xt(e,t,n,i,r){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._textRenderer=r}Xt.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"];Xt.prototype.add=function(e,t,n){var i,r,a;if(le(t,"bpmndi:BPMNPlane")){var o=le(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};i=this._elementFactory.createRoot(Di(e,t,o)),this._canvas.addRootElement(i)}else if(le(t,"bpmndi:BPMNShape")){var u=!xn(e,t),c=up(e);r=n&&(n.hidden||n.collapsed);var y=t.bounds;i=this._elementFactory.createShape(Di(e,t,{collapsed:u,hidden:r,x:Math.round(y.x),y:Math.round(y.y),width:Math.round(y.width),height:Math.round(y.height),isFrame:c})),le(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,i),le(e,"bpmn:Lane")&&(a=0),le(e,"bpmn:DataStoreReference")&&(lp(n,Cr(y))||(n=this._canvas.findRoot(n))),this._canvas.addShape(i,n,a)}else if(le(t,"bpmndi:BPMNEdge")){var v=this._getSource(e),x=this._getTarget(e);r=n&&(n.hidden||n.collapsed),i=this._elementFactory.createConnection(Di(e,t,{hidden:r,source:v,target:x,waypoints:op(t,v,x)})),le(e,"bpmn:DataAssociation")&&(n=this._canvas.findRoot(n)),this._canvas.addConnection(i,n,a)}else throw new Error("unknown di ".concat(ot(t)," for element ").concat(ot(e)));return Pc(e)&&Li(i)&&this.addLabel(e,t,i),this._eventBus.fire("bpmnElement.added",{element:i}),i};Xt.prototype._attachBoundary=function(e,t){var n=e.attachedToRef;if(!n)throw new Error("missing ".concat(ot(e),"#attachedToRef"));var i=this._elementRegistry.get(n.id),r=i&&i.attachers;if(!i)throw Qs(e,n,"attachedToRef");t.host=i,r||(i.attachers=r=[]),r.indexOf(t)===-1&&r.push(t)};Xt.prototype.addLabel=function(e,t,n){var i,r,a;return i=Vc(t,n),r=Li(n),r&&(i=this._textRenderer.getExternalLabelBounds(i,r)),a=this._elementFactory.createLabel(Di(e,t,{id:e.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!Li(n),x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),this._canvas.addShape(a,n.parent)};Xt.prototype._getConnectedElement=function(e,t){var n,i,r=e.$type;if(i=e[t+"Ref"],t==="source"&&r==="bpmn:DataInputAssociation"&&(i=i&&i[0]),(t==="source"&&r==="bpmn:DataOutputAssociation"||t==="target"&&r==="bpmn:DataInputAssociation")&&(i=e.$parent),n=i&&this._getElement(i),n)return n;throw i?Qs(e,i,t+"Ref"):new Error("".concat(ot(e),"#").concat(t," Ref not specified"))};Xt.prototype._getSource=function(e){return this._getConnectedElement(e,"source")};Xt.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")};Xt.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};function lp(e,t){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function up(e){return le(e,"bpmn:Group")}const cp={__depends__:[Gs],bpmnImporter:["type",Xt]},dp={__depends__:[ep,cp]};function An(e,t){t=!!t,Pt(e)||(e=[e]);var n,i,r,a;return se(e,function(o){var u=o;o.waypoints&&!t&&(u=An(o.waypoints,!0));var c=u.x,y=u.y,v=u.height||0,x=u.width||0;(c<n||n===void 0)&&(n=c),(y<i||i===void 0)&&(i=y),(c+x>r||r===void 0)&&(r=c+x),(y+v>a||a===void 0)&&(a=y+v)}),{x:n,y:i,height:a-i,width:r-n}}function Xs(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function Zs(e){return!!(e&&e.isFrame)}function Js(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(Math.random()*1e9)+"-"}Js.prototype.next=function(){return this._prefix+ ++this._counter};var pp=new Js("ov"),fp=500;function it(e,t,n,i){this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=pp,this._overlayDefaults=de({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=mp(n.getContainer()),this._init()}it.$inject=["config.overlays","eventBus","canvas","elementRegistry"];it.prototype.get=function(e){if(Ut(e)&&(e={id:e}),Ut(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?jn(t.overlays,Ea({type:e.type})):t.overlays.slice():[]}else return e.type?jn(this._overlays,Ea({type:e.type})):e.id?this._overlays[e.id]:null};it.prototype.add=function(e,t,n){if(on(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=de({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i};it.prototype.remove=function(e){var t=this.get(e)||[];Pt(t)||(t=[t]);var n=this;se(t,function(i){var r=n._getOverlayContainer(i.element,!0);if(i&&(Ui(i.html),Ui(i.htmlContainer),delete i.htmlContainer,delete i.element,delete n._overlays[i.id]),r){var a=r.overlays.indexOf(i);a!==-1&&r.overlays.splice(a,1)}})};it.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};it.prototype.show=function(){Qi(this._overlayRoot)};it.prototype.hide=function(){Qi(this._overlayRoot,!1)};it.prototype.clear=function(){this._overlays={},this._overlayContainers=[],js(this._overlayRoot)};it.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var a=An(t);i=a.x,r=a.y}eo(n,i,r),vd(e.html,"data-container-id",t.id)};it.prototype._updateOverlay=function(e){var t=e.position,n=e.htmlContainer,i=e.element,r=t.left,a=t.top;if(t.right!==void 0){var o;i.waypoints?o=An(i).width:o=i.width,r=t.right*-1+o}if(t.bottom!==void 0){var u;i.waypoints?u=An(i).height:u=i.height,a=t.bottom*-1+u}eo(n,r||0,a||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())};it.prototype._createOverlayContainer=function(e){var t=Ft('<div class="djs-overlays" />');gt(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n};it.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";to(this._overlayRoot,n)};it.prototype._getOverlayContainer=function(e,t){var n=Nt(this._overlayContainers,function(i){return i.element===e});return!n&&!t?this._createOverlayContainer(e):n};it.prototype._addOverlay=function(e){var t=e.id,n=e.element,i=e.html,r,a;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),Ut(i)&&(i=Ft(i)),a=this._getOverlayContainer(n),r=Ft('<div class="djs-overlay" data-overlay-id="'+t+'">'),gt(r,{position:"absolute"}),r.appendChild(i),e.type&&Ki(r).add("djs-overlay-"+e.type);var o=this._canvas.findRoot(n),u=this._canvas.getRootElement();Qi(r,o===u),e.htmlContainer=r,a.overlays.push(e),a.html.appendChild(r),this._overlays[t]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())};it.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=this._canvas.findRoot(e.element),r=n&&n.minZoom,a=n&&n.maxZoom,o=e.htmlContainer,u=this._canvas.getRootElement(),c=!0;(i!==u||n&&(qn(r)&&r>t.scale||qn(a)&&a<t.scale))&&(c=!1),Qi(o,c),this._updateOverlayScale(e,t)};it.prototype._updateOverlayScale=function(e,t){var n=e.scale,i,r,a=e.htmlContainer,o,u="";n!==!0&&(n===!1?(i=1,r=1):(i=n.min,r=n.max),qn(i)&&t.scale<i&&(o=(1/t.scale||1)*i),qn(r)&&t.scale>r&&(o=(1/t.scale||1)*r)),qn(o)&&(u="scale("+o+","+o+")"),to(a,u)};it.prototype._updateOverlaysVisibilty=function(e){var t=this;se(this._overlays,function(n){t._updateOverlayVisibilty(n,e)})};it.prototype._init=function(){var e=this._eventBus,t=this;function n(i){t._updateRoot(i),t._updateOverlaysVisibilty(i),t.show()}e.on("canvas.viewbox.changing",function(i){t.hide()}),e.on("canvas.viewbox.changed",function(i){n(i.viewbox)}),e.on(["shape.remove","connection.remove"],function(i){var r=i.element,a=t.get({element:r});se(a,function(c){t.remove(c.id)});var o=t._getOverlayContainer(r);if(o){Ui(o.html);var u=t._overlayContainers.indexOf(o);u!==-1&&t._overlayContainers.splice(u,1)}}),e.on("element.changed",fp,function(i){var r=i.element,a=t._getOverlayContainer(r,!0);a&&(se(a.overlays,function(o){t._updateOverlay(o)}),t._updateOverlayContainer(a))}),e.on("element.marker.update",function(i){var r=t._getOverlayContainer(i.element,!0);r&&Ki(r.html)[i.add?"add":"remove"](i.marker)}),e.on("root.set",function(){t._updateOverlaysVisibilty(t._canvas.viewbox())}),e.on("diagram.clear",this.clear,this)};function mp(e){var t=Ft('<div class="djs-overlay-container" />');return gt(t,{position:"absolute",width:0,height:0}),e.insertBefore(t,e.firstChild),t}function eo(e,t,n){gt(e,{left:t+"px",top:n+"px"})}function Qi(e,t){e.style.display=t===!1?"none":""}function to(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){e.style[n+"transform"]=t})}const no={__init__:["overlays"],overlays:["type",it]};function io(e,t,n,i){e.on("element.changed",function(r){var a=r.element;(a.parent||a===t.getRootElement())&&(r.gfx=n.getGraphics(a)),r.gfx&&e.fire(Xs(a)+".changed",r)}),e.on("elements.changed",function(r){var a=r.elements;a.forEach(function(o){e.fire("element.changed",{element:o})}),i.updateContainments(a)}),e.on("shape.changed",function(r){i.update("shape",r.element,r.gfx)}),e.on("connection.changed",function(r){i.update("connection",r.element,r.gfx)})}io.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const hp={__init__:["changeSupport"],changeSupport:["type",io]};var yp=1e3;function mt(e){this._eventBus=e}mt.$inject=["eventBus"];function vp(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}mt.prototype.on=function(e,t,n,i,r,a){if((an(t)||ln(t))&&(a=r,r=i,i=n,n=t,t=null),an(n)&&(a=r,r=i,i=n,n=yp),on(r)&&(a=r,r=!1),!an(i))throw new Error("handlerFn must be a function");Pt(e)||(e=[e]);var o=this._eventBus;se(e,function(u){var c=["commandStack",u,t].filter(function(y){return y}).join(".");o.on(c,n,r?vp(i,a):i,a)})};mt.prototype.canExecute=Zt("canExecute");mt.prototype.preExecute=Zt("preExecute");mt.prototype.preExecuted=Zt("preExecuted");mt.prototype.execute=Zt("execute");mt.prototype.executed=Zt("executed");mt.prototype.postExecute=Zt("postExecute");mt.prototype.postExecuted=Zt("postExecuted");mt.prototype.revert=Zt("revert");mt.prototype.reverted=Zt("reverted");function Zt(e){return function(n,i,r,a,o){(an(n)||ln(n))&&(o=a,a=r,r=i,i=n,n=null),this.on(n,e,i,r,a,o)}}function Wr(e,t){t.invoke(mt,this),this.executed(function(n){var i=n.context;i.rootElement?e.setRootElement(i.rootElement):i.rootElement=e.getRootElement()}),this.revert(function(n){var i=n.context;i.rootElement&&e.setRootElement(i.rootElement)})}qt(Wr,mt);Wr.$inject=["canvas","injector"];const gp={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",Wr]};var bp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _p(e){return e=""+e,e&&e.replace(/[&<>"']/g,function(t){return bp[t]})}var wp="_plane";function Hr(e){var t=e.id;return le(e,"bpmn:SubProcess")?Ep(t):t}function Ep(e){return e+wp}var xp="bjs-breadcrumbs-shown";function ro(e,t,n){var i=Ft('<ul class="bjs-breadcrumbs"></ul>'),r=n.getContainer(),a=Ki(r);r.appendChild(i);var o=[];e.on("element.changed",function(c){var y=c.element,v=ze(y),x=Nt(o,function(m){return m===v});x&&u()});function u(c){c&&(o=Sp(c));var y=o.flatMap(function(x){var m=n.findRoot(Hr(x))||n.findRoot(x.id);if(!m&&le(x,"bpmn:Process")){var V=t.find(function(ne){var D=ze(ne);return D&&D.get("processRef")===x});m=V&&n.findRoot(V.id)}if(!m)return[];var K=_p(x.name||x.id),j=Ft('<li><span class="bjs-crumb"><a title="'+K+'">'+K+"</a></span></li>");return j.addEventListener("click",function(){n.setRootElement(m)}),j});i.innerHTML="";var v=y.length>1;a.toggle(xp,v),y.forEach(function(x){i.appendChild(x)})}e.on("root.set",function(c){u(c.element)})}ro.$inject=["eventBus","elementRegistry","canvas"];function Sp(e){for(var t=ze(e),n=[],i=t;i;i=i.$parent)(le(i,"bpmn:SubProcess")||le(i,"bpmn:Process"))&&n.push(i);return n.reverse()}function ao(e,t){var n=null,i=new kp;e.on("root.set",function(r){var a=r.element,o=t.viewbox(),u=i.get(a);if(i.set(n,{x:o.x,y:o.y,zoom:o.scale}),n=a,!(!le(a,"bpmn:SubProcess")&&!u)){u=u||{x:0,y:0,zoom:1};var c=(o.x-u.x)*o.scale,y=(o.y-u.y)*o.scale;(c!==0||y!==0)&&t.scroll({dx:c,dy:y}),u.zoom!==o.scale&&t.zoom(u.zoom,{x:0,y:0})}}),e.on("diagram.clear",function(){i.clear(),n=null})}ao.$inject=["eventBus","canvas"];function kp(){this._entries=[],this.set=function(e,t){var n=!1;for(var i in this._entries)if(this._entries[i][0]===e){this._entries[i][1]=t,n=!0;break}n||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var n in this._entries)if(this._entries[n][0]===e){t=n;break}t!==-1&&this._entries.splice(t,1)}}var Ia={x:180,y:160};function Pn(e,t){this._eventBus=e,this._moddle=t;var n=this;e.on("import.render.start",1500,function(i,r){n._handleImport(r.definitions)})}Pn.prototype._handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach(function(i){!i.plane||!i.plane.bpmnElement||(t._processToDiagramMap[i.plane.bpmnElement.id]=i)});var n=e.diagrams.filter(i=>i.plane).flatMap(i=>t._createNewDiagrams(i.plane));n.forEach(function(i){t._movePlaneElementsToOrigin(i.plane)})}};Pn.prototype._createNewDiagrams=function(e){var t=this,n=[],i=[];e.get("planeElement").forEach(function(a){var o=a.bpmnElement;if(o){var u=o.$parent;le(o,"bpmn:SubProcess")&&!a.isExpanded&&n.push(o),Tp(o,e)&&i.push({diElement:a,parent:u})}});var r=[];return n.forEach(function(a){if(!t._processToDiagramMap[a.id]){var o=t._createDiagram(a);t._processToDiagramMap[a.id]=o,r.push(o)}}),i.forEach(function(a){for(var o=a.diElement,u=a.parent;u&&n.indexOf(u)===-1;)u=u.$parent;if(u){var c=t._processToDiagramMap[u.id];t._moveToDiPlane(o,c.plane)}}),r};Pn.prototype._movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),n=Ap(e),i={x:n.x-Ia.x,y:n.y-Ia.y};t.forEach(function(r){r.waypoint?r.waypoint.forEach(function(a){a.x=a.x-i.x,a.y=a.y-i.y}):r.bounds&&(r.bounds.x=r.bounds.x-i.x,r.bounds.y=r.bounds.y-i.y)})};Pn.prototype._moveToDiPlane=function(e,t){var n=so(e),i=n.plane.get("planeElement");i.splice(i.indexOf(e),1),t.get("planeElement").push(e)};Pn.prototype._createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),n=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=n,t.bpmnElement=e,n.$parent=this._definitions,this._definitions.diagrams.push(n),n};Pn.$inject=["eventBus","moddle"];function so(e){return le(e,"bpmndi:BPMNDiagram")?e:so(e.$parent)}function Ap(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach(function(n){if(n.bounds){var i=Tr(n.bounds);t.top=Math.min(i.top,t.top),t.left=Math.min(i.left,t.left)}}),ip(t)}function Tp(e,t){var n=e.$parent;return!(!le(n,"bpmn:SubProcess")||n===t.bpmnElement||Mi(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var xi=250,Cp='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',Rp="bjs-drilldown-empty";function hn(e,t,n,i,r){mt.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=n,this._overlays=i,this._translate=r;var a=this;this.executed("shape.toggleCollapse",xi,function(o){var u=o.shape;a._canDrillDown(u)?a._addOverlay(u):a._removeOverlay(u)},!0),this.reverted("shape.toggleCollapse",xi,function(o){var u=o.shape;a._canDrillDown(u)?a._addOverlay(u):a._removeOverlay(u)},!0),this.executed(["shape.create","shape.move","shape.delete"],xi,function(o){var u=o.oldParent,c=o.newParent||o.parent,y=o.shape;a._canDrillDown(y)&&a._addOverlay(y),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(y)},!0),this.reverted(["shape.create","shape.move","shape.delete"],xi,function(o){var u=o.oldParent,c=o.newParent||o.parent,y=o.shape;a._canDrillDown(y)&&a._addOverlay(y),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(y)},!0),t.on("import.render.complete",function(){n.filter(function(o){return a._canDrillDown(o)}).map(function(o){a._addOverlay(o)})})}qt(hn,mt);hn.prototype._updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var n=t.findRoot(e);n&&this._updateOverlayVisibility(n)}};hn.prototype._canDrillDown=function(e){var t=this._canvas;return le(e,"bpmn:SubProcess")&&t.findRoot(Hr(e))};hn.prototype._updateOverlayVisibility=function(e){var t=this._overlays,n=ze(e),i=t.get({element:n.id,type:"drilldown"})[0];if(i){var r=n&&n.get("flowElements")&&n.get("flowElements").length;Ki(i.html).toggle(Rp,!r)}};hn.prototype._addOverlay=function(e){var t=this._canvas,n=this._overlays,i=ze(e),r=n.get({element:e,type:"drilldown"});r.length&&this._removeOverlay(e);var a=Ft('<button type="button" class="bjs-drilldown">'+Cp+"</button>"),o=i.get("name")||i.get("id"),u=this._translate("Open {element}",{element:o});a.setAttribute("title",u),a.addEventListener("click",function(){t.setRootElement(t.findRoot(Hr(e)))}),n.add(e,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(e)};hn.prototype._removeOverlay=function(e){var t=this._overlays;t.remove({element:e,type:"drilldown"})};hn.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const Dp={__depends__:[no,hp,gp],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",ro],drilldownCentering:["type",ao],drilldownOverlayBehavior:["type",hn],subprocessCompatibility:["type",Pn]};var Ip=500,Pp=1e3;function Nn(e,t){this._eventBus=e,this.offset=5;var n=t.cls("djs-outline",["no-fill"]),i=this;function r(a){var o=Ce("rect");return Ae(o,de({x:0,y:0,rx:4,width:100,height:100},n)),o}e.on(["shape.added","shape.changed"],Ip,function(a){var o=a.element,u=a.gfx,c=Dt(".djs-outline",u);c||(c=i.getOutline(o)||r(),He(u,c)),i.updateShapeOutline(c,o)}),e.on(["connection.added","connection.changed"],function(a){var o=a.element,u=a.gfx,c=Dt(".djs-outline",u);c||(c=r(),He(u,c)),i.updateConnectionOutline(c,o)})}Nn.prototype.updateShapeOutline=function(e,t){var n=!1,i=this._getProviders();i.length&&se(i,function(r){n=n||r.updateOutline(t,e)}),n||Ae(e,{x:-this.offset,y:-this.offset,width:t.width+this.offset*2,height:t.height+this.offset*2})};Nn.prototype.updateConnectionOutline=function(e,t){var n=An(t);Ae(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+this.offset*2,height:n.height+this.offset*2})};Nn.prototype.registerProvider=function(e,t){t||(t=e,e=Pp),this._eventBus.on("outline.getProviders",e,function(n){n.providers.push(t)})};Nn.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};Nn.prototype.getOutline=function(e){var t,n=this._getProviders();return se(n,function(i){an(i.getOutline)&&(t=t||i.getOutline(e))}),t};Nn.$inject=["eventBus","styles","elementRegistry"];const oo={__init__:["outline"],outline:["type",Nn]},Np="M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",$p="M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",Mp={width:36,height:50},Vp={width:50,height:50};function Pa(e,t,n){return Ce("path",{d:e,strokeWidth:2,transform:"translate(".concat(t.x,", ").concat(t.y,")"),...n})}const rn=5;function Xi(e,t){this._styles=t,e.registerProvider(this)}Xi.$inject=["outline","styles"];Xi.prototype.getOutline=function(e){const t=this._styles.cls("djs-outline",["no-fill"]);var n;if(!Ls(e))return le(e,"bpmn:Gateway")?(n=Ce("rect"),de(n.style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Ae(n,de({x:2,y:2,rx:4,width:e.width-4,height:e.height-4},t))):Mi(e,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?(n=Ce("rect"),Ae(n,de({x:-rn,y:-rn,rx:14,width:e.width+rn*2,height:e.height+rn*2},t))):le(e,"bpmn:EndEvent")?(n=Ce("circle"),Ae(n,de({cx:e.width/2,cy:e.height/2,r:e.width/2+rn+1},t))):le(e,"bpmn:Event")?(n=Ce("circle"),Ae(n,de({cx:e.width/2,cy:e.height/2,r:e.width/2+rn},t))):le(e,"bpmn:DataObjectReference")&&Na(e,"bpmn:DataObjectReference")?n=Pa(Np,{x:-6,y:-6},t):le(e,"bpmn:DataStoreReference")&&Na(e,"bpmn:DataStoreReference")&&(n=Pa($p,{x:-6,y:-6},t)),n};Xi.prototype.updateOutline=function(e,t){if(!Ls(e))return Mi(e,["bpmn:SubProcess","bpmn:Group"])?(Ae(t,{width:e.width+rn*2,height:e.height+rn*2}),!0):!!Mi(e,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};function Na(e,t){var n;return t==="bpmn:DataObjectReference"?n=Mp:t==="bpmn:DataStoreReference"&&(n=Vp),e.width===n.width&&e.height===n.height}const Lp={__depends__:[oo],__init__:["outlineProvider"],outlineProvider:["type",Xi]};function lo(e){return e.originalEvent||e.srcEvent}function uo(e,t){return(lo(e)||e).button===t}function Zi(e){return uo(e,0)}function Bp(e){return uo(e,1)}function Op(e){var t=lo(e)||e;return Zi(e)&&t.shiftKey}function Up(e){return!0}function Si(e){return Zi(e)||Bp(e)}var $a=500;function co(e,t,n){var i=this;function r(C,M,N){if(!u(C,M)){var H,G,Z;N?G=t.getGraphics(N):(H=M.delegateTarget||M.target,H&&(G=H,N=t.get(G))),!(!G||!N)&&(Z=e.fire(C,{element:N,gfx:G,originalEvent:M}),Z===!1&&(M.stopPropagation(),M.preventDefault()))}}var a={};function o(C){return a[C]}function u(C,M){var N=y[C]||Zi;return!N(M)}var c={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},y={"element.contextmenu":Up,"element.mousedown":Si,"element.mouseup":Si,"element.click":Si,"element.dblclick":Si};function v(C,M,N){var H=c[C];if(!H)throw new Error("unmapped DOM event name <"+C+">");return r(H,M,N)}var x="svg, .djs-element";function m(C,M,N,H){var G=a[N]=function(Z){r(N,Z)};H&&(y[N]=H),G.$delegate=Ar.bind(C,x,M,G)}function V(C,M,N){var H=o(N);H&&Ar.unbind(C,M,H.$delegate)}function K(C){se(c,function(M,N){m(C,N,M)})}function j(C){se(c,function(M,N){V(C,N,M)})}e.on("canvas.destroy",function(C){j(C.svg)}),e.on("canvas.init",function(C){K(C.svg)}),e.on(["shape.added","connection.added"],function(C){var M=C.element,N=C.gfx;e.fire("interactionEvents.createHit",{element:M,gfx:N})}),e.on(["shape.changed","connection.changed"],$a,function(C){var M=C.element,N=C.gfx;e.fire("interactionEvents.updateHit",{element:M,gfx:N})}),e.on("interactionEvents.createHit",$a,function(C){var M=C.element,N=C.gfx;i.createDefaultHit(M,N)}),e.on("interactionEvents.updateHit",function(C){var M=C.element,N=C.gfx;i.updateDefaultHit(M,N)});var ne=k("djs-hit djs-hit-stroke"),D=k("djs-hit djs-hit-click-stroke"),X=k("djs-hit djs-hit-all"),B=k("djs-hit djs-hit-no-move"),b={all:X,"click-stroke":D,stroke:ne,"no-move":B};function k(C,M){return M=de({stroke:"white",strokeWidth:15},M||{}),n.cls(C,["no-fill","no-border"],M)}function I(C,M){var N=b[M];if(!N)throw new Error("invalid hit type <"+M+">");return Ae(C,N),C}function S(C,M){He(C,M)}this.removeHits=function(C){var M=Ad(".djs-hit",C);se(M,ci)},this.createDefaultHit=function(C,M){var N=C.waypoints,H=C.isFrame,G;return N?this.createWaypointsHit(M,N):(G=H?"stroke":"all",this.createBoxHit(M,G,{width:C.width,height:C.height}))},this.createWaypointsHit=function(C,M){var N=qr(M);return I(N,"stroke"),S(C,N),N},this.createBoxHit=function(C,M,N){N=de({x:0,y:0},N);var H=Ce("rect");return I(H,M),Ae(H,N),S(C,H),H},this.updateDefaultHit=function(C,M){var N=Dt(".djs-hit",M);if(N)return C.waypoints?qs(N,C.waypoints):Ae(N,{width:C.width,height:C.height}),N},this.fire=r,this.triggerMouseEvent=v,this.mouseHandler=o,this.registerEvent=m,this.unregisterEvent=V}co.$inject=["eventBus","elementRegistry","styles"];const Fp={__init__:["interactionEvents"],interactionEvents:["type",co]};function Kn(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var n=this;e.on(["shape.remove","connection.remove"],function(i){var r=i.element;n.deselect(r)}),e.on(["diagram.clear","root.set"],function(i){n.select(null)})}Kn.$inject=["eventBus","canvas"];Kn.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(n!==-1){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}};Kn.prototype.get=function(){return this._selectedElements};Kn.prototype.isSelected=function(e){return this._selectedElements.indexOf(e)!==-1};Kn.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();Pt(e)||(e=e?[e]:[]);var r=this._canvas,a=r.getRootElement();e=e.filter(function(o){var u=r.findRoot(o);return a===u}),t?se(e,function(o){n.indexOf(o)===-1&&n.push(o)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};var Ma="hover",Va="selected",ki=6;function Yr(e,t,n){this._canvas=e;var i=this;this._multiSelectionBox=null;function r(o,u){e.addMarker(o,u)}function a(o,u){e.removeMarker(o,u)}t.on("element.hover",function(o){r(o.element,Ma)}),t.on("element.out",function(o){a(o.element,Ma)}),t.on("selection.changed",function(o){function u(x){a(x,Va)}function c(x){r(x,Va)}var y=o.oldSelection,v=o.newSelection;se(y,function(x){v.indexOf(x)===-1&&u(x)}),se(v,function(x){y.indexOf(x)===-1&&c(x)}),i._updateSelectionOutline(v)}),t.on("element.changed",function(o){n.isSelected(o.element)&&i._updateSelectionOutline(n.get())})}Yr.$inject=["canvas","eventBus","selection"];Yr.prototype._updateSelectionOutline=function(e){var t=this._canvas.getLayer("selectionOutline");zc(t);var n=e.length>1,i=this._canvas.getContainer();if(Tt(i)[n?"add":"remove"]("djs-multi-select"),!!n){var r=qp(An(e)),a=Ce("rect");Ae(a,de({rx:3},r)),Tt(a).add("djs-selection-outline"),He(t,a)}};function qp(e){return{x:e.x-ki,y:e.y-ki,width:e.width+ki*2,height:e.height+ki*2}}function po(e,t,n,i){e.on("create.end",500,function(r){var a=r.context,o=a.canExecute,u=a.elements,c=a.hints||{},y=c.autoSelect;if(o){if(y===!1)return;Pt(y)?t.select(y):t.select(u.filter(jp))}}),e.on("connect.end",500,function(r){var a=r.context,o=a.connection;o&&t.select(o)}),e.on("shape.move.end",500,function(r){var a=r.previousSelection||[],o=i.get(r.context.shape.id),u=Nt(a,function(c){return o.id===c.id});u||t.select(o)}),e.on("element.click",function(r){if(Zi(r)){var a=r.element;a===n.getRootElement()&&(a=null);var o=t.isSelected(a),u=t.get().length>1,c=Op(r);if(o&&u)return c?t.deselect(a):t.select(a);o?t.deselect(a):t.select(a,c)}})}po.$inject=["eventBus","selection","canvas","elementRegistry"];function jp(e){return!e.hidden}const zp={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Fp,oo],selection:["type",Kn],selectionVisuals:["type",Yr],selectionBehavior:["type",po]},Wp=/^class[ {]/;function Hp(e){return Wp.test(e.toString())}function Kr(e){return Array.isArray(e)}function yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ii(...e){e.length===1&&Kr(e[0])&&(e=e[0]),e=[...e];const t=e.pop();return t.$inject=e,t}const Yp=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Kp=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,Gp=/\/\*([^*]*)\*\//m;function Qp(e){if(typeof e!="function")throw new Error('Cannot annotate "'.concat(e,'". Expected a function!'));const t=e.toString().match(Hp(e)?Yp:Kp);if(!t)return[];const n=t[1]||t[2];return n&&n.split(",").map(i=>{const r=i.match(Gp);return(r&&r[1]||i).trim()})||[]}function fo(e,t){const n=t||{get:function(B,b){if(i.push(B),b===!1)return null;throw u('No provider for "'.concat(B,'"!'))}},i=[],r=this._providers=Object.create(n._providers||null),a=this._instances=Object.create(null),o=a.injector=this,u=function(B){const b=i.join(" -> ");return i.length=0,new Error(b?"".concat(B," (Resolving: ").concat(b,")"):B)};function c(B,b){if(!r[B]&&B.includes(".")){const k=B.split(".");let I=c(k.shift());for(;k.length;)I=I[k.shift()];return I}if(yr(a,B))return a[B];if(yr(r,B)){if(i.indexOf(B)!==-1)throw i.push(B),u("Cannot resolve circular dependency!");return i.push(B),a[B]=r[B][0](r[B][1]),i.pop(),a[B]}return n.get(B,b)}function y(B,b){if(typeof b>"u"&&(b={}),typeof B!="function")if(Kr(B))B=Ii(B.slice());else throw u('Cannot invoke "'.concat(B,'". Expected a function!'));const I=(B.$inject||Qp(B)).map(S=>yr(b,S)?b[S]:c(S));return{fn:B,dependencies:I}}function v(B){const{fn:b,dependencies:k}=y(B),I=Function.prototype.bind.call(b,null,...k);return new I}function x(B,b,k){const{fn:I,dependencies:S}=y(B,k);return I.apply(b,S)}function m(B){return Ii(b=>B.get(b))}function V(B,b){if(b&&b.length){const k=Object.create(null),I=Object.create(null),S=[],C=[],M=[];let N,H,G,Z;for(let ye in r)N=r[ye],b.indexOf(ye)!==-1&&(N[2]==="private"?(H=S.indexOf(N[3]),H===-1?(G=N[3].createChild([],b),Z=m(G),S.push(N[3]),C.push(G),M.push(Z),k[ye]=[Z,ye,"private",G]):k[ye]=[M[H],ye,"private",C[H]]):k[ye]=[N[2],N[1]],I[ye]=!0),(N[2]==="factory"||N[2]==="type")&&N[1].$scope&&b.forEach(pe=>{N[1].$scope.indexOf(pe)!==-1&&(k[ye]=[N[2],N[1]],I[pe]=!0)});b.forEach(ye=>{if(!I[ye])throw new Error('No provider for "'+ye+'". Cannot use provider from the parent!')}),B.unshift(k)}return new fo(B,o)}const K={factory:x,type:v,value:function(B){return B}};function j(B,b){const k=B.__init__||[];return function(){k.forEach(I=>{typeof I=="string"?b.get(I):b.invoke(I)})}}function ne(B){const b=B.__exports__;if(b){const k=B.__modules__,I=Object.keys(B).reduce((H,G)=>(G!=="__exports__"&&G!=="__modules__"&&G!=="__init__"&&G!=="__depends__"&&(H[G]=B[G]),H),Object.create(null)),S=(k||[]).concat(I),C=V(S),M=Ii(function(H){return C.get(H)});b.forEach(function(H){r[H]=[M,H,"private",C]});const N=(B.__init__||[]).slice();return N.unshift(function(){C.init()}),B=Object.assign({},B,{__init__:N}),j(B,C)}return Object.keys(B).forEach(function(k){if(k==="__init__"||k==="__depends__")return;const I=B[k];if(I[2]==="private"){r[k]=I;return}const S=I[0],C=I[1];r[k]=[K[S],Xp(S,C),S]}),j(B,o)}function D(B,b){return B.indexOf(b)!==-1||(B=(b.__depends__||[]).reduce(D,B),B.indexOf(b)!==-1)?B:B.concat(b)}function X(B){const b=B.reduce(D,[]).map(ne);let k=!1;return function(){k||(k=!0,b.forEach(I=>I()))}}this.get=c,this.invoke=x,this.instantiate=v,this.createChild=V,this.init=X(e)}function Xp(e,t){return e!=="value"&&Kr(t)&&(t=Ii(t.slice())),t}var Zp=1;function yn(e,t){Qt.call(this,e,Zp),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}qt(yn,Qt);yn.prototype.canRender=function(){return!0};yn.prototype.drawShape=function(t,n,i){var r=Ce("rect");return Ae(r,{x:0,y:0,width:n.width||0,height:n.height||0}),Zs(n)?Ae(r,de({},this.FRAME_STYLE,i||{})):Ae(r,de({},this.SHAPE_STYLE,i||{})),He(t,r),r};yn.prototype.drawConnection=function(t,n,i){var r=qr(n.waypoints,de({},this.CONNECTION_STYLE,i||{}));return He(t,r),r};yn.prototype.getShapePath=function(t){var n=t.x,i=t.y,r=t.width,a=t.height,o=[["M",n,i],["l",r,0],["l",0,a],["l",-r,0],["z"]];return Dn(o)};yn.prototype.getConnectionPath=function(t){var n=t.waypoints,i,r,a=[];for(i=0;r=n[i];i++)r=r.original||r,a.push([i===0?"M":"L",r.x,r.y]);return Dn(a)};yn.$inject=["eventBus","styles"];function Jp(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(n,i,r){var a=this.style(i,r);return de(a,{class:n})},this.style=function(n,i){!Pt(n)&&!i&&(i=n,n=[]);var r=zn(n,function(a,o){return de(a,e[o]||{})},{});return i?de(r,i):r},this.computeStyle=function(n,i,r){return Pt(i)||(r=i,i=[]),t.style(i||[],de({},r,n||{}))}}const ef={__init__:["defaultRenderer"],defaultRenderer:["type",yn],styles:["type",Jp]};function tf(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return n!==-1&&e.splice(n,1),n}function nf(e,t,n){if(!(!e||!t)){typeof n!="number"&&(n=-1);var i=e.indexOf(t);if(i!==-1){if(i===n)return;if(n!==-1)e.splice(i,1);else return}n!==-1?e.splice(n,0,t):e.push(t)}}function Pi(e,t){return Math.round(e*t)/t}function La(e){return ln(e)?e+"px":e}function rf(e){for(;e.parent;)e=e.parent;return e}function af(e){e=de({},{width:"100%",height:"100%"},e);const t=e.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),gt(n,{position:"relative",overflow:"hidden",width:La(e.width),height:La(e.height)}),t.appendChild(n),n}function mo(e,t,n){const i=Ce("g");Tt(i).add(t);const r=n!==void 0?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}const sf="base",ho=0,of=1,lf={shape:["x","y","width","height"],connection:["waypoints"]};function be(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(e||{})}be.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];be.prototype._init=function(e){const t=this._eventBus,n=this._container=af(e),i=this._svg=Ce("svg");Ae(i,{width:"100%",height:"100%"}),He(n,i);const r=this._viewport=mo(i,"viewport");e.deferUpdate&&(this._viewboxChanged=kc(un(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:i,viewport:r})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)};be.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};be.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const n=Xs(t);n==="root"?this.removeRootElement(t):this._removeElement(t,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};be.prototype.getDefaultLayer=function(){return this.getLayer(sf,ho)};be.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),typeof t<"u"&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group};be.prototype._getChildIndex=function(e){return zn(this._layers,function(t,n){return n.visible&&e>=n.index&&t++,t},0)};be.prototype._createLayer=function(e,t){typeof t>"u"&&(t=of);const n=this._getChildIndex(t);return{group:mo(this._viewport,"layer-"+e,n),index:t,visible:!0}};be.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=this._viewport,i=t.group,r=t.index;if(t.visible)return i;const a=this._getChildIndex(r);return n.insertBefore(i,n.childNodes[a]||null),t.visible=!0,i};be.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=t.group;return t.visible&&(ci(n),t.visible=!1),n};be.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],ci(t.group))};be.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null};be.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot(rf(e))||{}).rootElement:void 0};be.prototype.getRootElements=function(){return this._planes.map(function(e){return e.rootElement})};be.prototype._findPlaneForRoot=function(e){return Nt(this._planes,function(t){return t.rootElement===e})};be.prototype.getContainer=function(){return this._container};be.prototype._updateMarker=function(e,t,n){let i;e.id||(e=this._elementRegistry.get(e)),e.markers=e.markers||new Set,i=this._elementRegistry._elements[e.id],i&&(se([i.gfx,i.secondaryGfx],function(r){r&&(n?(e.markers.add(t),Tt(r).add(t)):(e.markers.delete(t),Tt(r).remove(t)))}),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))};be.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)};be.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)};be.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),e.markers?e.markers.has(t):!1};be.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)};be.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))};be.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const n=e.layer="root-"+t;this._ensureValid("root",e);const i=this.getLayer(n,ho);return this.hideLayer(n),this._addRoot(e,i),this._planes.push({rootElement:e,layer:i}),e};be.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),!!this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==e}),this._rootElement===e&&(this._rootElement=null),e};be.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let t;if(!e)throw new Error("rootElement required");return t=this._findPlaneForRoot(e),t||(e=this.addRootElement(e)),this._setRoot(e),e};be.prototype._removeRoot=function(e){const t=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:e}),n.fire("root.removed",{element:e}),t.remove(e)};be.prototype._addRoot=function(e,t){const n=this._elementRegistry,i=this._eventBus;i.fire("root.add",{element:e}),n.add(e,t),i.fire("root.added",{element:e,gfx:t})};be.prototype._setRoot=function(e,t){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})};be.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const n=lf[e];if(!Ms(n,function(r){return typeof t[r]<"u"}))throw new Error("must supply { "+n.join(", ")+" } with "+e)};be.prototype._setParent=function(e,t,n){nf(t.children,e,n),e.parent=t};be.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();const r=this._eventBus,a=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);const o=a.create(e,t,i);return this._elementRegistry.add(t,o),a.update(e,t,o),r.fire(e+".added",{element:t,gfx:o}),t};be.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)};be.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)};be.prototype._removeElement=function(e,t){const n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e),!!e)return r.fire(t+".remove",{element:e}),i.remove(e),tf(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e};be.prototype.removeShape=function(e){return this._removeElement(e,"shape")};be.prototype.removeConnection=function(e){return this._removeElement(e,"connection")};be.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)};be.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()};be.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};be.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const t=this._viewport,n=this.getSize();let i,r,a,o,u,c,y;if(e)this._changeViewbox(function(){u=Math.min(n.width/e.width,n.height/e.height);const v=this._svg.createSVGMatrix().scale(u).translate(-e.x,-e.y);si(t,v)});else return a=this._rootElement?this.getActiveLayer():null,i=a&&a.getBBox()||{},o=si(t),r=o?o.matrix:Yc(),u=Pi(r.a,1e3),c=Pi(-r.e||0,1e3),y=Pi(-r.f||0,1e3),e=this._cachedViewbox={x:c?c/u:0,y:y?y/u:0,width:n.width/u,height:n.height/u,scale:u,inner:{width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0},outer:n},e;return e};be.prototype.scroll=function(e){const t=this._viewport;let n=t.getCTM();return e&&this._changeViewbox(function(){e=de({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),yo(t,n)}),{x:n.e,y:n.f}};be.prototype.scrollToElement=function(e,t){let n=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const i=this.findRoot(e);if(i!==this.getRootElement()&&this.setRootElement(i),i===e)return;t||(t={}),typeof t=="number"&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};const r=An(e),a=Tr(r),o=this.viewbox(),u=this.zoom();let c,y;o.y+=t.top/u,o.x+=t.left/u,o.width-=(t.right+t.left)/u,o.height-=(t.bottom+t.top)/u;const v=Tr(o);if(!(r.width<o.width&&r.height<o.height))c=r.x-o.x,y=r.y-o.y;else{const m=Math.max(0,a.right-v.right),V=Math.min(0,a.left-v.left),K=Math.max(0,a.bottom-v.bottom),j=Math.min(0,a.top-v.top);c=m||V,y=K||j}this.scroll({dx:-c*u,dy:-y*u})};be.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(t);let n,i;return this._changeViewbox(function(){typeof t!="object"&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)}),Pi(i.a,1e3)};function yo(e,t){const n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}be.prototype._fitViewport=function(e){const t=this.viewbox(),n=t.outer,i=t.inner;let r,a;return i.x>=0&&i.y>=0&&i.x+i.width<=n.width&&i.y+i.height<=n.height&&!e?a={x:0,y:0,width:Math.max(i.width+i.x,n.width),height:Math.max(i.height+i.y,n.height)}:(r=Math.min(1,n.width/i.width,n.height/i.height),a={x:i.x+(e?i.width/2-n.width/r/2:0),y:i.y+(e?i.height/2-n.height/r/2:0),width:n.width/r,height:n.height/r}),this.viewbox(a),this.viewbox(!1).scale};be.prototype._setZoom=function(e,t){const n=this._svg,i=this._viewport,r=n.createSVGMatrix(),a=n.createSVGPoint();let o,u,c,y,v;c=i.getCTM();const x=c.a;return t?(o=de(a,t),u=o.matrixTransform(c.inverse()),y=r.translate(u.x,u.y).scale(1/x*e).translate(-u.x,-u.y),v=c.multiply(y)):v=r.scale(e),yo(this._viewport,v),v};be.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};be.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let n;e.waypoints?n=this.getGraphics(e).getBBox():n=e;const i=n.x*t.scale-t.x*t.scale,r=n.y*t.scale-t.y*t.scale,a=n.width*t.scale,o=n.height*t.scale;return{x:i,y:r,width:a,height:o}};be.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Wn="data-element-id";function Et(e){this._elements={},this._eventBus=e}Et.$inject=["eventBus"];Et.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),Ae(t,Wn,i),n&&Ae(n,Wn,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}};Et.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(Ae(i.gfx,Wn,""),i.secondaryGfx&&Ae(i.secondaryGfx,Wn,""),delete t[n])};Et.prototype.updateId=function(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)};Et.prototype.updateGraphics=function(e,t,n){var i=e.id||e,r=this._elements[i];return n?r.secondaryGfx=t:r.gfx=t,t&&Ae(t,Wn,i),t};Et.prototype.get=function(e){var t;typeof e=="string"?t=e:t=e&&Ae(e,Wn);var n=this._elements[t];return n&&n.element};Et.prototype.filter=function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(n)}),t};Et.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],a=t[r],o=a.element,u=a.gfx;if(e(o,u))return o}};Et.prototype.getAll=function(){return this.filter(function(e){return e})};Et.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(n){var i=t[n],r=i.element,a=i.gfx;return e(r,a)})};Et.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)};Et.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};function uf(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(a){var o=this.indexOf(a);return o!==-1&&(this.splice(o,1),t.unset(a,r,i)),a}}),Object.defineProperty(e,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(e,"add",{value:function(a,o){var u=this.indexOf(a);if(typeof o>"u"){if(u!==-1)return;o=this.length}u!==-1&&this.splice(u,1),this.splice(o,0,a),u===-1&&t.set(a,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function cf(e){return e.__refs_collection===!0}function df(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function vo(e,t,n){var i=uf(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:i}),i.length&&i.forEach(function(r){e.set(r,t.inverse,n)})}function pf(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(a){if(a!==r){var o=r;r=null,o&&e.unset(o,i,n),r=a,e.set(r,i,n)}}})}function Ct(e,t){if(!(this instanceof Ct))return new Ct(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}Ct.prototype.bind=function(e,t){if(typeof t=="string"){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?vo(this,t,e):pf(this,t,e)};Ct.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return cf(n)||vo(this,t,e),n};Ct.prototype.ensureBound=function(e,t){df(e,t)||this.bind(e,t)};Ct.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)};Ct.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)};var Gr=new Ct({name:"children",enumerable:!0,collection:!0},{name:"parent"}),go=new Ct({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Ba=new Ct({name:"attachers",collection:!0},{name:"host"}),bo=new Ct({name:"outgoing",collection:!0},{name:"source"}),_o=new Ct({name:"incoming",collection:!0},{name:"target"});function di(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),Gr.bind(this,"parent"),go.bind(this,"labels"),bo.bind(this,"outgoing"),_o.bind(this,"incoming")}function pi(){di.call(this),Gr.bind(this,"children"),Ba.bind(this,"host"),Ba.bind(this,"attachers")}qt(pi,di);function wo(){di.call(this),Gr.bind(this,"children")}qt(wo,pi);function Eo(){pi.call(this),go.bind(this,"labelTarget")}qt(Eo,pi);function xo(){di.call(this),bo.bind(this,"source"),_o.bind(this,"target")}qt(xo,di);var ff={connection:xo,shape:pi,label:Eo,root:wo};function mf(e,t){var n=ff[e];if(!n)throw new Error("unknown type: <"+e+">");return de(new n,t)}function Gn(){this._uid=12}Gn.prototype.createRoot=function(e){return this.create("root",e)};Gn.prototype.createLabel=function(e){return this.create("label",e)};Gn.prototype.createShape=function(e){return this.create("shape",e)};Gn.prototype.createConnection=function(e){return this.create("connection",e)};Gn.prototype.create=function(e,t){return t=de({},t||{}),t.id||(t.id=e+"_"+this._uid++),mf(e,t)};var Fi="__fn",So=1e3,hf=Array.prototype.slice;function bt(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}bt.prototype.on=function(e,t,n,i){if(e=Pt(e)?e:[e],an(t)&&(i=n,n=t,t=So),!ln(t))throw new Error("priority must be a number");var r=n;i&&(r=un(n,i),r[Fi]=n[Fi]||n);var a=this;e.forEach(function(o){a._addListener(o,{priority:t,callback:r,next:null})})};bt.prototype.once=function(e,t,n,i){var r=this;if(an(t)&&(i=n,n=t,t=So),!ln(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var o=n.apply(i,arguments);return r.off(e,a),o}a[Fi]=n,this.on(e,t,a)};bt.prototype.off=function(e,t){e=Pt(e)?e:[e];var n=this;e.forEach(function(i){n._removeListener(i,t)})};bt.prototype.createEvent=function(e){var t=new fi;return t.init(e),t};bt.prototype.fire=function(e,t){var n,i,r,a;if(a=hf.call(arguments),typeof e=="object"&&(t=e,e=t.type),!e)throw new Error("no event type specified");if(i=this._listeners[e],!!i){t instanceof fi?n=t:n=this.createEvent(t),a[0]=n;var o=n.type;e!==o&&(n.type=e);try{r=this._invokeListeners(n,a,i)}finally{e!==o&&(n.type=o)}return r===void 0&&n.defaultPrevented&&(r=!1),r}};bt.prototype.handleError=function(e){return this.fire("error",{error:e})===!1};bt.prototype._destroy=function(){this._listeners={}};bt.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i};bt.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{i=yf(n.callback,t),i!==void 0&&(e.returnValue=i,e.stopPropagation()),i===!1&&e.preventDefault()}catch(r){if(!this.handleError(r))throw console.error("unhandled error in event listener",r),r}return i};bt.prototype._addListener=function(e,t){var n=this._getListeners(e),i;if(!n){this._setListeners(e,t);return}for(;n;){if(n.priority<t.priority){t.next=n,i?i.next=t:this._setListeners(e,t);return}i=n,n=n.next}i.next=t};bt.prototype._getListeners=function(e){return this._listeners[e]};bt.prototype._setListeners=function(e,t){this._listeners[e]=t};bt.prototype._removeListener=function(e,t){var n=this._getListeners(e),i,r,a;if(!t){this._setListeners(e,null);return}for(;n;)i=n.next,a=n.callback,(a===t||a[Fi]===t)&&(r?r.next=i:this._setListeners(e,i)),r=n,n=i};function fi(){}fi.prototype.stopPropagation=function(){this.cancelBubble=!0};fi.prototype.preventDefault=function(){this.defaultPrevented=!0};fi.prototype.init=function(e){de(this,e||{})};function yf(e,t){return e.apply(null,t)}function vf(e){return e.childNodes[0]}function gf(e){return e.parentNode.childNodes[1]}function xt(e,t){this._eventBus=e,this._elementRegistry=t}xt.$inject=["eventBus","elementRegistry"];xt.prototype._getChildrenContainer=function(e){var t=this._elementRegistry.getGraphics(e),n;return e.parent?(n=gf(t),n||(n=Ce("g"),Tt(n).add("djs-children"),He(t.parentNode,n))):n=t,n};xt.prototype._clear=function(e){var t=vf(e);return js(t),t};xt.prototype._createContainer=function(e,t,n,i){var r=Ce("g");Tt(r).add("djs-group"),typeof n<"u"?ko(r,t,t.childNodes[n]):He(t,r);var a=Ce("g");Tt(a).add("djs-element"),Tt(a).add("djs-"+e),i&&Tt(a).add("djs-frame"),He(r,a);var o=Ce("g");return Tt(o).add("djs-visual"),He(a,o),a};xt.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,Zs(t))};xt.prototype.updateContainments=function(e){var t=this,n=this._elementRegistry,i;i=zn(e,function(r,a){return a.parent&&(r[a.parent.id]=a.parent),r},{}),se(i,function(r){var a=r.children;if(a){var o=t._getChildrenContainer(r);se(a.slice().reverse(),function(u){var c=n.getGraphics(u);ko(c.parentNode,o)})}})};xt.prototype.drawShape=function(e,t,n={}){var i=this._eventBus;return i.fire("render.shape",{gfx:e,element:t,attrs:n})};xt.prototype.getShapePath=function(e){var t=this._eventBus;return t.fire("render.getShapePath",e)};xt.prototype.drawConnection=function(e,t,n={}){var i=this._eventBus;return i.fire("render.connection",{gfx:e,element:t,attrs:n})};xt.prototype.getConnectionPath=function(e){var t=this._eventBus;return t.fire("render.getConnectionPath",e)};xt.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if(e==="shape")this.drawShape(i,t),Ys(n,t.x,t.y);else if(e==="connection")this.drawConnection(i,t);else throw new Error("unknown type: "+e);t.hidden?Ae(n,"display","none"):Ae(n,"display","block")}};xt.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);ci(t.parentNode)};function ko(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}const bf={__depends__:[ef],__init__:["canvas"],canvas:["type",be],elementRegistry:["type",Et],elementFactory:["type",Gn],eventBus:["type",bt],graphicsFactory:["type",xt]};function _f(e){var t=new fo(e);return t.init(),t}function wf(e){e=e||{};var t={config:["value",e]},n=[t,bf].concat(e.modules||[]);return _f(n)}function vn(e,t){this._injector=t||wf(e),this.get("eventBus").fire("diagram.init")}vn.prototype.get=function(e,t){return this._injector.get(e,t)};vn.prototype.invoke=function(e,t,n){return this._injector.invoke(e,t,n)};vn.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};vn.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function Qr(){}Qr.prototype.get=function(e){return this.$model.properties.get(this,e)};Qr.prototype.set=function(e,t){this.$model.properties.set(this,e,t)};function Ao(e,t){this.model=e,this.properties=t}Ao.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(Qr.prototype);se(e.properties,function(o){!o.isMany&&o.default!==void 0&&(i[o.name]=o.default)}),n.defineModel(i,t),n.defineDescriptor(i,e);var r=e.ns.name;function a(o){n.define(this,"$type",{value:r,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),se(o,un(function(u,c){this.set(c,u)},this))}return a.prototype=i,a.hasType=i.$instanceOf=this.model.hasType,n.defineModel(a,t),n.defineDescriptor(a,e),a};var Ef={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},To={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function Xr(e,t){var n=To[e];return n?n(t):t}function Rr(e){return!!Ef[e]}function Co(e){return!!To[e]}function ct(e,t){var n=e.split(/:/),i,r;if(n.length===1)i=e,r=t;else if(n.length===2)i=n[1],r=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+e);return e=(r?r+":":"")+i,{name:e,prefix:r,localName:i}}function St(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}St.prototype.build=function(){return Tc(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};St.prototype.addProperty=function(e,t,n){typeof t=="boolean"&&(n=t,t=void 0),this.addNamedProperty(e,n!==!1);var i=this.properties;t!==void 0?i.splice(t,0,e):i.push(e)};St.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,a=this.propertiesByName,o=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var u=r.indexOf(e);if(u===-1)throw new Error("property <"+i.name+"> not found in property list");r.splice(u,1),this.addProperty(t,n?void 0:u,o),a[i.name]=a[i.localName]=t};St.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),a=ct(r[0],i),o=ct(r[1],a.prefix).name,u=this.propertiesByName[o];if(u)this.replaceProperty(u,e,n);else throw new Error("refined property <"+o+"> not found");delete e.redefines};St.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e};St.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]};St.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e};St.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e};St.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error("cannot create <".concat(e.name,"> extending <").concat(e.extends,">"))};St.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")};St.prototype.hasProperty=function(e){return this.propertiesByName[e]};St.prototype.addTrait=function(e,t){t&&this.assertNotTrait(e);var n=this.allTypesByName,i=this.allTypes,r=e.name;r in n||(se(e.properties,un(function(a){a=de({},a,{name:a.ns.localName,inherited:t}),Object.defineProperty(a,"definedBy",{value:e});var o=a.replaces,u=a.redefines;o||u?this.redefineProperty(a,o||u,o):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),i.push(e),n[r]=e)};function gn(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,se(e,un(this.registerPackage,this))}gn.prototype.getPackage=function(e){return this.packageMap[e]};gn.prototype.getPackages=function(){return this.packages};gn.prototype.registerPackage=function(e){e=de({},e);var t=this.packageMap;Oa(t,e,"prefix"),Oa(t,e,"uri"),se(e.types,un(function(n){this.registerType(n,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)};gn.prototype.registerType=function(e,t){e=de({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:de(e.meta||{})});var n=ct(e.name,t.prefix),i=n.name,r={};se(e.properties,un(function(a){var o=ct(a.name,n.prefix),u=o.name;Rr(a.type)||(a.type=ct(a.type,o.prefix).name),de(a,{ns:o,name:u}),r[u]=a},this)),de(e,{ns:n,name:i,propertiesByName:r}),se(e.extends,un(function(a){var o=ct(a,n.prefix),u=this.typeMap[o.name];u.traits=u.traits||[],u.traits.push(i)},this)),this.definePackage(e,t),this.typeMap[i]=e};gn.prototype.mapTypes=function(e,t,n){var i=Rr(e.name)?{name:e.name}:this.typeMap[e.name],r=this;function a(c,y){var v=ct(c,Rr(c)?"":e.prefix);r.mapTypes(v,t,y)}function o(c){return a(c,!0)}function u(c){return a(c,!1)}if(!i)throw new Error("unknown type <"+e.name+">");se(i.superClass,n?o:u),t(i,!n),se(i.traits,o)};gn.prototype.getEffectiveDescriptor=function(e){var t=ct(e),n=new St(t);this.mapTypes(t,function(r,a){n.addTrait(r,a)});var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i};gn.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})};function Oa(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function $n(e){this.model=e}$n.prototype.set=function(e,t,n){if(!Ut(t)||!t.length)throw new TypeError("property name must be a non-empty string");var i=this.getProperty(e,t),r=i&&i.name;xf(n)?i?delete e[r]:delete e.$attrs[Dr(t)]:i?r in e?e[r]=n:Ro(e,i,n):e.$attrs[Dr(t)]=n};$n.prototype.get=function(e,t){var n=this.getProperty(e,t);if(!n)return e.$attrs[Dr(t)];var i=n.name;return!e[i]&&n.isMany&&Ro(e,n,[]),e[i]};$n.prototype.define=function(e,t,n){if(!n.writable){var i=n.value;n=de({},n,{get:function(){return i}}),delete n.value}Object.defineProperty(e,t,n)};$n.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})};$n.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})};$n.prototype.getProperty=function(e,t){var n=this.model,i=n.getPropertyDescriptor(e,t);if(i)return i;if(t.includes(":"))return null;const r=n.config.strict;if(typeof r<"u"){const a=new TypeError("unknown property <".concat(t,"> on <").concat(e.$type,">"));if(r)throw a;typeof console<"u"&&console.warn(a)}return null};function xf(e){return typeof e>"u"}function Ro(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function Dr(e){return e.replace(/^:/,"")}function Rt(e,t={}){this.properties=new $n(this),this.factory=new Ao(this,this.properties),this.registry=new gn(e,this.properties),this.typeCache={},this.config=t}Rt.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)};Rt.prototype.getType=function(e){var t=this.typeCache,n=Ut(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i};Rt.prototype.createAny=function(e,t,n){var i=ct(e),r={$type:e,$instanceOf:function(o){return o===this.$type},get:function(o){return this[o]},set:function(o,u){Ac(this,[o],u)}},a={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,a),this.properties.defineModel(r,this),this.properties.define(r,"get",{enumerable:!1,writable:!0}),this.properties.define(r,"set",{enumerable:!1,writable:!0}),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),this.properties.define(r,"$instanceOf",{enumerable:!1,writable:!0}),se(n,function(o,u){on(o)&&o.value!==void 0?r[o.name]=o.value:r[u]=o}),r};Rt.prototype.getPackage=function(e){return this.registry.getPackage(e)};Rt.prototype.getPackages=function(){return this.registry.getPackages()};Rt.prototype.getElementDescriptor=function(e){return e.$descriptor};Rt.prototype.hasType=function(e,t){t===void 0&&(t=e,e=this);var n=e.$model.getElementDescriptor(e);return t in n.allTypesByName};Rt.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]};Rt.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var Ua=String.fromCharCode,Sf=Object.prototype.hasOwnProperty,kf=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,ri={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(ri).forEach(function(e){ri[e.toUpperCase()]=ri[e]});function Af(e,t,n,i){return i?Sf.call(ri,i)?ri[i]:"&"+i+";":Ua(t||parseInt(n,16))}function En(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(kf,Af):e}var Tf="http://www.w3.org/2001/XMLSchema-instance",Cf="xsi",Fa="xsi:type",qa="non-whitespace outside of root node";function Un(e){return new Error(e)}function ja(e){return"missing namespace for prefix <"+e+">"}function Ai(e){return{get:e,enumerable:!0}}function Rf(e){var t={},n;for(n in e)t[n]=e[n];return t}function Ir(e){return e+"$uri"}function Df(e){var t={},n,i;for(n in e)i=e[n],t[i]=i,t[Ir(i)]=n;return t}function za(){return{line:0,column:0}}function If(e){throw e}function Do(e){if(!this)return new Do(e);var t=e&&e.proxy,n,i,r,a,o=If,u,c,y,v,x=za,m=!1,V=!1,K=null,j=!1,ne;function D(b){b instanceof Error||(b=Un(b)),K=b,o(b,x)}function X(b){u&&(b instanceof Error||(b=Un(b)),u(b,x))}this.on=function(b,k){if(typeof k!="function")throw Un("required args <name, cb>");switch(b){case"openTag":i=k;break;case"text":n=k;break;case"closeTag":r=k;break;case"error":o=k;break;case"warn":u=k;break;case"cdata":a=k;break;case"attention":v=k;break;case"question":y=k;break;case"comment":c=k;break;default:throw Un("unsupported event: "+b)}return this},this.ns=function(b){if(typeof b>"u"&&(b={}),typeof b!="object")throw Un("required args <nsMap={}>");var k={},I;for(I in b)k[I]=b[I];return k[Tf]=Cf,V=!0,ne=k,this},this.parse=function(b){if(typeof b!="string")throw Un("required args <xml=string>");return K=null,B(b),x=za,j=!1,K},this.stop=function(){j=!0};function B(b){var k=V?[]:null,I=V?Df(ne):null,S,C=[],M=0,N=!1,H=!1,G=0,Z=0,ye,pe,oe,he,at,Ke,Ie,We,F,O="",J=0,Te;function f(){if(Te!==null)return Te;var l,h,_,L=V&&I.xmlns,re=V&&m?[]:null,ie=J,ve=O,Ue=ve.length,lt,rt,Ne,Ze,xe,_t={},Jt={},Je,ae,ke;e:for(;ie<Ue;ie++)if(Je=!1,ae=ve.charCodeAt(ie),!(ae===32||ae<14&&ae>8)){for((ae<65||ae>122||ae>90&&ae<97)&&ae!==95&&ae!==58&&(X("illegal first char attribute name"),Je=!0),ke=ie+1;ke<Ue;ke++)if(ae=ve.charCodeAt(ke),!(ae>96&&ae<123||ae>64&&ae<91||ae>47&&ae<59||ae===46||ae===45||ae===95)){if(ae===32||ae<14&&ae>8){X("missing attribute value"),ie=ke;continue e}if(ae===61)break;X("illegal attribute name char"),Je=!0}if(xe=ve.substring(ie,ke),xe==="xmlns:xmlns"&&(X("illegal declaration of xmlns"),Je=!0),ae=ve.charCodeAt(ke+1),ae===34)ke=ve.indexOf('"',ie=ke+2),ke===-1&&(ke=ve.indexOf("'",ie),ke!==-1&&(X("attribute value quote missmatch"),Je=!0));else if(ae===39)ke=ve.indexOf("'",ie=ke+2),ke===-1&&(ke=ve.indexOf('"',ie),ke!==-1&&(X("attribute value quote missmatch"),Je=!0));else for(X("missing attribute value quotes"),Je=!0,ke=ke+1;ke<Ue&&(ae=ve.charCodeAt(ke+1),!(ae===32||ae<14&&ae>8));ke++);for(ke===-1&&(X("missing closing quotes"),ke=Ue,Je=!0),Je||(Ne=ve.substring(ie,ke)),ie=ke;ke+1<Ue&&(ae=ve.charCodeAt(ke+1),!(ae===32||ae<14&&ae>8));ke++)ie===ke&&(X("illegal character after attribute end"),Je=!0);if(ie=ke+1,Je)continue e;if(xe in Jt){X("attribute <"+xe+"> already defined");continue}if(Jt[xe]=!0,!V){_t[xe]=Ne;continue}if(m){if(rt=xe==="xmlns"?"xmlns":xe.charCodeAt(0)===120&&xe.substr(0,6)==="xmlns:"?xe.substr(6):null,rt!==null){if(l=En(Ne),h=Ir(rt),Ze=ne[l],!Ze){if(rt==="xmlns"||h in I&&I[h]!==l)do Ze="ns"+M++;while(typeof I[Ze]<"u");else Ze=rt;ne[l]=Ze}I[rt]!==Ze&&(lt||(I=Rf(I),lt=!0),I[rt]=Ze,rt==="xmlns"&&(I[Ir(Ze)]=l,L=Ze),I[h]=l),_t[xe]=Ne;continue}re.push(xe,Ne);continue}if(ae=xe.indexOf(":"),ae===-1){_t[xe]=Ne;continue}if(!(_=I[xe.substring(0,ae)])){X(ja(xe.substring(0,ae)));continue}xe=L===_?xe.substr(ae+1):_+xe.substr(ae),xe===Fa&&(ae=Ne.indexOf(":"),ae!==-1?(_=Ne.substring(0,ae),_=I[_]||_,Ne=_+Ne.substring(ae)):Ne=L+":"+Ne),_t[xe]=Ne}if(m)for(ie=0,Ue=re.length;ie<Ue;ie++){if(xe=re[ie++],Ne=re[ie],ae=xe.indexOf(":"),ae!==-1){if(!(_=I[xe.substring(0,ae)])){X(ja(xe.substring(0,ae)));continue}xe=L===_?xe.substr(ae+1):_+xe.substr(ae),xe===Fa&&(ae=Ne.indexOf(":"),ae!==-1?(_=Ne.substring(0,ae),_=I[_]||_,Ne=_+Ne.substring(ae)):Ne=L+":"+Ne)}_t[xe]=Ne}return Te=_t}function s(){for(var l=/(\r\n|\r|\n)/g,h=0,_=0,L=0,re=Z,ie,ve;G>=L&&(ie=l.exec(b),!(!ie||(re=ie[0].length+ie.index,re>G)));)h+=1,L=re;return G==-1?(_=re,ve=b.substring(Z)):Z===0?ve=b.substring(Z,G):(_=G-L,ve=Z==-1?b.substring(G):b.substring(G,Z+1)),{data:ve,line:h,column:_}}for(x=s,t&&(F=Object.create({},{name:Ai(function(){return Ie}),originalName:Ai(function(){return We}),attrs:Ai(f),ns:Ai(function(){return I})}));Z!==-1;){if(b.charCodeAt(Z)===60?G=Z:G=b.indexOf("<",Z),G===-1){if(C.length)return D("unexpected end of file");if(Z===0)return D("missing start tag");Z<b.length&&b.substring(Z).trim()&&X(qa);return}if(Z!==G){if(C.length){if(n&&(n(b.substring(Z,G),En,x),j))return}else if(b.substring(Z,G).trim()&&(X(qa),j))return}if(he=b.charCodeAt(G+1),he===33){if(oe=b.charCodeAt(G+2),oe===91&&b.substr(G+3,6)==="CDATA["){if(Z=b.indexOf("]]>",G),Z===-1)return D("unclosed cdata");if(a&&(a(b.substring(G+9,Z),x),j))return;Z+=3;continue}if(oe===45&&b.charCodeAt(G+3)===45){if(Z=b.indexOf("-->",G),Z===-1)return D("unclosed comment");if(c&&(c(b.substring(G+4,Z),En,x),j))return;Z+=3;continue}}if(he===63){if(Z=b.indexOf("?>",G),Z===-1)return D("unclosed question");if(y&&(y(b.substring(G,Z+2),x),j))return;Z+=2;continue}for(ye=G+1;;ye++){if(at=b.charCodeAt(ye),isNaN(at))return Z=-1,D("unclosed tag");if(at===34)oe=b.indexOf('"',ye+1),ye=oe!==-1?oe:ye;else if(at===39)oe=b.indexOf("'",ye+1),ye=oe!==-1?oe:ye;else if(at===62){Z=ye;break}}if(he===33){if(v&&(v(b.substring(G,Z+1),En,x),j))return;Z+=1;continue}if(Te={},he===47){if(N=!1,H=!0,!C.length)return D("missing open tag");if(ye=Ie=C.pop(),oe=G+2+ye.length,b.substring(G+2,oe)!==ye)return D("closing tag mismatch");for(;oe<Z;oe++)if(he=b.charCodeAt(oe),!(he===32||he>8&&he<14))return D("close tag")}else{if(b.charCodeAt(Z-1)===47?(ye=Ie=b.substring(G+1,Z-1),N=!0,H=!0):(ye=Ie=b.substring(G+1,Z),N=!0,H=!1),!(he>96&&he<123||he>64&&he<91||he===95||he===58))return D("illegal first char nodeName");for(oe=1,pe=ye.length;oe<pe;oe++)if(he=ye.charCodeAt(oe),!(he>96&&he<123||he>64&&he<91||he>47&&he<59||he===45||he===95||he==46)){if(he===32||he<14&&he>8){Ie=ye.substring(0,oe),Te=null;break}return D("invalid nodeName")}H||C.push(Ie)}if(V){if(S=I,N&&(H||k.push(S),Te===null&&(m=ye.indexOf("xmlns",oe)!==-1)&&(J=oe,O=ye,f(),m=!1)),We=Ie,he=Ie.indexOf(":"),he!==-1){if(Ke=I[Ie.substring(0,he)],!Ke)return D("missing namespace on <"+We+">");Ie=Ie.substr(he+1)}else Ke=I.xmlns;Ke&&(Ie=Ke+":"+Ie)}if(N&&(J=oe,O=ye,i&&(t?i(F,En,H,x):i(Ie,f,En,H,x),j)))return;if(H){if(r&&(r(t?F:Ie,En,N,x),j))return;V&&(N?I=S:I=k.pop())}Z+=1}}}function Io(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var Pf={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Ji="xsi:type";function Po(e){return e.xml&&e.xml.serialize}function No(e){return Po(e)===Ji}function Nf(e){return Po(e)==="property"}function $f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $o(e,t){return Io(t)?e.prefix+":"+$f(e.localName):e.name}function Mf(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&i.indexOf(r)===0?e.prefix+":"+i.slice(r.length):n}function Vf(e,t){var n=ct(e),i=t.getPackage(n.prefix);return Mf(n,i)}function pn(e){return new Error(e)}function Ht(e){return e.$descriptor}function Lf(e){de(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw pn("expected element");var n=this.elementsById,i=Ht(t),r=i.idProperty,a;if(r&&(a=t.get(r.name),a)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(n[a])throw pn("duplicate ID <"+a+">");n[a]=t}},this.addWarning=function(t){this.warnings.push(t)}}function mi(){}mi.prototype.handleEnd=function(){};mi.prototype.handleText=function(){};mi.prototype.handleNode=function(){};function Zr(){}Zr.prototype=Object.create(mi.prototype);Zr.prototype.handleNode=function(){return this};function Qn(){}Qn.prototype=Object.create(mi.prototype);Qn.prototype.handleText=function(e){this.body=(this.body||"")+e};function hi(e,t){this.property=e,this.context=t}hi.prototype=Object.create(Qn.prototype);hi.prototype.handleNode=function(e){if(this.element)throw pn("expected no sub nodes");return this.element=this.createReference(e),this};hi.prototype.handleEnd=function(){this.element.id=this.body};hi.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}};function Jr(e,t){this.element=t,this.propertyDesc=e}Jr.prototype=Object.create(Qn.prototype);Jr.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=Xr(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)};function er(){}er.prototype=Object.create(Qn.prototype);er.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t};function dt(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}dt.prototype=Object.create(er.prototype);dt.prototype.addReference=function(e){this.context.addReference(e)};dt.prototype.handleText=function(e){var t=this.element,n=Ht(t),i=n.bodyProperty;if(!i)throw pn("unexpected body text <"+e+">");Qn.prototype.handleText.call(this,e)};dt.prototype.handleEnd=function(){var e=this.body,t=this.element,n=Ht(t),i=n.bodyProperty;i&&e!==void 0&&(e=Xr(i.type,e),t.set(i.name,e))};dt.prototype.createElement=function(e){var t=e.attributes,n=this.type,i=Ht(n),r=this.context,a=new n({}),o=this.model,u;return se(t,function(c,y){var v=i.propertiesByName[y],x;v&&v.isReference?v.isMany?(x=c.split(" "),se(x,function(m){r.addReference({element:a,property:v.ns.name,id:m})})):r.addReference({element:a,property:v.ns.name,id:c}):(v?c=Xr(v.type,c):y!=="xmlns"&&(u=ct(y,i.ns.prefix),o.getPackage(u.prefix)&&r.addWarning({message:"unknown attribute <"+y+">",element:a,property:y,value:c})),a.set(y,c))}),a};dt.prototype.getPropertyForNode=function(e){var t=e.name,n=ct(t),i=this.type,r=this.model,a=Ht(i),o=n.name,u=a.propertiesByName[o],c,y;if(u&&!u.isAttr)return No(u)&&(c=e.attributes[Ji],c)?(c=Vf(c,r),y=r.getType(c),de({},u,{effectiveType:Ht(y).name})):u;var v=r.getPackage(n.prefix);if(v){if(c=$o(n,v),y=r.getType(c),u=Nt(a.properties,function(x){return!x.isVirtual&&!x.isReference&&!x.isAttribute&&y.hasType(x.type)}),u)return de({},u,{effectiveType:Ht(y).name})}else if(u=Nt(a.properties,function(x){return!x.isReference&&!x.isAttribute&&x.type==="Element"}),u)return u;throw pn("unrecognized element <"+n.name+">")};dt.prototype.toString=function(){return"ElementDescriptor["+Ht(this.type).name+"]"};dt.prototype.valueHandler=function(e,t){return new Jr(e,t)};dt.prototype.referenceHandler=function(e){return new hi(e,this.context)};dt.prototype.handler=function(e){return e==="Element"?new Hn(this.model,e,this.context):new dt(this.model,e,this.context)};dt.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,Co(n))return this.valueHandler(t,i);t.isReference?r=this.referenceHandler(t).handleNode(e):r=this.handler(n).handleNode(e);var a=r.element;return a!==void 0&&(t.isMany?i.get(t.name).push(a):i.set(t.name,a),t.isReference?(de(a,{element:i}),this.context.addReference(a)):a.$parent=i),r};function ea(e,t,n){dt.call(this,e,t,n)}ea.prototype=Object.create(dt.prototype);ea.prototype.createElement=function(e){var t=e.name,n=ct(t),i=this.model,r=this.type,a=i.getPackage(n.prefix),o=a&&$o(n,a)||t;if(!r.hasType(o))throw pn("unexpected element <"+e.originalName+">");return dt.prototype.createElement.call(this,e)};function Hn(e,t,n){this.model=e,this.context=n}Hn.prototype=Object.create(er.prototype);Hn.prototype.createElement=function(e){var t=e.name,n=ct(t),i=n.prefix,r=e.ns[i+"$uri"],a=e.attributes;return this.model.createAny(t,r,a)};Hn.prototype.handleChild=function(e){var t=new Hn(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element,r;return i!==void 0&&(r=n.$children=n.$children||[],r.push(i),i.$parent=n),t};Hn.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function ta(e){e instanceof Rt&&(e={model:e}),de(this,{lax:!1},e)}ta.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof dt?(i=t,t={}):typeof t=="string"?(i=this.handler(t),t={}):typeof i=="string"&&(i=this.handler(i));var r=this.model,a=this.lax,o=new Lf(de({},t,{rootHandler:i})),u=new Do({proxy:!0}),c=Bf();i.context=o,c.push(i);function y(k,I,S){var C=I(),M=C.line,N=C.column,H=C.data;H.charAt(0)==="<"&&H.indexOf(" ")!==-1&&(H=H.slice(0,H.indexOf(" "))+">");var G="unparsable content "+(H?H+" ":"")+"detected\n	line: "+M+"\n	column: "+N+"\n	nested error: "+k.message;if(S)return o.addWarning({message:G,error:k}),!0;throw pn(G)}function v(k,I){return y(k,I,!0)}function x(){var k=o.elementsById,I=o.references,S,C;for(S=0;C=I[S];S++){var M=C.element,N=k[C.id],H=Ht(M).propertiesByName[C.property];if(N||o.addWarning({message:"unresolved reference <"+C.id+">",element:C.element,property:C.property,value:C.id}),H.isMany){var G=M.get(H.name),Z=G.indexOf(C);Z===-1&&(Z=G.length),N?G[Z]=N:G.splice(Z,1)}else M.set(H.name,N)}}function m(){c.pop().handleEnd()}var V=/^<\?xml /i,K=/ encoding="([^"]+)"/i,j=/^utf-8$/i;function ne(k){if(V.test(k)){var I=K.exec(k),S=I&&I[1];!S||j.test(S)||o.addWarning({message:"unsupported document encoding <"+S+">, falling back to UTF-8"})}}function D(k,I){var S=c.peek();try{c.push(S.handleNode(k))}catch(C){y(C,I,a)&&c.push(new Zr)}}function X(k,I){try{c.peek().handleText(k)}catch(S){v(S,I)}}function B(k,I){k.trim()&&X(k,I)}var b=r.getPackages().reduce(function(k,I){return k[I.uri]=I.prefix,k},{"http://www.w3.org/XML/1998/namespace":"xml"});return u.ns(b).on("openTag",function(k,I,S,C){var M=k.attrs||{},N=Object.keys(M).reduce(function(G,Z){var ye=I(M[Z]);return G[Z]=ye,G},{}),H={name:k.name,originalName:k.originalName,attributes:N,ns:k.ns};D(H,C)}).on("question",ne).on("closeTag",m).on("cdata",X).on("text",function(k,I,S){B(I(k),S)}).on("error",y).on("warn",v),new Promise(function(k,I){var S;try{u.parse(e),x()}catch(G){S=G}var C=i.element;!S&&!C&&(S=pn("failed to parse document as <"+i.type.$descriptor.name+">"));var M=o.warnings,N=o.references,H=o.elementsById;return S?(S.warnings=M,I(S)):k({rootElement:C,elementsById:H,references:N,warnings:M})})};ta.prototype.handler=function(e){return new ea(this.model,e)};function Bf(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}var Of='<?xml version="1.0" encoding="UTF-8"?>\n',Uf=/<|>|'|"|&|\n\r|\n/g,Mo=/<|>|&/g;function Ff(e){var t={},n={},i={},r=[],a=[];this.byUri=function(o){return n[o]||e&&e.byUri(o)},this.add=function(o,u){n[o.uri]=o,u?r.push(o):a.push(o),this.mapPrefix(o.prefix,o.uri)},this.uriByPrefix=function(o){return t[o||"xmlns"]},this.mapPrefix=function(o,u){t[o||"xmlns"]=u},this.getNSKey=function(o){return o.prefix!==void 0?o.uri+"|"+o.prefix:o.uri},this.logUsed=function(o){var u=o.uri,c=this.getNSKey(o);i[c]=this.byUri(u),e&&e.logUsed(o)},this.getUsed=function(o){function u(v){var x=c.getNSKey(v);return i[x]}var c=this,y=[].concat(r,a);return y.filter(u)}}function qf(e){return e.charAt(0).toLowerCase()+e.slice(1)}function jf(e,t){return Io(t)?qf(e):e}function Vo(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function Lo(e){return Ut(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function zf(e){return e.getUsed().filter(function(t){return t.prefix!=="xml"}).map(function(t){var n="xmlns"+(t.prefix?":"+t.prefix:"");return{name:n,value:t.uri}})}function Wf(e,t){return t.isGeneric?de({localName:t.ns.localName},e):de({localName:jf(t.ns.localName,t.$pkg)},e)}function Hf(e,t){return de({localName:t.ns.localName},e)}function Yf(e){var t=e.$descriptor;return jn(t.properties,function(n){var i=n.name;if(n.isVirtual||!Rn(e,i))return!1;var r=e[i];return r===n.default||r===null?!1:n.isMany?r.length:!0})}var Kf={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Gf={"<":"lt",">":"gt","&":"amp"};function Bo(e,t,n){return e=Ut(e)?e:""+e,e.replace(t,function(i){return"&"+n[i]+";"})}function Qf(e){return Bo(e,Uf,Kf)}function Xf(e){return Bo(e,Mo,Gf)}function Zf(e){return jn(e,function(t){return t.isAttr})}function Jf(e){return jn(e,function(t){return!t.isAttr})}function na(e){this.tagName=e}na.prototype.build=function(e){return this.element=e,this};na.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function Tn(){}Tn.prototype.serializeValue=Tn.prototype.serializeTo=function(e){e.append(this.escape?Xf(this.value):this.value)};Tn.prototype.build=function(e,t){return this.value=t,e.type==="String"&&t.search(Mo)!==-1&&(this.escape=!0),this};function ia(e){this.tagName=e}Vo(ia,Tn);ia.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()};function Oe(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}Oe.prototype.build=function(e){this.element=e;var t=e.$descriptor,n=this.propertyDescriptor,i,r,a=t.isGeneric;return a?i=this.parseGeneric(e):i=this.parseNsAttributes(e),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(t),this.tagName=this.addTagName(this.ns),a||(r=Yf(e),this.parseAttributes(Zf(r)),this.parseContainments(Jf(r))),this.parseGenericAttributes(e,i),this};Oe.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Wf(t,e)};Oe.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Hf(t,e)};Oe.prototype.isLocalNs=function(e){return e.uri===this.ns.uri};Oe.prototype.nsAttributeName=function(e){var t;if(Ut(e)?t=ct(e):t=e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:de({localName:t.localName},n)};Oe.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return se(e,function(r,a){var o;a==="$body"?n.push(new Tn().build({type:"String"},r)):a==="$children"?se(r,function(u){n.push(new Oe(t).build(u))}):a.indexOf("$")!==0&&(o=t.parseNsAttribute(e,a,r),o&&i.push({name:a,value:r}))}),i};Oe.prototype.parseNsAttribute=function(e,t,n){var i=e.$model,r=ct(t),a;if(r.prefix==="xmlns"&&(a={prefix:r.localName,uri:n}),!r.prefix&&r.localName==="xmlns"&&(a={uri:n}),!a)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(a,!0,!0);else{var o=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(o)}};Oe.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,r=[];return se(i,function(a,o){var u=n.parseNsAttribute(e,o,a);u&&r.push(u)}),r};Oe.prototype.parseGenericAttributes=function(e,t){var n=this;se(t,function(i){if(i.name!==Ji)try{n.addAttribute(n.nsAttributeName(i.name),i.value)}catch(r){console.warn("missing namespace information for ",i.name,"=",i.value,"on",e,r)}})};Oe.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;se(e,function(r){var a=i.get(r.name),o=r.isReference,u=r.isMany;if(u||(a=[a]),r.isBody)n.push(new Tn().build(r,a[0]));else if(Co(r.type))se(a,function(v){n.push(new ia(t.addTagName(t.nsPropertyTagName(r))).build(r,v))});else if(o)se(a,function(v){n.push(new na(t.addTagName(t.nsPropertyTagName(r))).build(v))});else{var c=No(r),y=Nf(r);se(a,function(v){var x;c?x=new tr(t,r):y?x=new Oe(t,r):x=new Oe(t),n.push(x.build(v))})}})};Oe.prototype.getNamespaces=function(e){var t=this.namespaces,n=this.parent,i;return t||(i=n&&n.getNamespaces(),e||!i?this.namespaces=t=new Ff(i):t=i),t};Oe.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,a=e.prefix,o=i.byUri(r);return(!o||n)&&i.add(e,t),i.mapPrefix(a,r),e};Oe.prototype.logNamespaceUsed=function(e,t){var n=this.element,i=n.$model,r=this.getNamespaces(t),a=e.prefix,o=e.uri,u,c,y;if(!a&&!o)return{localName:e.localName};if(y=Pf[a]||i&&(i.getPackage(a)||{}).uri,o=o||y||r.uriByPrefix(a),!o)throw new Error("no namespace uri given for prefix <"+a+">");if(e=r.byUri(o),!e){for(u=a,c=1;r.uriByPrefix(u);)u=a+"_"+c++;e=this.logNamespace({prefix:u,uri:o},y===o)}return a&&r.mapPrefix(a,o),e};Oe.prototype.parseAttributes=function(e){var t=this,n=this.element;se(e,function(i){var r=n.get(i.name);if(i.isReference)if(!i.isMany)r=r.id;else{var a=[];se(r,function(o){a.push(o.id)}),r=a.join(" ")}t.addAttribute(t.nsAttributeName(i),r)})};Oe.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),Lo(e)};Oe.prototype.addAttribute=function(e,t){var n=this.attrs;Ut(t)&&(t=Qf(t));var i=wc(n,function(a){return a.name.localName===e.localName&&a.name.uri===e.uri&&a.name.prefix===e.prefix}),r={name:e,value:t};i!==-1?n.splice(i,1,r):n.push(r)};Oe.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=zf(n).concat(t)),se(t,function(i){e.append(" ").append(Lo(i.name)).append('="').append(i.value).append('"')})};Oe.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==Tn;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),se(this.body,function(i){i.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()};function tr(e,t){Oe.call(this,e,t)}Vo(tr,Oe);tr.prototype.parseNsAttributes=function(e){var t=Oe.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),a=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Ji),(i.prefix?i.prefix+":":"")+a+n.ns.localName),t};tr.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri};function em(){this.value="",this.write=function(e){this.value+=e}}function tm(e,t){var n=[""];this.append=function(i){return e.write(i),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function nm(e){e=de({format:!1,preamble:!0},e||{});function t(n,i){var r=i||new em,a=new tm(r,e.format);if(e.preamble&&a.append(Of),new Oe().build(n).serializeTo(a),!i)return r.value}return{toXML:t}}function nr(e,t){Rt.call(this,e,t)}nr.prototype=Object.create(Rt.prototype);nr.prototype.fromXML=function(e,t,n){Ut(t)||(n=t,t="bpmn:Definitions");var i=new ta(de({model:this,lax:!0},n)),r=i.handler(t);return i.fromXML(e,r)};nr.prototype.toXML=function(e,t){var n=new nm(t);return new Promise(function(i,r){try{var a=n.toXML(e);return i({xml:a})}catch(o){return r(o)}})};var im="BPMN20",rm="http://www.omg.org/spec/BPMN/20100524/MODEL",am="bpmn",sm=[],om=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],lm=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],um={tagAlias:"lowerCase",typePrefix:"t"},cm={name:im,uri:rm,prefix:am,associations:sm,types:om,enumerations:lm,xml:um},dm="BPMNDI",pm="http://www.omg.org/spec/BPMN/20100524/DI",fm="bpmndi",mm=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],hm=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],ym=[],vm={name:dm,uri:pm,prefix:fm,types:mm,enumerations:hm,associations:ym},gm="DC",bm="http://www.omg.org/spec/DD/20100524/DC",_m="dc",wm=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],Em=[],xm={name:gm,uri:bm,prefix:_m,types:wm,associations:Em},Sm="DI",km="http://www.omg.org/spec/DD/20100524/DI",Am="di",Tm=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],Cm=[],Rm={tagAlias:"lowerCase"},Dm={name:Sm,uri:km,prefix:Am,types:Tm,associations:Cm,xml:Rm},Im="bpmn.io colors for BPMN",Pm="http://bpmn.io/schema/bpmn/biocolor/1.0",Nm="bioc",$m=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],Mm=[],Vm=[],Lm={name:Im,uri:Pm,prefix:Nm,types:$m,enumerations:Mm,associations:Vm},Bm="BPMN in Color",Om="http://www.omg.org/spec/BPMN/non-normative/color/1.0",Um="color",Fm=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],qm=[],jm=[],zm={name:Bm,uri:Om,prefix:Um,types:Fm,enumerations:qm,associations:jm},Wm={bpmn:cm,bpmndi:vm,dc:xm,di:Dm,bioc:Lm,color:zm};function Hm(e,t){var n=de({},Wm,e);return new nr(n,t)}var Ym="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function Km(e){Rn(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error(Ym)}})}function ft(e,t){return e.$instanceOf(t)}function Gm(e){return Nt(e.rootElements,function(t){return ft(t,"bpmn:Process")||ft(t,"bpmn:Collaboration")})}function Qm(e){var t={},n=[],i={};function r(F,O){return function(J){F(J,O)}}function a(F){t[F.id]=F}function o(F){return t[F.id]}function u(F,O){var J=F.gfx;if(J)throw new Error("already rendered ".concat(ot(F)));return e.element(F,i[F.id],O)}function c(F,O){return e.root(F,i[F.id],O)}function y(F,O){try{var J=i[F.id]&&u(F,O);return a(F),J}catch(Te){v(Te.message,{element:F,error:Te}),console.error("failed to import ".concat(ot(F)),Te)}}function v(F,O){e.error(F,O)}var x=this.registerDi=function(O){var J=O.bpmnElement;J?i[J.id]?v("multiple DI elements defined for ".concat(ot(J)),{element:J}):(i[J.id]=O,Km(J)):v("no bpmnElement referenced in ".concat(ot(O)),{element:O})};function m(F){V(F.plane)}function V(F){x(F),se(F.planeElement,K)}function K(F){x(F)}this.handleDefinitions=function(O,J){var Te=O.diagrams;if(J&&Te.indexOf(J)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!J&&Te&&Te.length&&(J=Te[0]),!J)throw new Error("no diagram to display");i={},m(J);var f=J.plane;if(!f)throw new Error("no plane for ".concat(ot(J)));var s=f.bpmnElement;if(!s)if(s=Gm(O),s)v("correcting missing bpmnElement on ".concat(ot(f)," to ").concat(ot(s))),f.bpmnElement=s,x(f);else throw new Error("no process or collaboration to display");var l=c(s,f);if(ft(s,"bpmn:Process")||ft(s,"bpmn:SubProcess"))ne(s,l);else if(ft(s,"bpmn:Collaboration"))Ie(s,l),D(O.rootElements,l);else throw new Error("unsupported bpmnElement for ".concat(ot(f),": ").concat(ot(s)));j(n)};var j=this.handleDeferred=function(){for(var O;n.length;)O=n.shift(),O()};function ne(F,O){he(F,O),M(F.ioSpecification,O),C(F.artifacts,O),a(F)}function D(F,O){var J=jn(F,function(Te){return!o(Te)&&ft(Te,"bpmn:Process")&&Te.laneSets});J.forEach(r(ne,O))}function X(F,O){y(F,O)}function B(F,O){se(F,r(X,O))}function b(F,O){y(F,O)}function k(F,O){y(F,O)}function I(F,O){y(F,O)}function S(F,O){y(F,O)}function C(F,O){se(F,function(J){ft(J,"bpmn:Association")?n.push(function(){S(J,O)}):S(J,O)})}function M(F,O){F&&(se(F.dataInputs,r(k,O)),se(F.dataOutputs,r(I,O)))}var N=this.handleSubProcess=function(O,J){he(O,J),C(O.artifacts,J)};function H(F,O){var J=y(F,O);ft(F,"bpmn:SubProcess")&&N(F,J||O),ft(F,"bpmn:Activity")&&M(F.ioSpecification,O),n.push(function(){se(F.dataInputAssociations,r(b,O)),se(F.dataOutputAssociations,r(b,O))})}function G(F,O){y(F,O)}function Z(F,O){y(F,O)}function ye(F,O){n.push(function(){var J=y(F,O);F.childLaneSet&&pe(F.childLaneSet,J||O),We(F)})}function pe(F,O){se(F.lanes,r(ye,O))}function oe(F,O){se(F,r(pe,O))}function he(F,O){at(F.flowElements,O),F.laneSets&&oe(F.laneSets,O)}function at(F,O){se(F,function(J){ft(J,"bpmn:SequenceFlow")?n.push(function(){G(J,O)}):ft(J,"bpmn:BoundaryEvent")?n.unshift(function(){H(J,O)}):ft(J,"bpmn:FlowNode")?H(J,O):ft(J,"bpmn:DataObject")||(ft(J,"bpmn:DataStoreReference")||ft(J,"bpmn:DataObjectReference")?Z(J,O):v("unrecognized flowElement ".concat(ot(J)," in context ").concat(ot(O&&O.businessObject)),{element:J,context:O}))})}function Ke(F,O){var J=y(F,O),Te=F.processRef;Te&&ne(Te,J||O)}function Ie(F,O){se(F.participants,r(Ke,O)),C(F.artifacts,O),n.push(function(){B(F.messageFlows,O)})}function We(F){se(F.flowNodeRef,function(O){var J=O.get("lanes");J&&J.push(F)})}}function Xm(e,t,n){var i,r,a,o,u=[];function c(y,v){var x={root:function(j,ne){return i.add(j,ne)},element:function(j,ne,D){return i.add(j,ne,D)},error:function(j,ne){u.push({message:j,context:ne})}},m=new Qm(x);v=v||y.diagrams&&y.diagrams[0];var V=Zm(y,v);if(!V)throw new Error("no diagram to display");se(V,function(j){m.handleDefinitions(y,j)});var K=v.plane.bpmnElement.id;a.setRootElement(a.findRoot(K+"_plane")||a.findRoot(K))}return new Promise(function(y,v){try{return i=e.get("bpmnImporter"),r=e.get("eventBus"),a=e.get("canvas"),r.fire("import.render.start",{definitions:t}),c(t,n),r.fire("import.render.complete",{error:o,warnings:u}),y({warnings:u})}catch(x){return x.warnings=u,v(x)}})}function Zm(e,t){if(!(!t||!t.plane)){var n=t.plane.bpmnElement,i=n;!le(n,"bpmn:Process")&&!le(n,"bpmn:Collaboration")&&(i=Jm(n));var r;le(i,"bpmn:Collaboration")?r=i:r=Nt(e.rootElements,function(y){if(le(y,"bpmn:Collaboration"))return Nt(y.participants,function(v){return v.processRef===i})});var a=[i];r&&(a=Ec(r.participants,function(y){return y.processRef}),a.push(r));var o=Oo(a),u=[t],c=[n];return se(e.diagrams,function(y){if(y.plane){var v=y.plane.bpmnElement;o.indexOf(v)!==-1&&c.indexOf(v)===-1&&(u.push(y),c.push(v))}}),u}}function Oo(e){var t=[];return se(e,function(n){n&&(t.push(n),t=t.concat(Oo(n.flowElements)))}),t}function Jm(e){for(var t=e;t;){if(le(t,"bpmn:Process"))return t;t=t.$parent}}var eh='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Uo=eh,Fo={verticalAlign:"middle"},qo={color:"#404040"},th={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},nh={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},ih={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},rh='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+Uo+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',Lt;function ah(){Lt=Ft(rh),gt(Lt,th),gt(Dt("svg",Lt),Fo),gt(Dt(".backdrop",Lt),nh),gt(Dt(".notice",Lt),ih),gt(Dt(".link",Lt),qo,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function sh(){Lt||(ah(),Ar.bind(Lt,".backdrop","click",function(e){document.body.removeChild(Lt)})),document.body.appendChild(Lt)}function Ye(e){e=de({},lh,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),ch(this._container),this._init(this._container,this._moddle,e)}qt(Ye,vn);Ye.prototype.importXML=async function(t,n){const i=this;function r(o){return i.get("eventBus").createEvent(o)}let a=[];try{t=this._emit("import.parse.start",{xml:t})||t;let o;try{o=await this._moddle.fromXML(t,"bpmn:Definitions")}catch(m){throw this._emit("import.parse.complete",{error:m}),m}let u=o.rootElement;const c=o.references,y=o.warnings,v=o.elementsById;a=a.concat(y),u=this._emit("import.parse.complete",r({error:null,definitions:u,elementsById:v,references:c,warnings:a}))||u;const x=await this.importDefinitions(u,n);return a=a.concat(x.warnings),this._emit("import.done",{error:null,warnings:a}),{warnings:a}}catch(o){let u=o;throw a=a.concat(u.warnings||[]),Ni(u,a),u=oh(u),this._emit("import.done",{error:u,warnings:u.warnings}),u}};Ye.prototype.importDefinitions=async function(t,n){return this._setDefinitions(t),{warnings:(await this.open(n)).warnings}};Ye.prototype.open=async function(t){const n=this._definitions;let i=t;if(!n){const a=new Error("no XML imported");throw Ni(a,[]),a}if(typeof t=="string"&&(i=uh(n,t),!i)){const a=new Error("BPMNDiagram <"+t+"> not found");throw Ni(a,[]),a}try{this.clear()}catch(a){throw Ni(a,[]),a}const{warnings:r}=await Xm(this,n,i);return{warnings:r}};Ye.prototype.saveXML=async function(t){t=t||{};let n=this._definitions,i,r;try{if(!n)throw new Error("no definitions loaded");n=this._emit("saveXML.start",{definitions:n})||n,r=(await this._moddle.toXML(n,t)).xml,r=this._emit("saveXML.serialized",{xml:r})||r}catch(o){i=o}const a=i?{error:i}:{xml:r};if(this._emit("saveXML.done",a),i)throw i;return a};Ye.prototype.saveSVG=async function(){this._emit("saveSVG.start");let t,n;try{const i=this.get("canvas"),r=i.getActiveLayer(),a=Dt(":scope > defs",i._svg),o=Ca(r),u=a?"<defs>"+Ca(a)+"</defs>":"",c=r.getBBox();t='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with bpmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+c.width+'" height="'+c.height+'" viewBox="'+c.x+" "+c.y+" "+c.width+" "+c.height+'" version="1.1">'+u+o+"</svg>"}catch(i){n=i}if(this._emit("saveSVG.done",{error:n,svg:t}),n)throw n;return{svg:t}};Ye.prototype._setDefinitions=function(e){this._definitions=e};Ye.prototype.getModules=function(){return this._modules};Ye.prototype.clear=function(){this.getDefinitions()&&vn.prototype.clear.call(this)};Ye.prototype.destroy=function(){vn.prototype.destroy.call(this),Ui(this._container)};Ye.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)};Ye.prototype.off=function(e,t){this.get("eventBus").off(e,t)};Ye.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Dt(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};Ye.prototype.getDefinitions=function(){return this._definitions};Ye.prototype.detach=function(){const e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))};Ye.prototype._init=function(e,t,n){const i=n.modules||this.getModules(n),r=n.additionalModules||[],a=[{bpmnjs:["value",this],moddle:["value",t]}],o=[].concat(a,i,r),u=de(Cc(n,["additionalModules"]),{canvas:de({},n.canvas,{container:e}),modules:o});vn.call(this,u),n&&n.container&&this.attachTo(n.container)};Ye.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)};Ye.prototype._createContainer=function(e){const t=Ft('<div class="bjs-container"></div>');return gt(t,{width:Wa(e.width),height:Wa(e.height),position:e.position}),t};Ye.prototype._createModdle=function(e){const t=de({},this._moddleExtensions,e.moddleExtensions);return new Hm(t)};Ye.prototype._modules=[];function Ni(e,t){return e.warnings=t,e}function oh(e){const n=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return n&&(e.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+n[2]),e}const lh={width:"100%",height:"100%",position:"relative"};function Wa(e){return e+(ln(e)?"px":"")}function uh(e,t){return t&&Nt(e.diagrams,function(n){return n.id===t})||null}function ch(e){const n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Uo+"</a>",i=Ft(n);gt(Dt("svg",i),Fo),gt(i,qo,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(i),zr.bind(i,"click",function(r){sh(),r.preventDefault()})}function ir(e){Ye.call(this,e)}qt(ir,Ye);ir.prototype._modules=[dp,Dp,Lp,no,zp,Gs];ir.prototype._moddleExtensions={};function dh(e,t,n){return'<?xml version="1.0" encoding="UTF-8"?>\n  <definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"\n               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"\n               xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n               xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"\n               typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath"\n               targetNamespace="'.concat(n,'">\n    <process id="').concat(e,'" name="').concat(t,'" isExecutable="true"></process>\n    <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n      <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="').concat(e,'">\n      </bpmndi:BPMNPlane>\n    </bpmndi:BPMNDiagram>\n  </definitions>')}const ph={class:"w-full m-1 border-collapse table-auto"},fh={class:"p-2 font-bold border-b text-secondary"},mh={class:"p-2 font-bold border-b text-secondary"},hh={class:"p-2 font-bold border-b text-secondary"},yh={class:"p-2 font-bold border-b text-secondary"},vh={class:"p-2 font-bold border-b text-secondary"},gh={class:"p-2 font-bold border-b text-secondary"},bh={class:"p-2 font-bold border-b text-secondary"},_h={class:"p-2 font-bold border-b text-secondary"},wh={class:"hover:bg-gray-50"},Eh=["rowspan"],xh=["rowspan"],Sh=["rowspan"],kh=["rowspan"],Ah={class:"p-2 border-b"},Th={class:"p-2 border-b"},Ch={class:"p-2 border-b"},Rh={class:"p-2 border-b"},Dh={key:0,class:"hover:bg-gray-50"},Ih={class:"p-2 border-b"},Ph={class:"p-2 border-b"},Nh={class:"p-2 border-b"},$h={class:"p-2 border-b"},Mh={class:"mt-4 text-lg"},Vh=wt({__name:"ProcessTaskList",props:Sn({modelValue:{type:Boolean,required:!0},instanceId:{type:String,default:null}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Yn(e,"modelValue"),n=e,{instanceId:i}=oi(n);vt.extend(Du),vt.extend(gc);const r=q([]),a=q([]),o=q(!1),u=q();let c;const y=async()=>{o.value=!0;try{if(!(i!=null&&i.value))return;const{xml:v,activities:x,tasks:m,processes:V}=await Iu(i.value);r.value=m!=null?m:[],a.value=V!=null?V:[],c||(c=pl(new ir({container:u.value,height:200}))),await c.importXML(v!=null?v:dh("none","none","none"));const K=c.get("canvas");K.zoom("fit-viewport"),x==null||x.forEach(({activityId:j,endTime:ne,deleteReason:D})=>{let X="highlight-curr";D&&(D.includes(":reject")||D.includes(":cancel"))?X="highlight-reject":ne&&(X="highlight"),K.addMarker(j,X)})}finally{o.value=!1}};return It(t,()=>{t.value?y():c.clear()}),(v,x)=>{const m=zi,V=$r,K=Nr,j=Gt,ne=Za;return A(),$(j,{modelValue:t.value,"onUpdate:modelValue":x[0]||(x[0]=D=>t.value=D),title:v.$t("processInstance.op.task"),width:"98%",top:"5vh"},{default:d(()=>[ce("div",{ref_key:"bpmnContainer",ref:u,class:"w-full"},null,512),$i((A(),we("table",ph,[ce("thead",null,[ce("tr",null,[ce("td",fh,P(v.$t("processModel.name")),1),ce("td",mh,P(v.$t("processTask.assignee")),1),ce("td",hh,P(v.$t("processTask.created")),1),ce("td",yh,P(v.$t("processTask.duration")),1),ce("td",vh,P(v.$t("processTask.time")),1),ce("td",gh,P(v.$t("processTask.user")),1),ce("td",bh,P(v.$t("processTask.type")),1),ce("td",_h,P(v.$t("processTask.opinion")),1)])]),ce("tbody",null,[(A(!0),we(Be,null,Xe(r.value,D=>{var X,B,b,k;return A(),we(Be,{key:D.id},[ce("tr",wh,[ce("td",{class:"p-2 border-b",rowspan:D.commentList.length>0?D.commentList.length:1},P(D.name),9,Eh),ce("td",{class:"p-2 border-b",rowspan:D.commentList.length>0?D.commentList.length:1},P(D.assigneeName),9,xh),ce("td",{class:"p-2 border-b",rowspan:D.commentList.length>0?D.commentList.length:1},P(D.created?E(vt)(D.created).format("YYYY-MM-DD HH:mm"):void 0),9,Sh),ce("td",{class:"p-2 border-b",rowspan:D.commentList.length>0?D.commentList.length:1},P(D.duration?E(vt).duration(Number(D.duration)).locale("zh-cn").humanize():void 0),9,kh),ce("td",Ah,P(D.commentList[0]?E(vt)(D.commentList[0].time).format("YYYY-MM-DD HH:mm"):void 0),1),ce("td",Th,P((X=D.commentList[0])==null?void 0:X.userName),1),ce("td",Ch,[((B=D.commentList[0])==null?void 0:B.type)==="pass"?(A(),$(m,{key:0,type:"success",size:"small"},{default:d(()=>[U(P(v.$t("processTask.type.".concat(D.commentList[0].type))),1)]),_:2},1024)):((b=D.commentList[0])==null?void 0:b.type)==="reject"?(A(),$(m,{key:1,type:"danger",size:"small"},{default:d(()=>[U(P(v.$t("processTask.type.".concat(D.commentList[0].type))),1)]),_:2},1024)):D.commentList[0]?(A(),$(m,{key:2,size:"small"},{default:d(()=>[U(P(v.$t("processTask.type.".concat(D.commentList[0].type))),1)]),_:2},1024)):te("",!0)]),ce("td",Rh,P((k=D.commentList[0])==null?void 0:k.fullMessage),1)]),(A(!0),we(Be,null,Xe(D.commentList,(I,S)=>(A(),we(Be,{key:I.id},[S>0?(A(),we("tr",Dh,[ce("td",Ih,P(E(vt)(I.time).format("YYYY-MM-DD HH:mm")),1),ce("td",Ph,P(I.userName),1),ce("td",Nh,[I.type==="pass"?(A(),$(m,{key:0,type:"success",size:"small"},{default:d(()=>[U(P(v.$t("processTask.type.".concat(I.type))),1)]),_:2},1024)):I.type==="reject"?(A(),$(m,{key:1,type:"danger",size:"small"},{default:d(()=>[U(P(v.$t("processTask.type.".concat(I.type))),1)]),_:2},1024)):(A(),$(m,{key:2,size:"small"},{default:d(()=>[U(P(v.$t("processTask.type.".concat(I.type))),1)]),_:2},1024))]),ce("td",$h,P(I.fullMessage),1)])):te("",!0)],64))),128))],64)}),128))])])),[[ne,o.value]]),ce("p",Mh,P(v.$t("processInstance.history")),1),$i((A(),$(K,{data:a.value,class:"mt-1"},{default:d(()=>[p(V,{prop:"assignee",label:v.$t("processInstance.assignee")},null,8,["label"]),p(V,{prop:"status",label:v.$t("processInstance.status")},{default:d(({row:D})=>[D.status==="complete"?(A(),$(m,{key:0,type:"success",size:"small"},{default:d(()=>[U(P(v.$t("processInstance.status.".concat(D.status))),1)]),_:2},1024)):D.status==="reject"?(A(),$(m,{key:1,type:"danger",size:"small"},{default:d(()=>[U(P(v.$t("processInstance.status.".concat(D.status))),1)]),_:2},1024)):D.status==="cancel"?(A(),$(m,{key:2,type:"info",size:"small"},{default:d(()=>[U(P(v.$t("processInstance.status.".concat(D.status))),1)]),_:2},1024)):(A(),$(m,{key:3,type:"warning",size:"small"},{default:d(()=>[U(P(v.$t("processInstance.status.".concat(D.status))),1)]),_:2},1024))]),_:1},8,["label"]),p(V,{prop:"opinion",label:v.$t("processInstance.opinion")},null,8,["label"]),p(V,{property:"started",label:v.$t("processInstance.started")},{default:d(({row:D})=>[U(P(E(vt)(D.started).format("YYYY-MM-DD HH:mm")),1)]),_:1},8,["label"]),p(V,{property:"ended",label:v.$t("processInstance.ended")},{default:d(({row:D})=>[U(P(D.ended?E(vt)(D.ended).format("YYYY-MM-DD HH:mm"):void 0),1)]),_:1},8,["label"])]),_:1},8,["data"])),[[ne,o.value]])]),_:1},8,["modelValue","title"])}}}),Lh=Mr(Vh,[["__scopeId","data-v-955e5446"]]),Bh={class:"el-upload-list__item is-success"},Oh=["src"],Uh={key:0,class:"ml-2"},Fh={key:1,class:"el-upload--picture-card"},qh=["src"],Ha=300,Ya=300,jh=wt({__name:"ImageListUpload",props:{modelValue:{type:Array,default:()=>[]},fileAccept:{type:String,default:null},fileMaxSize:{type:Number,default:null},maxWidth:{type:Number,default:null},maxHeight:{type:Number,default:null},listType:{type:String,default:"pictureCard"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":null},setup(e,{emit:t}){const n=e,i=t,{modelValue:r,maxWidth:a,maxHeight:o,fileAccept:u,fileMaxSize:c}=oi(n),{t:y}=li(),v=Vr(),x=q(!1),m=q({}),V=q({}),K=q(!1),j=q(!1),ne=q({src:"data:;base64,="}),D=nt({get:()=>r.value,set:M=>i("update:modelValue",M)}),{formItem:X}=Ja();It(D,()=>{var M;(M=X==null?void 0:X.validate)==null||M.call(X,"change").catch(N=>{})},{deep:!0});const B=M=>{ne.value=M,K.value=!0},b=()=>{const M={isWatermark:!0,thumbnailWidth:Ha,thumbnailHeight:Ya};return(a==null?void 0:a.value)!=null&&(M.maxWidth=a.value),(o==null?void 0:o.value)!=null&&(M.maxHeight=o.value),M},k=nt(()=>{var M;return(M=u==null?void 0:u.value)!=null?M:v.upload.imageInputAccept}),I=nt(()=>{var M;return(M=c==null?void 0:c.value)!=null?M:v.upload.imageLimitByte}),S=M=>I.value>0&&M.size>I.value?(Bt.error(y("error.fileMaxSize",{size:"".concat(I.value/1024/1024," MB")})),!1):!0,C=M=>{ss(JSON.parse(M.message))};return(M,N)=>{const H=ji,G=Kt,Z=ns,ye=Es,pe=Gt;return A(),we("div",null,[p(E(Wu),{list:D.value,tag:"ul","item-key":"url",animation:250,class:Wt(["el-upload-list",[e.listType==="picture"?"el-upload-list--picture":"el-upload-list--picture-card",{"is-disabled":e.disabled}]]),onStart:N[1]||(N[1]=()=>x.value=!0),onEnd:N[2]||(N[2]=()=>x.value=!1)},{item:d(({element:oe})=>[ce("li",Bh,[ce("div",{class:Wt([e.listType==="picture"?["w-32","h-32"]:["w-full","h-full"],"relative flex items-center justify-center bg-gray-50"])},[ce("img",{class:"block max-w-full max-h-full",src:oe.url,alt:""},null,8,Oh),ce("div",{class:Wt(["absolute space-x-4 bg-black bg-opacity-50 rounded-md opacity-0 cursor-move full-flex-center",x.value?void 0:"hover:opacity-100"]),onClick:N[0]||(N[0]=sn(()=>{},["stop"]))},[p(H,{class:"image-action",title:M.$t("cropImage"),onClick:()=>(j.value=!0,V.value=oe)},{default:d(()=>[p(E(fl))]),_:2},1032,["title","onClick"]),p(H,{class:"image-action",title:M.$t("previewImage"),onClick:()=>B(oe)},{default:d(()=>[p(E(rs))]),_:2},1032,["title","onClick"]),p(H,{class:"image-action",title:M.$t("deleteImage"),onClick:()=>D.value.splice(D.value.indexOf(oe),1)},{default:d(()=>[p(E(as))]),_:2},1032,["title","onClick"])],2)],2),e.listType==="picture"?(A(),we("div",Uh,[p(G,{modelValue:oe.url,"onUpdate:modelValue":he=>oe.url=he,placeholder:"URL",maxlength:"255"},{prepend:d(()=>N[9]||(N[9]=[U("URL")])),_:2},1032,["modelValue","onUpdate:modelValue"]),p(G,{modelValue:oe.name,"onUpdate:modelValue":he=>oe.name=he,placeholder:M.$t("article.imageList.name"),class:"mt-1"},{prepend:d(()=>[U(P(M.$t("article.imageList.name")),1)]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),p(G,{modelValue:oe.description,"onUpdate:modelValue":he=>oe.description=he,type:"textarea",rows:2,placeholder:M.$t("article.imageList.description"),class:"mt-1"},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):te("",!0)])]),footer:d(()=>[p(ye,{action:E(iu),headers:{...E(ts)(),...E(es)()},data:b(),accept:k.value,"before-upload":S,"on-success":(oe,he)=>D.value.push({name:oe.name,url:oe.url}),"on-progress":(oe,he)=>m.value=he,"on-error":C,"show-file-list":!1,disabled:e.disabled,multiple:"",drag:""},{default:d(()=>[m.value.status==="uploading"?(A(),$(Z,{key:0,type:"circle",percentage:parseInt(m.value.percentage,10)},null,8,["percentage"])):(A(),we("div",Fh,[p(H,null,{default:d(()=>[p(E(is))]),_:1})]))]),_:1},8,["action","headers","data","accept","on-success","on-progress","disabled"])]),_:1},8,["list","class"]),ce("div",null,[p(pe,{modelValue:K.value,"onUpdate:modelValue":N[6]||(N[6]=oe=>K.value=oe),top:"5vh",width:768},{default:d(()=>[p(G,{modelValue:ne.value.url,"onUpdate:modelValue":N[3]||(N[3]=oe=>ne.value.url=oe),maxlength:"255"},{prepend:d(()=>N[10]||(N[10]=[U("URL")])),_:1},8,["modelValue"]),e.listType!=="picture"?(A(),$(G,{key:0,modelValue:ne.value.name,"onUpdate:modelValue":N[4]||(N[4]=oe=>ne.value.name=oe),placeholder:M.$t("article.imageList.name"),class:"mt-1"},{prepend:d(()=>[U(P(M.$t("article.imageList.name")),1)]),_:1},8,["modelValue","placeholder"])):te("",!0),e.listType!=="picture"?(A(),$(G,{key:1,modelValue:ne.value.description,"onUpdate:modelValue":N[5]||(N[5]=oe=>ne.value.description=oe),type:"textarea",rows:2,placeholder:M.$t("article.imageList.description"),class:"mt-1"},null,8,["modelValue","placeholder"])):te("",!0),ce("img",{src:ne.value.url,alt:"",class:"mt-1 border border-gray-300"},null,8,qh)]),_:1},8,["modelValue"])]),p(ju,{modelValue:j.value,"onUpdate:modelValue":N[7]||(N[7]=oe=>j.value=oe),src:V.value.url,"thumbnail-width":Ha,"thumbnail-height":Ya,onSuccess:N[8]||(N[8]=oe=>V.value.url=oe)},null,8,["modelValue","src"])])}}}),zh=Mr(jh,[["__scopeId","data-v-401ca87f"]]),Wh={class:"w-full"},Hh=["onClick"],Yh={class:"el-upload-list__item-status-label"},Kh=wt({__name:"FileListUpload",props:{modelValue:{type:Array,default:()=>[]},fileAccept:{type:String,default:null},fileMaxSize:{type:Number,default:null},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":null},setup(e,{emit:t}){const n=e,i=t,{fileAccept:r,fileMaxSize:a,modelValue:o}=oi(n),{t:u}=li(),c=Vr(),y=q({}),v=nt({get:()=>o.value,set:k=>i("update:modelValue",k)}),{formItem:x}=Ja();It(v,()=>{var k;(k=x==null?void 0:x.validate)==null||k.call(x,"change").catch(I=>{})},{deep:!0});const m=q(!1),V=q({}),K=q(),j=k=>{V.value=k,m.value=!0},ne=()=>{K.value.validate(async k=>{k&&(m.value=!1)})},D=nt(()=>{var k;return(k=r==null?void 0:r.value)!=null?k:c.upload.fileInputAccept}),X=nt(()=>{var k;return(k=a==null?void 0:a.value)!=null?k:c.upload.fileLimitByte}),B=k=>X.value>0&&k.size>X.value?(Bt.error(u("error.fileMaxSize",{size:"".concat(X.value/1024/1024," MB")})),!1):!0,b=k=>{ss(JSON.parse(k.message))};return(k,I)=>{const S=Es,C=ns,M=ji,N=Kt,H=fn,G=mn,Z=Cn,ye=Gt;return A(),we("div",Wh,[p(S,{action:E(ru),headers:{...E(ts)(),...E(es)()},accept:D.value,"before-upload":B,"on-success":pe=>v.value.push({name:pe.name,url:pe.url,length:pe.size}),"on-progress":(pe,oe)=>y.value=oe,"on-error":b,"show-file-list":!1,disabled:e.disabled,multiple:"",drag:""},{default:d(()=>[U(P(k.$t("clickOrDragToUpload")),1)]),_:1},8,["action","headers","accept","on-success","on-progress","disabled"]),y.value.status==="uploading"?(A(),$(C,{key:0,percentage:parseInt(y.value.percentage,10)},null,8,["percentage"])):te("",!0),p(yl,{tag:"ul",class:Wt(["el-upload-list","el-upload-list--text",{"is-disabled":e.disabled}]),name:"el-list"},{default:d(()=>[(A(!0),we(Be,null,Xe(v.value,pe=>(A(),we("li",{key:pe.url,class:"el-upload-list__item is-success"},[ce("a",{class:"el-upload-list__item-name",onClick:()=>j(pe)},[p(M,{class:"el-icon--document"},{default:d(()=>[p(E(ml))]),_:1}),U(P(pe.name),1)],8,Hh),ce("label",Yh,[p(M,{class:"el-icon--upload-success el-icon--circle-check"},{default:d(()=>[p(E(os))]),_:1})]),e.disabled?te("",!0):(A(),$(M,{key:0,class:"el-icon--close",onClick:()=>v.value.splice(v.value.indexOf(pe),1)},{default:d(()=>[p(E(hl))]),_:2},1032,["onClick"]))]))),128))]),_:1},8,["class"]),p(ye,{modelValue:m.value,"onUpdate:modelValue":I[4]||(I[4]=pe=>m.value=pe),title:k.$t("article.fileList.attribute"),top:"5vh",width:768,"append-to-body":""},{default:d(()=>[p(Z,{ref_key:"form",ref:K,model:V.value,"label-width":"150px"},{default:d(()=>[p(H,{prop:"name",label:k.$t("name"),rules:{required:!0,message:()=>k.$t("v.required")}},{default:d(()=>[p(N,{modelValue:V.value.name,"onUpdate:modelValue":I[0]||(I[0]=pe=>V.value.name=pe),maxlength:"100"},null,8,["modelValue"])]),_:1},8,["label","rules"]),p(H,{prop:"length",label:k.$t("size"),rules:{required:!0,message:()=>k.$t("v.required")}},{default:d(()=>[p(N,{modelValue:V.value.length,"onUpdate:modelValue":I[1]||(I[1]=pe=>V.value.length=pe),maxlength:"19"},{append:d(()=>I[5]||(I[5]=[U("Byte")])),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),p(H,{prop:"url",label:"URL",rules:{required:!0,message:()=>k.$t("v.required")}},{default:d(()=>[p(N,{modelValue:V.value.url,"onUpdate:modelValue":I[2]||(I[2]=pe=>V.value.url=pe),maxlength:"255"},null,8,["modelValue"])]),_:1},8,["rules"]),p(G,{type:"primary","native-type":"submit",onClick:I[3]||(I[3]=sn(()=>ne(),["prevent"]))},{default:d(()=>[U(P(k.$t("save")),1)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Gh=Mr(Kh,[["__scopeId","data-v-b3a09e2e"]]),jo=(e,t,n)=>{if(e===0||e===1)window.open(t);else{n=n+"?preview=true";const i=n.lastIndexOf("/",n.lastIndexOf("/")-1),r="".concat(n.substring(0,i),"/auth/jwt/login?code=").concat(vl(),"&redirectUri=").concat(encodeURIComponent(n));window.open(r)}},Qh={class:"flex justify-end mt-2"},Xh=wt({__name:"ReviewFormProperties",props:Sn({formProperties:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:Sn(["finished"],["update:modelValue"]),setup(e,{emit:t}){const n=Yn(e,"modelValue"),i=e,r=t,a=q(),o=()=>{n.value=!1;const u=i.formProperties.reduce((c,{id:y,value:v})=>({...c,[y]:v}),{});r("finished",{properties:u,comment:a.value})};return It(n,()=>{n.value&&(a.value=void 0)}),(u,c)=>{const y=Kt,v=Ku,x=Hi,m=Wi,V=fn,K=mn,j=Cn,ne=Gt;return A(),$(ne,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=D=>n.value=D),title:u.$t("flowable.pass"),width:"800","append-to-body":""},{default:d(()=>[p(j,{"label-width":"120px"},{default:d(()=>[(A(!0),we(Be,null,Xe(u.formProperties,D=>(A(),$(V,{key:D.id},{label:d(()=>[p(tt,{label:D.name},null,8,["label"])]),default:d(()=>[D.type.name==="string"?(A(),$(y,{key:0,modelValue:D.value,"onUpdate:modelValue":X=>D.value=X},null,8,["modelValue","onUpdate:modelValue"])):te("",!0),D.type.name==="long"?(A(),$(y,{key:1,modelValue:D.value,"onUpdate:modelValue":X=>D.value=X},null,8,["modelValue","onUpdate:modelValue"])):te("",!0),D.type.name==="boolean"?(A(),$(v,{key:2,modelValue:D.value,"onUpdate:modelValue":X=>D.value=X},null,8,["modelValue","onUpdate:modelValue"])):te("",!0),D.type.name==="enum"?(A(),$(m,{key:3,modelValue:D.value,"onUpdate:modelValue":X=>D.value=X},{default:d(()=>[(A(!0),we(Be,null,Xe(D.type.values,X=>(A(),$(x,{key:X.id,label:X.name,value:X.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):te("",!0)]),_:2},1024))),128)),p(V,null,{label:d(()=>[p(tt,{message:"flowable.opinion"})]),default:d(()=>[p(y,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=D=>a.value=D)},null,8,["modelValue"])]),_:1}),ce("div",Qh,[p(K,{type:"primary","native-type":"submit",onClick:sn(o,["prevent"])},{default:d(()=>[U(P(u.$t("ok")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"])}}}),zo=wt({__name:"UserSelect",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=Yn(e,"modelValue"),n=q({}),i=q(),r=q(!1),a=q(1),o=q(10),u=q(0),c=q([]),y=async()=>{r.value=!0;try{const{content:m,totalElements:V}=await Bu({Q_Contains_1_username:i.value,Q_Contains_1_realName:i.value,current:!0,page:a.value,pageSize:o.value});c.value=m,u.value=Number(V)}finally{r.value=!1}};qi(async()=>{t.value!=null&&(n.value=await Lu(t.value))});const v=async m=>{i.value=m,y()},x=m=>{t.value=m};return(m,V)=>{const K=Hi,j=us,ne=Wi;return A(),$(ne,{modelValue:n.value,"onUpdate:modelValue":V[4]||(V[4]=D=>n.value=D),filterable:"",remote:"","default-first-option":"","remote-method":v,loading:r.value,onChange:x},{footer:d(()=>[p(j,{"current-page":a.value,"onUpdate:currentPage":V[0]||(V[0]=D=>a.value=D),"page-size":o.value,"onUpdate:pageSize":V[1]||(V[1]=D=>o.value=D),total:u.value,layout:"total, prev, pager, next",size:"small",class:"px-3 py-2",onSizeChange:V[2]||(V[2]=()=>y()),onCurrentChange:V[3]||(V[3]=()=>y())},null,8,["current-page","page-size","total"])]),default:d(()=>[(A(!0),we(Be,null,Xe(c.value,D=>(A(),$(K,{key:D.id,label:"".concat(D.username).concat(D.realName?"(".concat(D.realName,")"):""," - [").concat(D.org.name,"]"),value:D.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])}}}),Zh={class:"flex justify-end mt-2"},Jh=wt({__name:"ReviewDelegate",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:Sn(["finished"],["update:modelValue"]),setup(e,{emit:t}){const n=Yn(e,"modelValue"),i=t,r=q(),a=q({}),o=()=>{r.value.validate(async u=>{u&&(n.value=!1,i("finished",a.value))})};return It(n,()=>{n.value&&(a.value={})}),(u,c)=>{const y=fn,v=Kt,x=Cn,m=mn,V=Gt;return A(),$(V,{modelValue:n.value,"onUpdate:modelValue":c[2]||(c[2]=K=>n.value=K),title:u.$t("flowable.delegate"),width:"800","append-to-body":""},{default:d(()=>[p(x,{ref_key:"form",ref:r,model:a.value,"label-width":"120px"},{default:d(()=>[p(y,{prop:"toUserId",rules:{required:!0,message:()=>u.$t("v.required")}},{label:d(()=>[p(tt,{message:"flowable.delegateUser"})]),default:d(()=>[p(zo,{modelValue:a.value.toUserId,"onUpdate:modelValue":c[0]||(c[0]=K=>a.value.toUserId=K)},null,8,["modelValue"])]),_:1},8,["rules"]),p(y,{prop:"comment",rules:{required:!0,message:()=>u.$t("v.required")}},{label:d(()=>[p(tt,{message:"flowable.delegateReason"})]),default:d(()=>[p(v,{modelValue:a.value.comment,"onUpdate:modelValue":c[1]||(c[1]=K=>a.value.comment=K)},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["model"]),ce("div",Zh,[p(m,{type:"primary",onClick:o},{default:d(()=>[U(P(u.$t("ok")),1)]),_:1})])]),_:1},8,["modelValue","title"])}}}),ey={class:"flex justify-end mt-2"},ty=wt({__name:"ReviewTransfer",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:Sn(["finished"],["update:modelValue"]),setup(e,{emit:t}){const n=Yn(e,"modelValue"),i=t,r=q(),a=q({}),o=()=>{r.value.validate(async u=>{u&&(n.value=!1,i("finished",a.value))})};return It(n,()=>{n.value&&(a.value={})}),(u,c)=>{const y=fn,v=Kt,x=Cn,m=mn,V=Gt;return A(),$(V,{modelValue:n.value,"onUpdate:modelValue":c[2]||(c[2]=K=>n.value=K),title:u.$t("flowable.transfer"),width:"800","append-to-body":""},{default:d(()=>[p(x,{ref_key:"form",ref:r,model:a.value,"label-width":"120px"},{default:d(()=>[p(y,{prop:"toUserId",rules:{required:!0,message:()=>u.$t("v.required")}},{label:d(()=>[p(tt,{message:"flowable.transferUser"})]),default:d(()=>[p(zo,{modelValue:a.value.toUserId,"onUpdate:modelValue":c[0]||(c[0]=K=>a.value.toUserId=K)},null,8,["modelValue"])]),_:1},8,["rules"]),p(y,{prop:"comment",rules:{required:!0,message:()=>u.$t("v.required")}},{label:d(()=>[p(tt,{message:"flowable.transferReason"})]),default:d(()=>[p(v,{modelValue:a.value.comment,"onUpdate:modelValue":c[1]||(c[1]=K=>a.value.comment=K)},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["model"]),ce("div",ey,[p(m,{type:"primary",onClick:o},{default:d(()=>[U(P(u.$t("ok")),1)]),_:1})])]),_:1},8,["modelValue","title"])}}}),ny={class:"flex justify-end mt-2"},iy=wt({__name:"ReviewBack",props:Sn({taskId:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:Sn(["finished"],["update:modelValue"]),setup(e,{emit:t}){const n=Yn(e,"modelValue"),i=e,r=t,a=q([]),o=q(),u=q({}),c=()=>{o.value.validate(async v=>{v&&(n.value=!1,r("finished",u.value))})},y=async()=>{a.value=await Pu(i.taskId)};return It(n,()=>{n.value?(y(),u.value={}):a.value=[]}),(v,x)=>{const m=cs,V=Yi,K=zi,j=fn,ne=Kt,D=mn,X=Cn,B=Gt;return A(),$(B,{modelValue:n.value,"onUpdate:modelValue":x[2]||(x[2]=b=>n.value=b),title:v.$t("flowable.back"),width:"800","append-to-body":""},{default:d(()=>[p(X,{ref_key:"form",ref:o,model:u.value,"label-width":"120px"},{default:d(()=>[p(j,{prop:"activityId",rules:{required:!0,message:()=>v.$t("v.required")}},{label:d(()=>[p(tt,{message:"flowable.backActivity"})]),default:d(()=>[a.value.length>0?(A(),$(V,{key:0,modelValue:u.value.activityId,"onUpdate:modelValue":x[0]||(x[0]=b=>u.value.activityId=b)},{default:d(()=>[(A(!0),we(Be,null,Xe(a.value,b=>(A(),$(m,{key:b.id,label:b.activityName,value:b.activityId},{default:d(()=>[U(P(b.activityName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])):(A(),$(K,{key:1,type:"warning"},{default:d(()=>[U(P(v.$t("preview.noBackStep")),1)]),_:1}))]),_:1},8,["rules"]),p(j,{prop:"comment",rules:{required:!0,message:()=>v.$t("v.required")}},{label:d(()=>[p(tt,{message:"flowable.backReason"})]),default:d(()=>[p(ne,{modelValue:u.value.comment,"onUpdate:modelValue":x[1]||(x[1]=b=>u.value.comment=b)},null,8,["modelValue"])]),_:1},8,["rules"]),ce("div",ny,[p(D,{type:"primary","native-type":"submit",disabled:a.value.length<=0,onClick:sn(c,["prevent"])},{default:d(()=>[U(P(v.$t("ok")),1)]),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}}),ry={key:0},ay={class:"w-full"},sy={class:"w-full"},oy={key:1,class:"inline-flex mb-1"},ly={key:2,class:"inline-flex mb-1"},uy=wt({name:"ArticleForm",__name:"ArticleForm",props:{modelValue:{type:Boolean,required:!0},beanId:{type:String,default:null},beanIds:{type:Array,required:!0},action:{type:String,default:"edit"},channel:{type:Object,default:null},isReview:{type:Boolean,default:!1}},emits:{"update:modelValue":null,finished:null},setup(e){const t=e,{modelValue:n,channel:i}=oi(t),{t:r}=li(),a=Vr(),o=gl(),u=q(),c=q(!1),y=q(!1),v=q(!1),x=q(),m=q({}),V=q(),K=q(!1),j=q([]),ne=q([]),D=q([]),X=q([]),B=q([]),b=q([]),k=q(),I=nt(()=>{var g;return(g=B.value.find(w=>w.id===k.value))!=null?g:B.value[0]}),S=nt(()=>{var g;return pa(fa(ma().article.mains,(g=I.value)==null?void 0:g.mains,"article"))}),C=nt(()=>{var g;return pa(fa(ma().article.asides,(g=I.value)==null?void 0:g.asides,"article"))}),M=nt(()=>{var g;return JSON.parse(((g=I.value)==null?void 0:g.customs)||"[]").filter(w=>w.type!=="tinyEditor")}),N=nt(()=>{var g;return JSON.parse(((g=I.value)==null?void 0:g.customs)||"[]").filter(w=>w.type==="tinyEditor")}),H=q(!1),G=q([]),Z=async g=>{H.value=!0,G.value=await uu({Q_Contains_name:g,Q_OrderBy:"refers_desc,id_desc",limit:20}),H.value=!1};qi(()=>{at()}),It(n,()=>{var g;n.value&&(k.value=(g=i==null?void 0:i.value)==null?void 0:g.articleModelId,oe(),he(),Ke(),ye())}),It(M,()=>{Ie(m.value.customs)});const ye=async()=>{je.epRank>0&&(K.value=await ou())},pe=g=>pu("sys_article_source",g),oe=async()=>{const g=await Ou({current:!0});ne.value=g.map(w=>w.id),j.value=ai(g),je.dataScope!==1&&tu(j.value,await Uu())},he=async()=>{X.value=await Lr({isArticlePermission:!0,isReal:!0}),D.value=ai(X.value)},at=async()=>{B.value=await ms({type:"article"})},Ke=async()=>{b.value=await su()},Ie=g=>(M.value.forEach(w=>{g[w.code]==null&&(g[w.code]=w.defaultValue,w.defaultValueKey!=null&&(g[w.code+"Key"]=w.defaultValueKey))}),g),We=async g=>{if(je.epRank<=1)return!1;const w=await $u({text:g.text});if(w.status===-1){if(g.editorType===1){const Ge=V.value.editor.plugins.searchreplace;Ge.find(w.result.name),Ge.done(),gi.confirm(r("article.error.errorWord.confirm",{name:w.result.name,correct:w.result.correct}),{cancelButtonText:r("cancel"),confirmButtonText:r("ok"),type:"warning",callback:pt=>{pt==="confirm"&&(Ge.find(w.result.name),Ge.replace(w.result.correct,!1,!0),Ge.done(),m.value.text=V.value.editor.getContent())}})}else g.editorType===2&&gi.alert(r("article.error.errorWord.alert.message",{name:w.result.name}),r("article.error.errorWord.alert.title"),{confirmButtonText:r("ok")});return!0}const $e=await Mu({text:g.text});if($e.status===-1){if(g.editorType===1){const Ge=V.value.editor.plugins.searchreplace;Ge.find($e.result.name),Ge.done()}return gi.alert(r("article.error.sensitiveWord.alert.message",{name:$e.result.name}),r("article.error.sensitiveWord.alert.title"),{confirmButtonText:r("ok")}),!0}return!1},F=()=>{u.value.submit(async(g,{focus:w,emit:$e,props:Ge,form:pt})=>{var R;g.status=10,await ca(g),(R=w==null?void 0:w.focus)==null||R.call(w),$e("update:values",Ge.initValues(g.value)),pt.resetFields(),Bt.success(r("success"))})},O=q(""),J=q([]),Te=q(!1),f=q(!1),s=q(!1),l=q(!1),h=async g=>{g.ctrlKey&&g.key.toLowerCase()==="s"&&(g.preventDefault(),u.value.defaultSubmit(!0))},_=async g=>{O.value=g.taskId,J.value=await Nu(g.taskId),Te.value=!0},L=async g=>{u.value.remove(async()=>{await yu(O.value,g.properties,g.comment)})},re=async g=>{O.value=g.taskId,s.value=!0},ie=async g=>{u.value.remove(async()=>{await vu(O.value,g.toUserId,g.comment)})},ve=async g=>{O.value=g.taskId,l.value=!0},Ue=async g=>{u.value.remove(async()=>{await gu(O.value,g.toUserId,g.comment)})},lt=g=>{O.value=g.taskId,f.value=!0},rt=g=>{u.value.remove(async()=>{await bu(O.value,g.activityId,g.comment)})},Ne=async g=>{try{const{value:w}=await gi.prompt(r("review.rejectReason"),r("review.reject"),{confirmButtonText:r("submit"),cancelButtonText:r("cancel"),inputPattern:/\S+/,inputErrorMessage:r("v.required")});u.value.remove(async()=>{await fu([g.taskId],w)})}catch(w){}},Ze=(g,w)=>{u.value.submit(async($e,{loadBean:Ge})=>{if(g==="delete")await gs([w]);else if(g==="submit")await hs([w]);else if(g==="archive")await bs([w]);else if(g==="offline")await _s([w]);else throw new Error("not support action: ".concat(g));Ge()})},xe=q(!1),_t=q([]),Jt=()=>{var Ge,pt;xe.value=!0;const g=Ps(m.value.text),$e=Is("img",g).map(R=>Ds(R,"src")).filter(R=>R==null?void 0:R.startsWith(a.base.uploadUrlPrefix));_t.value=[...(pt=(Ge=m.value.imageList)==null?void 0:Ge.map(R=>R.url))!=null?pt:[],...$e]},Je=q(!1),ae=q([]),ke=async(g,w)=>{ae.value=await lu(.6,g,w),ae.value.length>0?Je.value=!0:Bt.success(r("article.success.titleSimilarity"))};return(g,w)=>{const $e=mn,Ge=kl,pt=ps,R=zi,z=Kt,fe=fn,Ee=_l,en=wl,bn=Hi,_n=Wi,ht=bl,Xn=El,kt=cs,rr=Yi,Me=ws,jt=ls,ar=ec,$t=Pr,Zn=Sl,Mt=xl,Mn=$r,sr=Nr,or=Gt;return A(),we("div",null,[p(Fu,{ref_key:"dialog",ref:u,values:m.value,"onUpdate:values":w[54]||(w[54]=ue=>m.value=ue),name:g.$t("menu.content.article"),"query-bean":e.isReview?E(hu):E(vs),"create-bean":E(ca),"update-bean":E(mu),"delete-bean":E(ys),"bean-id":e.beanId,"bean-ids":e.beanIds,action:e.action,focus:x.value,"init-values":()=>{var ue,Pe;return k.value=(ue=E(i))==null?void 0:ue.articleModelId,{editorType:S.value.text.editorType,channelId:(Pe=E(i))==null?void 0:Pe.id,publishDate:new Date,allowComment:!0,customs:{},fileList:[],imageList:[]}},"to-values":ue=>({...ue,tagNames:ue.tags.map(Pe=>Pe.name)}),perms:"article","model-value":e.modelValue,addable:!e.isReview,"disable-edit":ue=>ue.id!=null&&!ue.editable&&!E(je).allStatusPermission&&!e.isReview,"prevent-submit":We,"label-width":"140px",large:"","onUpdate:modelValue":w[55]||(w[55]=ue=>g.$emit("update:modelValue",ue)),onFinished:w[56]||(w[56]=()=>g.$emit("finished")),onBeanChange:w[57]||(w[57]=ue=>{var Pe,Fe,Q;c.value=!!ue.subtitle,y.value=!!ue.fullTitle,v.value=!!ue.linkUrl,k.value=(Q=(Pe=ue.channel)==null?void 0:Pe.articleModelId)!=null?Q:(Fe=E(i))==null?void 0:Fe.articleModelId})},{"header-action":d(({isEdit:ue,bean:Pe,unsaved:Fe,handleDelete:Q})=>[e.isReview?(A(),$(Ge,{key:0},{default:d(()=>[ue&&e.isReview?(A(),$($e,{key:0,disabled:E(Re)("articleReview:pass")||Fe,type:"primary",icon:E(os),onClick:()=>_(Pe)},{default:d(()=>[U(P(g.$t("review.pass")),1)]),_:2},1032,["disabled","icon","onClick"])):te("",!0),p($e,{disabled:E(Re)("articleReview:reject")||Fe,icon:E(oa),onClick:()=>Ne(Pe)},{default:d(()=>[U(P(g.$t("review.reject")),1)]),_:2},1032,["disabled","icon","onClick"]),E(je).epRank>=3?(A(),$($e,{key:1,disabled:E(Re)("articleReview:back")||Fe,icon:E(Al),onClick:()=>lt(Pe)},{default:d(()=>[U(P(g.$t("review.back")),1)]),_:2},1032,["disabled","icon","onClick"])):te("",!0),E(je).epRank>=3?(A(),$($e,{key:2,disabled:E(Re)("articleReview:delegate")||Fe,icon:E(Tl),onClick:()=>re(Pe)},{default:d(()=>[U(P(g.$t("review.delegate")),1)]),_:2},1032,["disabled","icon","onClick"])):te("",!0),E(je).epRank>=3?(A(),$($e,{key:3,disabled:E(Re)("articleReview:transfer")||Fe,icon:E(Cl),onClick:()=>ve(Pe)},{default:d(()=>[U(P(g.$t("review.transfer")),1)]),_:2},1032,["disabled","icon","onClick"])):te("",!0)]),_:2},1024)):te("",!0),e.isReview?te("",!0):(A(),$(Ge,{key:1},{default:d(()=>[ue?(A(),$(pt,{key:0,title:g.$t("confirmExecute"),onConfirm:()=>Ze("submit",Pe.id)},{reference:d(()=>[p($e,{disabled:[0,12].includes(Pe.status)||E(Re)("article:submit")||Fe,icon:E(Rl)},{default:d(()=>[U(P(g.$t("article.op.submit")),1)]),_:2},1032,["disabled","icon"])]),_:2},1032,["title","onConfirm"])):te("",!0),ue?(A(),$(pt,{key:1,title:g.$t("confirmExecute"),onConfirm:()=>Ze("archive",Pe.id)},{reference:d(()=>[p($e,{disabled:![0].includes(Pe.status)||E(Re)("article:archive")||Fe,icon:E(Dl)},{default:d(()=>[U(P(g.$t("article.op.archive")),1)]),_:2},1032,["disabled","icon"])]),_:2},1032,["title","onConfirm"])):te("",!0),ue?(A(),$(pt,{key:2,title:g.$t("confirmExecute"),onConfirm:()=>Ze("offline",Pe.id)},{reference:d(()=>[p($e,{disabled:![0,1,5,11,12].includes(Pe.status)||E(Re)("article:offline")||Fe,icon:E(oa)},{default:d(()=>[U(P(g.$t("article.op.offline")),1)]),_:2},1032,["disabled","icon"])]),_:2},1032,["title","onConfirm"])):te("",!0)]),_:2},1024)),ue?(A(),$($e,{key:2,icon:E(rs),onClick:w[0]||(w[0]=()=>E(jo)(m.value.status,m.value.url,m.value.dynamicUrl))},{default:d(()=>[U(P(g.$t("article.op.preview")),1)]),_:1},8,["icon"])):te("",!0),p(Ge,null,{default:d(()=>[ue&&!e.isReview?(A(),$(pt,{key:0,title:g.$t("confirmDelete"),onConfirm:()=>Ze("delete",Pe.id)},{reference:d(()=>[p($e,{disabled:E(Re)("article:delete")||Fe,icon:E(Il)},{default:d(()=>[U(P(g.$t("delete")),1)]),_:2},1032,["disabled","icon"])]),_:2},1032,["title","onConfirm"])):te("",!0),ue?(A(),$(pt,{key:1,title:g.$t("confirmCompletelyDelete"),onConfirm:()=>Q()},{reference:d(()=>[p($e,{disabled:E(Re)("article:completelyDelete"),icon:E(as)},{default:d(()=>[U(P(g.$t("article.op.completelyDelete")),1)]),_:1},8,["disabled","icon"])]),_:2},1032,["title","onConfirm"])):te("",!0)]),_:2},1024)]),"header-status":d(({isEdit:ue})=>[ue?(A(),we(Be,{key:0},[m.value.status!=null?(A(),we("span",ry,[m.value.status===0?(A(),$(R,{key:0,type:"success",size:"small","disable-transitions":""},{default:d(()=>[U(P(g.$t("article.status.".concat(m.value.status))),1)]),_:1})):m.value.status===1?(A(),$(R,{key:1,size:"small","disable-transitions":""},{default:d(()=>[U(P(g.$t("article.status.".concat(m.value.status))),1)]),_:1})):m.value.status===20?(A(),$(R,{key:2,type:"danger",size:"small","disable-transitions":""},{default:d(()=>[U(P(g.$t("article.status.".concat(m.value.status))),1)]),_:1})):[21,22].includes(m.value.status)?(A(),$(R,{key:3,type:"warning",size:"small","disable-transitions":""},{default:d(()=>[U(P(g.$t("article.status.".concat(m.value.status))),1)]),_:1})):(A(),$(R,{key:4,type:"info",size:"small","disable-transitions":""},{default:d(()=>[U(P(g.$t("article.status.".concat(m.value.status))),1)]),_:1}))])):te("",!0)],64)):te("",!0)]),default:d(({bean:ue,isEdit:Pe,disabled:Fe})=>[p(ht,null,{default:d(()=>[p(Ee,{span:18},{default:d(()=>[p(ht,null,{default:d(()=>[m.value.src!=null?(A(),$(Ee,{key:0,span:S.value.title.double?12:24},{default:d(()=>[p(fe,{label:g.$t("article.src")},{default:d(()=>[p(z,{"model-value":m.value.src.title,disabled:""},{prepend:d(()=>[U(P(E(r)("article.type.".concat(m.value.type))),1)]),append:d(()=>[U(P(m.value.src.channel.paths.map(Q=>Q.name).join("/")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]),_:1},8,["span"])):te("",!0),p(Ee,{span:S.value.title.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"title",label:(Q=S.value.title.name)!=null?Q:g.$t("article.title"),rules:{required:!0,message:()=>g.$t("v.required")}},{default:d(()=>[p(z,{ref_key:"focus",ref:x,modelValue:m.value.title,"onUpdate:modelValue":w[1]||(w[1]=Y=>m.value.title=Y),maxlength:"150"},null,8,["modelValue"]),p($e,{disabled:!m.value.title,class:"mr-5",onClick:w[2]||(w[2]=()=>ke(m.value.title,m.value.id))},{default:d(()=>[U(P(g.$t("article.op.titleSimilarity")),1)]),_:1},8,["disabled"]),S.value.subtitle.show&&!S.value.subtitle.required?(A(),$(en,{key:0,modelValue:c.value,"onUpdate:modelValue":w[3]||(w[3]=Y=>c.value=Y),onClick:w[4]||(w[4]=()=>m.value.subtitle=void 0)},{default:d(()=>{var Y;return[U(P((Y=S.value.subtitle.name)!=null?Y:g.$t("article.subtitle")),1)]}),_:1},8,["modelValue"])):te("",!0),S.value.fullTitle.show&&!S.value.fullTitle.required?(A(),$(en,{key:1,modelValue:y.value,"onUpdate:modelValue":w[5]||(w[5]=Y=>y.value=Y),onClick:w[6]||(w[6]=()=>m.value.fullTitle=void 0)},{default:d(()=>{var Y;return[U(P((Y=S.value.fullTitle.name)!=null?Y:g.$t("article.fullTitle")),1)]}),_:1},8,["modelValue"])):te("",!0),S.value.linkUrl.show&&!S.value.linkUrl.required?(A(),$(en,{key:2,modelValue:v.value,"onUpdate:modelValue":w[7]||(w[7]=Y=>v.value=Y),onClick:w[8]||(w[8]=()=>(m.value.linkUrl=void 0,m.value.targetBlank=!1))},{default:d(()=>{var Y;return[U(P((Y=S.value.linkUrl.name)!=null?Y:g.$t("article.linkUrl")),1)]}),_:1},8,["modelValue"])):te("",!0)]),_:1},8,["label","rules"])]}),_:1},8,["span"]),(m.value.subtitle||c.value)&&S.value.subtitle.show||S.value.subtitle.show&&S.value.subtitle.required?(A(),$(Ee,{key:1,span:S.value.subtitle.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"subtitle",label:(Q=S.value.subtitle.name)!=null?Q:g.$t("article.subtitle"),rules:S.value.subtitle.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(z,{modelValue:m.value.subtitle,"onUpdate:modelValue":w[9]||(w[9]=Y=>m.value.subtitle=Y),maxlength:"150"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):te("",!0),(m.value.fullTitle||y.value)&&S.value.fullTitle.show||S.value.fullTitle.show&&S.value.fullTitle.required?(A(),$(Ee,{key:2,span:S.value.fullTitle.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"fullTitle",label:(Q=S.value.fullTitle.name)!=null?Q:g.$t("article.fullTitle"),rules:S.value.fullTitle.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(z,{modelValue:m.value.fullTitle,"onUpdate:modelValue":w[10]||(w[10]=Y=>m.value.fullTitle=Y),type:"textarea",rows:2,maxlength:"150"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):te("",!0),(m.value.linkUrl||v.value)&&S.value.linkUrl.show||S.value.linkUrl.show&&S.value.linkUrl.required?(A(),$(Ee,{key:3,span:S.value.linkUrl.double?12:24},{default:d(()=>[p(fe,{prop:"linkUrl",rules:S.value.linkUrl.required?[{required:!0,message:()=>g.$t("v.required")},{pattern:/^(http|\/).*$/,message:()=>g.$t("article.error.linkUrl")}]:{pattern:/^(http|\/).*$/,message:()=>g.$t("article.error.linkUrl")}},{label:d(()=>{var Q;return[p(tt,{label:(Q=S.value.linkUrl.name)!=null?Q:g.$t("article.linkUrl"),message:"article.linkUrl",help:""},null,8,["label"])]}),default:d(()=>[p(z,{modelValue:m.value.linkUrl,"onUpdate:modelValue":w[12]||(w[12]=Q=>m.value.linkUrl=Q),maxlength:"255",disabled:m.value.src!=null&&m.value.type===3},{append:d(()=>[p(en,{modelValue:m.value.targetBlank,"onUpdate:modelValue":w[11]||(w[11]=Q=>m.value.targetBlank=Q)},{default:d(()=>[U(P(g.$t("article.targetBlank")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue","disabled"])]),_:1},8,["rules"])]),_:1},8,["span"])):te("",!0),S.value.tags.show?(A(),$(Ee,{key:4,span:S.value.tags.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"tagNames",label:(Q=S.value.tags.name)!=null?Q:g.$t("article.tags"),rules:S.value.tags.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(_n,{modelValue:m.value.tagNames,"onUpdate:modelValue":w[13]||(w[13]=Y=>m.value.tagNames=Y),multiple:"",filterable:"",remote:"",clearable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,"remote-method":Z,loading:H.value,class:"w-full",onFocusOnce:w[14]||(w[14]=()=>Z())},{default:d(()=>[(A(!0),we(Be,null,Xe(G.value.map(Y=>Y.name),Y=>(A(),$(bn,{key:Y,label:Y,value:Y},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):te("",!0),S.value.seoKeywords.show?(A(),$(Ee,{key:5,span:S.value.seoKeywords.double?12:24},{default:d(()=>[p(fe,{prop:"seoKeywords",rules:S.value.seoKeywords.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{label:d(()=>{var Q;return[p(tt,{label:(Q=S.value.seoKeywords.name)!=null?Q:g.$t("article.seoKeywords"),message:"article.seoKeywords",help:""},null,8,["label"])]}),default:d(()=>[p(z,{modelValue:m.value.seoKeywords,"onUpdate:modelValue":w[15]||(w[15]=Q=>m.value.seoKeywords=Q),maxlength:"150"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"])):te("",!0),S.value.seoDescription.show?(A(),$(Ee,{key:6,span:S.value.seoDescription.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"seoDescription",label:(Q=S.value.seoDescription.name)!=null?Q:g.$t("article.seoDescription"),rules:S.value.seoDescription.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(z,{modelValue:m.value.seoDescription,"onUpdate:modelValue":w[16]||(w[16]=Y=>m.value.seoDescription=Y),type:"textarea",rows:3,maxlength:"1000"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):te("",!0),S.value.author.show?(A(),$(Ee,{key:7,span:S.value.author.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"author",label:(Q=S.value.author.name)!=null?Q:g.$t("article.author"),rules:S.value.author.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(z,{modelValue:m.value.author,"onUpdate:modelValue":w[17]||(w[17]=Y=>m.value.author=Y),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):te("",!0),S.value.editor.show?(A(),$(Ee,{key:8,span:S.value.editor.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"editor",label:(Q=S.value.editor.name)!=null?Q:g.$t("article.editor"),rules:S.value.editor.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(z,{modelValue:m.value.editor,"onUpdate:modelValue":w[18]||(w[18]=Y=>m.value.editor=Y),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):te("",!0),S.value.image.show?(A(),$(Ee,{key:9,span:S.value.image.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"image",label:(Q=S.value.image.name)!=null?Q:g.$t("article.image"),rules:S.value.image.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(E(zu),{modelValue:m.value.image,"onUpdate:modelValue":w[19]||(w[19]=Y=>m.value.image=Y),height:S.value.image.imageHeight,width:S.value.image.imageWidth,mode:S.value.image.imageMode,disabled:Fe},null,8,["modelValue","height","width","mode","disabled"]),p($e,{class:"self-start ml-2",onClick:w[20]||(w[20]=()=>Jt())},{default:d(()=>[U(P(g.$t("article.extractImage")),1)]),_:1})]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),(A(!0),we(Be,null,Xe(M.value,Q=>(A(),$(Ee,{key:Q.code,span:Q.double?12:24},{default:d(()=>[p(fe,{prop:"customs.".concat(Q.code),rules:Q.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{label:d(()=>[p(tt,{label:Q.name},null,8,["label"])]),default:d(()=>[p(ha,{modelValue:m.value.customs[Q.code],"onUpdate:modelValue":Y=>m.value.customs[Q.code]=Y,"model-key":m.value.customs[Q.code+"Key"],"onUpdate:modelKey":Y=>m.value.customs[Q.code+"Key"]=Y,field:Q},null,8,["modelValue","onUpdate:modelValue","model-key","onUpdate:modelKey","field"])]),_:2},1032,["prop","rules"])]),_:2},1032,["span"]))),128)),S.value.file.show?(A(),$(Ee,{key:10,span:S.value.file.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"file",label:(Q=S.value.file.name)!=null?Q:g.$t("article.file"),rules:S.value.file.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(ht,{class:"w-full"},{default:d(()=>[p(Ee,{span:16},{default:d(()=>[p(z,{modelValue:m.value.fileName,"onUpdate:modelValue":w[21]||(w[21]=Y=>m.value.fileName=Y)},{prepend:d(()=>[U(P(g.$t("name")),1)]),_:1},8,["modelValue"])]),_:1}),p(Ee,{span:8},{default:d(()=>[p(z,{modelValue:m.value.fileLength,"onUpdate:modelValue":w[22]||(w[22]=Y=>m.value.fileLength=Y)},{prepend:d(()=>[U(P(g.$t("size")),1)]),append:d(()=>w[66]||(w[66]=[U("Byte")])),_:1},8,["modelValue"])]),_:1})]),_:1}),p(z,{modelValue:m.value.file,"onUpdate:modelValue":w[23]||(w[23]=Y=>m.value.file=Y)},{prepend:d(()=>w[67]||(w[67]=[U("URL")])),_:1},8,["modelValue"]),p(E(ei),{type:"file","on-success":Y=>(m.value.file=Y.url,m.value.fileName=Y.name,m.value.fileLength=Y.size),disabled:Fe},null,8,["on-success","disabled"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),S.value.video.show?(A(),$(Ee,{key:11,span:S.value.video.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"video",label:(Q=S.value.video.name)!=null?Q:g.$t("article.video"),rules:S.value.video.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(ht,{class:"w-full"},{default:d(()=>[p(Ee,{span:16},{default:d(()=>[p(z,{modelValue:m.value.video,"onUpdate:modelValue":w[24]||(w[24]=Y=>m.value.video=Y),maxlength:"255"},{prepend:d(()=>w[68]||(w[68]=[U("URL")])),_:1},8,["modelValue"])]),_:1}),p(Ee,{span:8},{default:d(()=>[p(z,{modelValue:m.value.videoDuration,"onUpdate:modelValue":w[25]||(w[25]=Y=>m.value.videoDuration=Y),maxlength:"10"},{prepend:d(()=>[U(P(g.$t("article.videoDuration")),1)]),append:d(()=>[U(P(E(sa)(m.value.videoDuration)),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),p(E(ei),{type:"video","on-success":Y=>{m.value.video=Y.url,m.value.videoDuration=Y.duration,m.value.image||(m.value.image=Y.image)},disabled:Fe},null,8,["on-success","disabled"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),S.value.audio.show?(A(),$(Ee,{key:12,span:S.value.audio.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"audio",label:(Q=S.value.audio.name)!=null?Q:g.$t("article.audio"),rules:S.value.audio.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(ht,{class:"w-full"},{default:d(()=>[p(Ee,{span:16},{default:d(()=>[p(z,{modelValue:m.value.audio,"onUpdate:modelValue":w[26]||(w[26]=Y=>m.value.audio=Y),maxlength:"255"},{prepend:d(()=>w[69]||(w[69]=[U("URL")])),_:1},8,["modelValue"])]),_:1}),p(Ee,{span:8},{default:d(()=>[p(z,{modelValue:m.value.audioDuration,"onUpdate:modelValue":w[27]||(w[27]=Y=>m.value.audioDuration=Y),maxlength:"10"},{prepend:d(()=>[U(P(g.$t("article.audioDuration")),1)]),append:d(()=>[U(P(E(sa)(m.value.audioDuration)),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),p(E(ei),{type:"audio","on-success":Y=>{m.value.audio=Y.url,m.value.audioDuration=Y.duration},disabled:Fe},null,8,["on-success","disabled"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),S.value.doc.show?(A(),$(Ee,{key:13,span:S.value.doc.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"doc",label:(Q=S.value.doc.name)!=null?Q:g.$t("article.doc"),rules:S.value.doc.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[ce("div",ay,[p(ht,null,{default:d(()=>[p(Ee,{span:12},{default:d(()=>[p(z,{modelValue:m.value.docName,"onUpdate:modelValue":w[28]||(w[28]=Y=>m.value.docName=Y)},{prepend:d(()=>[U(P(g.$t("name")),1)]),_:1},8,["modelValue"])]),_:1}),p(Ee,{span:12},{default:d(()=>[p(z,{modelValue:m.value.docLength,"onUpdate:modelValue":w[29]||(w[29]=Y=>m.value.docLength=Y)},{prepend:d(()=>[U(P(g.$t("size")),1)]),append:d(()=>w[70]||(w[70]=[U("Byte")])),_:1},8,["modelValue"])]),_:1})]),_:1}),p(z,{modelValue:m.value.doc,"onUpdate:modelValue":w[30]||(w[30]=Y=>m.value.doc=Y)},{prepend:d(()=>w[71]||(w[71]=[U("URL")])),_:1},8,["modelValue"]),p(z,{modelValue:m.value.docOrig,"onUpdate:modelValue":w[31]||(w[31]=Y=>m.value.docOrig=Y)},{prepend:d(()=>[U(P(g.$t("article.docOrig")),1)]),_:1},8,["modelValue"]),K.value&&E(je).epRank>0?(A(),$(E(ei),{key:0,type:"library",disabled:E(Re)("jodConvert:library")||Fe,"upload-action":E(cu),"on-success":Y=>{m.value.doc=Y.doc,m.value.docOrig=Y.docOrig,m.value.docName=Y.docName,m.value.docLength=Y.docLength,m.value.image=Y.docImage}},null,8,["disabled","upload-action","on-success"])):te("",!0),!K.value&&E(je).epRank>0?(A(),$(Xn,{key:1,title:g.$t("error.jodConverterNotEnabled"),type:"error",closable:!1},null,8,["title"])):te("",!0),E(je).epRank===0?(A(),$($e,{key:2,type:"primary",onClick:w[32]||(w[32]=()=>g.$alert(g.$t("error.enterprise"),{dangerouslyUseHTMLString:!0}))},{default:d(()=>[U(P(g.$t("article.op.clickToUpload")),1)]),_:1})):te("",!0)])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),S.value.imageList.show?(A(),$(Ee,{key:14,span:S.value.imageList.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"imageList",label:(Q=S.value.imageList.name)!=null?Q:g.$t("article.imageList"),rules:S.value.imageList.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(E(zh),{modelValue:m.value.imageList,"onUpdate:modelValue":w[33]||(w[33]=Y=>m.value.imageList=Y),"max-height":S.value.imageList.imageMaxHeight,"max-width":S.value.imageList.imageMaxWidth,"list-type":S.value.imageList.imageListType,disabled:Fe},null,8,["modelValue","max-height","max-width","list-type","disabled"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),S.value.fileList.show?(A(),$(Ee,{key:15,span:S.value.fileList.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"fileList",label:(Q=S.value.fileList.name)!=null?Q:g.$t("article.fileList"),rules:S.value.fileList.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>[p(E(Gh),{modelValue:m.value.fileList,"onUpdate:modelValue":w[34]||(w[34]=Y=>m.value.fileList=Y),disabled:Fe},null,8,["modelValue","disabled"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),S.value.text.show?(A(),$(Ee,{key:16,span:S.value.text.double?12:24},{default:d(()=>{var Q;return[p(fe,{prop:"text",label:(Q=S.value.text.name)!=null?Q:g.$t("article.text"),rules:S.value.text.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{default:d(()=>{var Y;return[ce("div",sy,[S.value.text.editorSwitch?(A(),$(rr,{key:0,modelValue:m.value.editorType,"onUpdate:modelValue":w[35]||(w[35]=et=>m.value.editorType=et),class:"mr-6",onChange:w[36]||(w[36]=()=>m.value.markdown="")},{default:d(()=>[(A(),we(Be,null,Xe([1,2],et=>p(kt,{key:et,value:et},{default:d(()=>[U(P(g.$t("model.field.editorType.".concat(et))),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])):te("",!0),m.value.editorType===1&&K.value&&E(je).epRank>0?(A(),we("div",oy,[p(E(ei),{type:"doc",disabled:E(Re)("jodConvert:doc"),"upload-action":E(du),"on-success":et=>m.value.text=et,button:g.$t("article.op.docImport")},null,8,["disabled","upload-action","on-success","button"])])):te("",!0),E(je).epRank===0&&E(je).epDisplay?(A(),we("div",ly,[p($e,{type:"primary",onClick:w[37]||(w[37]=()=>g.$alert(g.$t("error.enterprise"),{dangerouslyUseHTMLString:!0}))},{default:d(()=>[U(P(g.$t("article.op.docImport")),1)]),_:1})])):te("",!0),m.value.editorType===2?(A(),$(E(eu),{key:3,modelValue:m.value.markdown,"onUpdate:modelValue":w[38]||(w[38]=et=>m.value.markdown=et),html:m.value.text,"onUpdate:html":w[39]||(w[39]=et=>m.value.text=et),class:"leading-6",onKeydown:w[40]||(w[40]=(et,Vn)=>h(Vn))},null,8,["modelValue","html"])):(A(),$(E(qu),{key:4,ref_key:"tinyText",ref:V,modelValue:m.value.text,"onUpdate:modelValue":w[41]||(w[41]=et=>m.value.text=et),disabled:Fe,init:{typesetting_options:(Y=E(o).currentSite.editor)==null?void 0:Y.typesetting},onKeydown:h},null,8,["modelValue","disabled","init"]))])]}),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):te("",!0),(A(!0),we(Be,null,Xe(N.value,Q=>(A(),$(Ee,{key:Q.code,span:Q.double?12:24},{default:d(()=>[p(fe,{prop:"customs.".concat(Q.code),rules:Q.required?{required:!0,message:()=>g.$t("v.required")}:void 0},{label:d(()=>[p(tt,{label:Q.name},null,8,["label"])]),default:d(()=>[p(ha,{modelValue:m.value.customs[Q.code],"onUpdate:modelValue":Y=>m.value.customs[Q.code]=Y,field:Q},null,8,["modelValue","onUpdate:modelValue","field"])]),_:2},1032,["prop","rules"])]),_:2},1032,["span"]))),128))]),_:2},1024)]),_:2},1024),p(Ee,{span:6},{default:d(()=>[p(Mt,{type:"border-card",class:"ml-5"},{default:d(()=>[p(Zn,{label:g.$t("article.tabs.setting")},{default:d(()=>{var Q,Y,et,Vn,yi,Jn,T,Le,wn,vi;return[p(fe,{prop:"channelId",label:(Q=C.value.channel.name)!=null?Q:g.$t("article.channel"),rules:[{required:!0,message:()=>g.$t("v.required")},{validator:(me,ut,tn)=>{var nn;if(((nn=D.value.find(Wo=>Wo.id===ut))==null?void 0:nn.children.length)>0){tn(g.$t("article.error.leafChannelOnly"));return}tn()}}],"label-position":"top"},{default:d(()=>{var me;return[p(Me,{modelValue:m.value.channelId,"onUpdate:modelValue":w[42]||(w[42]=ut=>m.value.channelId=ut),data:D.value,"node-key":"id",props:{label:"name"},"render-after-expand":!1,"default-expanded-keys":(me=ue.channel)==null?void 0:me.paths.map(ut=>ut.id),class:"w-full",onChange:w[43]||(w[43]=ut=>{var tn;k.value=(tn=X.value.find(nn=>nn.id===ut))==null?void 0:tn.articleModelId})},null,8,["modelValue","data","default-expanded-keys"])]}),_:2},1032,["label","rules"]),C.value.org.show?(A(),$(fe,{key:0,label:(Y=C.value.org.name)!=null?Y:g.$t("article.org"),required:Pe,"label-position":"top"},{default:d(()=>{var me,ut,tn;return[p(Me,{modelValue:m.value.orgId,"onUpdate:modelValue":w[44]||(w[44]=nn=>m.value.orgId=nn),data:((me=ue.org)==null?void 0:me.id)!=null&&ne.value.indexOf(ue.org.id)===-1?[ue.org,...j.value]:j.value,"node-key":"id",props:{label:"name"},"render-after-expand":!1,"default-expanded-keys":((tn=(ut=ue.org)==null?void 0:ut.paths)!=null?tn:j.value).map(nn=>nn.id),class:"w-full"},null,8,["modelValue","data","default-expanded-keys"])]}),_:2},1032,["label","required"])):te("",!0),C.value.publishDate.show?(A(),$(fe,{key:1,prop:"publishDate",rules:Pe?{required:!0,message:()=>g.$t("v.required")}:void 0,"label-position":"top"},{label:d(()=>{var me;return[p(tt,{label:(me=C.value.publishDate.name)!=null?me:g.$t("article.publishDate"),message:"article.publishDate",help:""},null,8,["label"])]}),default:d(()=>[p(jt,{modelValue:m.value.publishDate,"onUpdate:modelValue":w[45]||(w[45]=me=>m.value.publishDate=me),type:"datetime",class:"w-full",onChange:w[46]||(w[46]=me=>{me===null&&(m.value.publishDate=void 0)})},null,8,["modelValue"])]),_:2},1032,["rules"])):te("",!0),C.value.onlineDate.show?(A(),$(fe,{key:2,prop:"onlineDate",rules:C.value.onlineDate.required?{required:!0,message:()=>g.$t("v.required")}:void 0,"label-position":"top"},{label:d(()=>{var me;return[p(tt,{label:(me=C.value.onlineDate.name)!=null?me:g.$t("article.onlineDate"),message:"article.onlineDate",help:""},null,8,["label"])]}),default:d(()=>[p(jt,{modelValue:m.value.onlineDate,"onUpdate:modelValue":w[47]||(w[47]=me=>m.value.onlineDate=me),type:"datetime",class:"w-full"},null,8,["modelValue"])]),_:1},8,["rules"])):te("",!0),C.value.offlineDate.show?(A(),$(fe,{key:3,prop:"offlineDate",rules:C.value.offlineDate.required?{required:!0,message:()=>g.$t("v.required")}:void 0,"label-position":"top"},{label:d(()=>{var me;return[p(tt,{label:(me=C.value.offlineDate.name)!=null?me:g.$t("article.offlineDate"),message:"article.offlineDate",help:""},null,8,["label"])]}),default:d(()=>[p(jt,{modelValue:m.value.offlineDate,"onUpdate:modelValue":w[48]||(w[48]=me=>m.value.offlineDate=me),type:"datetime",class:"w-full"},null,8,["modelValue"])]),_:1},8,["rules"])):te("",!0),C.value.source.show?(A(),$(fe,{key:4,prop:"source",label:(et=C.value.source.name)!=null?et:g.$t("article.source"),rules:C.value.source.required?{required:!0,message:()=>g.$t("v.required")}:void 0,"label-position":"top"},{default:d(()=>[p(ar,{modelValue:m.value.source,"onUpdate:modelValue":w[49]||(w[49]=me=>m.value.source=me),"value-key":"name","fetch-suggestions":async(me,ut)=>ut(await pe(me)),class:"w-full","highlight-first-item":"","hide-loading":"",clearable:"",onKeydown:w[50]||(w[50]=Fn(sn(()=>{},["prevent"]),["enter"]))},null,8,["modelValue","fetch-suggestions"])]),_:1},8,["label","rules"])):te("",!0),C.value.articleTemplate.show?(A(),$(fe,{key:5,prop:"articleTemplate",label:(Vn=C.value.articleTemplate.name)!=null?Vn:g.$t("article.articleTemplate"),rules:C.value.articleTemplate.required?{required:!0,message:()=>g.$t("v.required")}:void 0,"label-position":"top"},{label:d(()=>{var me;return[p(tt,{label:(me=C.value.articleTemplate.name)!=null?me:g.$t("article.articleTemplate"),message:"article.articleTemplate",help:""},null,8,["label"])]}),default:d(()=>[p(_n,{modelValue:m.value.articleTemplate,"onUpdate:modelValue":w[51]||(w[51]=me=>m.value.articleTemplate=me),clearable:"",class:"w-full"},{default:d(()=>[(A(!0),we(Be,null,Xe(b.value,me=>(A(),$(bn,{key:me,label:me+".html",value:me},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])):te("",!0),C.value.articleStaticPath.show?(A(),$(fe,{key:6,prop:"articleStaticPath",label:(yi=C.value.articleStaticPath.name)!=null?yi:g.$t("article.articleStaticPath"),rules:C.value.articleStaticPath.required?{required:!0,message:()=>g.$t("v.required")}:void 0,"label-position":"top"},{label:d(()=>{var me;return[p(tt,{label:(me=C.value.articleStaticPath.name)!=null?me:g.$t("article.articleStaticPath"),message:"article.articleStaticPath",help:""},null,8,["label"])]}),default:d(()=>[p(z,{modelValue:m.value.articleStaticPath,"onUpdate:modelValue":w[52]||(w[52]=me=>m.value.articleStaticPath=me),maxlength:"100"},{append:d(()=>w[72]||(w[72]=[U(".html")])),_:1},8,["modelValue"])]),_:1},8,["label","rules"])):te("",!0),C.value.user.show?(A(),$(fe,{key:7,label:(Jn=C.value.user.name)!=null?Jn:g.$t("article.user"),"label-position":"top"},{default:d(()=>{var me;return[p(z,{"model-value":(me=m.value.user)==null?void 0:me.username,disabled:""},null,8,["model-value"])]}),_:1},8,["label"])):te("",!0),C.value.created.show?(A(),$(fe,{key:8,label:(T=C.value.created.name)!=null?T:g.$t("article.created"),"label-position":"top"},{default:d(()=>[p(jt,{"model-value":m.value.created,type:"datetime",class:"w-full",disabled:""},null,8,["model-value"])]),_:1},8,["label"])):te("",!0),C.value.modifiedUser.show?(A(),$(fe,{key:9,label:(Le=C.value.modifiedUser.name)!=null?Le:g.$t("article.modifiedUser"),"label-position":"top"},{default:d(()=>{var me;return[p(z,{"model-value":(me=m.value.modifiedUser)==null?void 0:me.username,disabled:""},null,8,["model-value"])]}),_:1},8,["label"])):te("",!0),C.value.modified.show?(A(),$(fe,{key:10,label:(wn=C.value.modified.name)!=null?wn:g.$t("article.modified"),"label-position":"top"},{default:d(()=>[p(jt,{"model-value":m.value.modified,type:"datetime",class:"w-full",disabled:""},null,8,["model-value"])]),_:1},8,["label"])):te("",!0),((vi=m.value.destList)==null?void 0:vi.length)>0?(A(),$(fe,{key:11,label:g.$t("article.destList"),"label-position":"top"},{default:d(()=>[(A(!0),we(Be,null,Xe(m.value.destList,me=>(A(),$($t,{key:me.id,content:(me.siteId!=m.value.siteId?"[".concat(me.site.name,"] "):"")+me.channel.paths.map(ut=>ut.name).join("/"),placement:"top-start"},{default:d(()=>[p(z,{"model-value":(me.siteId!=m.value.siteId?"[".concat(me.site.name,"] "):"")+me.channel.paths.map(ut=>ut.name).join("/"),disabled:""},{append:d(()=>[U(P(E(r)("article.type.".concat(me.type))),1)]),_:2},1032,["model-value"])]),_:2},1032,["content"]))),128))]),_:1},8,["label"])):te("",!0)]}),_:2},1032,["label"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),"footer-action":d(({isEdit:ue,handleSubmit:Pe})=>[p($e,{disabled:E(Re)(ue?"article:update":"article:create"),type:"primary","native-type":"submit",onClick:sn(()=>Pe(),["prevent"])},{default:d(()=>[U(P(g.$t(ue?"save":"submit")),1)]),_:2},1032,["disabled","onClick"]),ue?te("",!0):(A(),$($e,{key:0,onClick:w[53]||(w[53]=()=>F())},{default:d(()=>[U(P(g.$t("article.op.saveAsDraft")),1)]),_:1}))]),_:1},8,["values","name","query-bean","create-bean","update-bean","delete-bean","bean-id","bean-ids","action","focus","init-values","to-values","model-value","addable","disable-edit"]),p(Hu,{modelValue:xe.value,"onUpdate:modelValue":w[58]||(w[58]=ue=>xe.value=ue),urls:_t.value,"append-to-body":!0,onFinished:w[59]||(w[59]=ue=>m.value.image=ue[0])},null,8,["modelValue","urls"]),p(or,{modelValue:Je.value,"onUpdate:modelValue":w[60]||(w[60]=ue=>Je.value=ue),title:g.$t("article.op.titleSimilarity"),width:"820px"},{default:d(()=>[p(sr,{data:ae.value},{default:d(()=>[p(Mn,{property:"id",label:"ID",width:"170px"}),p(Mn,{property:"title",label:g.$t("article.similarity.title"),"show-overflow-tooltip":""},null,8,["label"]),p(Mn,{property:"channel.name",label:g.$t("article.channel"),formatter:ue=>ue.channel.paths.map(Pe=>Pe.name).join(" / "),width:"180px","show-overflow-tooltip":""},null,8,["label","formatter"]),p(Mn,{property:"score",label:g.$t("article.similarity.score"),formatter:ue=>g.$n(ue.score,"percent",{minimumFractionDigits:0}),width:"100px"},null,8,["label","formatter"])]),_:1},8,["data"])]),_:1},8,["modelValue","title"]),p(Xh,{modelValue:Te.value,"onUpdate:modelValue":w[61]||(w[61]=ue=>Te.value=ue),"form-properties":J.value,"onUpdate:formProperties":w[62]||(w[62]=ue=>J.value=ue),onFinished:L},null,8,["modelValue","form-properties"]),p(Jh,{modelValue:s.value,"onUpdate:modelValue":w[63]||(w[63]=ue=>s.value=ue),onFinished:ie},null,8,["modelValue"]),p(ty,{modelValue:l.value,"onUpdate:modelValue":w[64]||(w[64]=ue=>l.value=ue),onFinished:Ue},null,8,["modelValue"]),p(iy,{modelValue:f.value,"onUpdate:modelValue":w[65]||(w[65]=ue=>f.value=ue),"task-id":O.value,onFinished:rt},null,8,["modelValue","task-id"])])}}}),cy={class:"flex items-center justify-between"},dy=wt({name:"ArticleInternalPushForm",__name:"ArticlePushForm",props:{modelValue:{type:Boolean,required:!0},beanId:{type:String,default:null},type:{type:String,default:"external"}},emits:{"update:modelValue":null,finished:null},setup(e,{emit:t}){const n=e,i=t,{beanId:r,type:a,modelValue:o}=oi(n),{t:u}=li(),c=q(),y=q({}),v=q({}),x=q(!1),m=q([]),V=q([]),K=q(),j=async()=>{(r==null?void 0:r.value)!=null&&(y.value=await vs(r.value))},ne=async b=>{const k=a.value==="internal"?{isArticlePermission:!0}:{siteId:b};V.value=nu(ai(await Lr(k))),V.value=ua(V.value,[...y.value.destList.map(I=>I.channel.id),y.value.channel.id])},D=async()=>{m.value=await Vu(),m.value=ai(m.value),m.value=ua(m.value,[y.value.siteId])};It(o,async()=>{o.value&&(await j(),a.value==="external"?D():ne(),v.value={ids:[y.value.id],type:3})});const X=()=>{K.value!=null&&(v.value.channelIds=[...K.value.getCheckedNodes(),...K.value.getHalfCheckedNodes()].map(b=>b.id),c.value.validate())},B=()=>{c.value.validate(async b=>{if(b){x.value=!0;try{a.value==="internal"?await _u(v.value):await wu(v.value),i("finished"),i("update:modelValue",!1),Bt.success(u("success"))}finally{x.value=!1}}})};return(b,k)=>{const I=Kt,S=fn,C=ds,M=Yi,N=ws,H=fs,G=Cn,Z=mn,ye=Au;return A(),$(ye,{title:b.$t("article.op.".concat(E(a),"Push")),"model-value":e.modelValue,size:414,"onUpdate:modelValue":k[6]||(k[6]=pe=>b.$emit("update:modelValue",pe))},{default:d(()=>[p(G,{ref_key:"form",ref:c,model:v.value,"label-position":"top"},{default:d(()=>[p(S,null,{default:d(()=>[p(I,{"model-value":y.value.title,disabled:""},null,8,["model-value"])]),_:1}),p(S,{prop:"type"},{default:d(()=>[p(M,{modelValue:v.value.type,"onUpdate:modelValue":k[0]||(k[0]=pe=>v.value.type=pe)},{default:d(()=>[(A(),we(Be,null,Xe([1,3],pe=>p(C,{key:pe,value:pe},{default:d(()=>[U(P(E(u)("article.type.".concat(pe))),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),E(a)==="external"?(A(),$(S,{key:0,prop:"siteId",rules:[{required:!0,message:()=>b.$t("v.required")}]},{default:d(()=>[p(N,{modelValue:v.value.siteId,"onUpdate:modelValue":k[1]||(k[1]=pe=>v.value.siteId=pe),data:m.value,"node-key":"id",props:{label:"name",disabled:"disabled"},"render-after-expand":!1,"check-strictly":"",class:"w-full",onChange:k[2]||(k[2]=pe=>ne(pe))},null,8,["modelValue","data"])]),_:1},8,["rules"])):te("",!0),p(S,{prop:"channelIds",rules:[{required:!0,message:()=>b.$t("v.required")}]},{default:d(()=>[p(H,{ref_key:"channelTree",ref:K,data:V.value,"node-key":"id",props:{label:"name"},class:"w-full border rounded","check-strictly":"","default-expand-all":"","show-checkbox":"","check-on-click-node":"",onCheck:k[3]||(k[3]=()=>X())},null,8,["data"])]),_:1},8,["rules"])]),_:1},8,["model"])]),footer:d(()=>[ce("div",cy,[k[7]||(k[7]=ce("div",null,null,-1)),ce("div",null,[p(Z,{onClick:k[4]||(k[4]=()=>b.$emit("update:modelValue",!1))},{default:d(()=>[U(P(b.$t("cancel")),1)]),_:1}),p(Z,{type:"primary",loading:x.value,onClick:k[5]||(k[5]=()=>B())},{default:d(()=>[U(P(b.$t("save")),1)]),_:1},8,["loading"])])])]),_:1},8,["title","model-value"])}}}),py={class:"mb-1 ml-2"},fy={class:"mb-3"},my={class:"app-block"},hy={key:0},yy={key:0},vy=["title"],gy={class:"text-xs"},by={class:"text-xs"},_y={class:"text-xs"},wy={class:"text-xs"},Ey={class:"text-xs"},xy={class:"text-xs"},Sy={class:"text-xs"},ky={class:"text-xs"},sv=wt({name:"ArticleList",__name:"ArticleList",setup(e){var pt;const{t}=li(),n=q({}),i=q(),r=q(1),a=q(10),o=q(0),u=q(),c=q([]),y=q([]),v=q(!1),x=q(!1),m=q(),V=nt(()=>c.value.map(R=>R.id)),K=q(!1),j=q("edit"),ne=q([]),D=q(!1),X=q(),B=q(),b=q(),k=q(),I=q(),S=q(),C=q(),M=q([]),N=q(!1),H=q(),G=q(),Z=q(!1),ye=["completelyDelete","delete","submit","archive","offline"],pe=q(ye[0]),oe=q(!1),he=q("internal"),at=Pl(),Ke=q(Number((pt=at.query.status)!=null?pt:"-1")),Ie=q([]),We=nt(()=>Ie.value.find(R=>{var z;return R.id===((z=H.value)==null?void 0:z.articleModelId)})),F=nt(()=>{var R;return JSON.parse(((R=We.value)==null?void 0:R.customs)||"[]")}),O=q({});It(F,async()=>{O.value={},F.value.filter(R=>["radio","select","checkbox","multipleSelect"].indexOf(R.type)>=0).map(R=>R.dictTypeId).forEach(async R=>{O.value[R]=(await Eu({typeId:R})).map(z=>({label:z.name,value:z.value}))})});const J=R=>pe.value==="delete"?![20].includes(R.status):pe.value==="submit"?![0,12].includes(R.status):pe.value==="archive"?[0].includes(R.status):pe.value==="offline"?[0,1,5,11,12].includes(R.status):(pe.value==="completelyDelete",!0),Te=nt(()=>y.value.filter(R=>J(R)).map(R=>R.id)),f=async(R,z)=>{if(R==="delete")await gs(z);else if(R==="submit")await hs(z);else if(R==="archive")await bs(z);else if(R==="offline")await _s(z);else if(R==="completelyDelete")await ys(z);else throw new Error("not support action: ".concat(R));s(),Bt.success(t("success"))},s=async()=>{var R;v.value=!0;try{const{content:z,totalElements:fe}=await xu({...Nl(n.value),Q_EQ_status_Short:Ke.value!==-1?Ke.value:void 0,subChannelId:(R=H.value)==null?void 0:R.id,Q_OrderBy:i.value,page:r.value,pageSize:a.value});K.value=i.value!==void 0,c.value=z,o.value=Number(fe)}finally{v.value=!1}},l=async()=>{N.value=!0;try{M.value=ai(await Lr({isArticlePermission:!0,isReal:!0}))}finally{N.value=!1}},h=async()=>{ne.value=await au()},_=async()=>{Ie.value=await ms({type:"article"})};let L;const re=()=>{const R=document.querySelector("#dataTable .el-table__body-wrapper tbody");L=Ql.create(R,{handle:".drag-handle",animation:200,chosenClass:"sortable-chosen",onEnd:async function(z){const{oldIndex:fe,newIndex:Ee}=z;fe!==Ee&&(await Su(c.value[fe].id,c.value[Ee].id),c.value.splice(Ee,0,c.value.splice(fe,1)[0]),Bt.success(t("success")))}})};qi(()=>{s(),l(),h(),_(),re()}),Ga(()=>{L!==void 0&&L.destroy()});const ie=({column:R,prop:z,order:fe})=>{var Ee;z&&fe?i.value=((Ee=R.sortBy)!=null?Ee:z)+(fe==="descending"?"_desc":""):i.value=void 0,s()},ve=()=>{r.value=1,s()},Ue=()=>{u.value.clearSort(),Wl(n.value),i.value=void 0,r.value=1,s()},lt=()=>{j.value="add",m.value=void 0,x.value=!0},rt=R=>{j.value="copy",m.value=R,x.value=!0},Ne=R=>{Re("article:update")||(j.value="edit",m.value=R,x.value=!0)},Ze=R=>{m.value=R,he.value="internal",oe.value=!0},xe=R=>{m.value=R,he.value="external",oe.value=!0},_t=(R,z)=>{var bn,_n;D.value=!0,X.value=R,B.value=z.id,b.value=z.title,k.value=z.description,I.value=z.video;const fe=Ps(z.text),en=Is("img",fe).map(ht=>Ds(ht,"src")).filter(ht=>ht!=null);S.value=[...(_n=(bn=z.imageList)==null?void 0:bn.map(ht=>ht.url))!=null?_n:[],...en],z.image&&S.value.push(z.image)},Jt=async R=>{await ku([R]),s(),Bt.success(t("success"))},Je=R=>{G.value=R,Z.value=!0},ae=q(!1),ke=q(),g=q({id:0,sticky:0,stickyDate:null}),w=(R,z,fe)=>{ae.value=!0,g.value={id:R,sticky:z<1?1:z,stickyDate:fe}},$e=async()=>{ke.value.validate(async R=>{R&&(await da([g.value.id],g.value.sticky,g.value.stickyDate),s(),ae.value=!1,Bt.success(t("success")))})},Ge=async R=>{await da([R],0,void 0),s(),Bt.success(t("success"))};return(R,z)=>{const fe=mn,Ee=fs,en=Qa,bn=Hl,_n=Hi,ht=Wi,Xn=ps,kt=ds,rr=Yi,Me=$r,jt=ji,ar=Vl,$t=zi,Zn=Pr,Mt=ql,Mn=Fl,sr=Ol,or=Nr,ue=us,Pe=Gl,Fe=fn,Q=ls,Y=Cn,et=Gt,Vn=Yl,yi=Kl,Jn=Za;return A(),$(yi,null,{default:d(()=>[p(bn,{width:"220px",class:"pr-3"},{default:d(()=>[p(en,{class:"p-2 bg-white rounded-sm"},{default:d(()=>[ce("div",py,[p(fe,{type:H.value==null?"primary":void 0,link:"",onClick:z[0]||(z[0]=()=>{C.value.setCurrentKey(null),H.value=void 0,ve()})},{default:d(()=>[U(P(R.$t("article.allChannel")),1)]),_:1},8,["type"])]),$i(p(Ee,{ref_key:"channelTree",ref:C,data:M.value,props:{label:"name"},"expand-on-click-node":!1,"node-key":"id","highlight-current":"",onNodeClick:z[1]||(z[1]=T=>{H.value=T,ve()})},null,8,["data"]),[[Jn,N.value]])]),_:1})]),_:1}),p(Vn,{class:"p-0"},{default:d(()=>[ce("div",fy,[p(E(Tu),{params:n.value,onSearch:ve,onReset:Ue},{default:d(()=>[p(E(qe),{label:R.$t("article.title"),name:"Q_Contains_@articleExt-title"},null,8,["label"]),p(E(qe),{label:R.$t("article.text"),name:"Q_Contains_@articleExt-text"},null,8,["label"]),(A(!0),we(Be,null,Xe(F.value.filter(T=>["imageUpload","videoUpload","audioUpload","fileUpload"].indexOf(T.type)===-1),T=>(A(),we(Be,{key:T.code},[["number","slider"].indexOf(T.type)>=0?(A(),$(E(qe),{key:0,label:T.name,name:"Q_GE_@articleExt-mainsJson$".concat(T.code,"_Int,Q_LE_@articleExt-mainsJson$").concat(T.code,"_Int"),type:"number"},null,8,["label","name"])):T.type==="date"&&T.dateType==="datetime"?(A(),$(E(qe),{key:1,label:T.name,name:"Q_GE_@articleExt-mainsJson$".concat(T.code,"_DateTime,Q_LE_@articleExt-mainsJson$").concat(T.code,"_DateTime"),type:"datetime"},null,8,["label","name"])):T.type==="date"?(A(),$(E(qe),{key:2,label:T.name,name:"Q_GE_@articleExt-mainsJson$".concat(T.code,"_Date,Q_LE_@articleExt-mainsJson$").concat(T.code,"_Date"),type:"date"},null,8,["label","name"])):T.type==="switch"?(A(),$(E(qe),{key:3,label:T.name,name:"Q_EQ_@articleExt-mainsJson$".concat(T.code,"_Boolean"),options:[{label:R.$t("yes"),value:"true"},{label:R.$t("no"),value:"false"}],multiple:!1},null,8,["label","name","options"])):["radio","select"].indexOf(T.type)>=0?(A(),$(E(qe),{key:4,label:T.name,name:"Q_In_@articleExt-mainsJson$".concat(T.code,"Key").concat(T.dataType==="number"?"_Int":""),options:O.value[T.dictTypeId]},null,8,["label","name","options"])):["checkbox","multipleSelect"].indexOf(T.type)>=0?(A(),$(E(qe),{key:5,label:T.name,name:"Q_ArrayIn_@articleExt-mainsJson$".concat(T.code,"Key").concat(T.dataType==="number"?"_Int":""),options:O.value[T.dictTypeId]},null,8,["label","name","options"])):T.clob?(A(),$(E(qe),{key:6,label:T.name,name:"Q_Contains_@articleExt-clobsJson$".concat(T.code)},null,8,["label","name"])):(A(),$(E(qe),{key:7,label:T.name,name:"Q_Contains_@articleExt-mainsJson$".concat(T.code)},null,8,["label","name"]))],64))),128)),p(E(qe),{label:R.$t("article.publishDate"),name:"Q_GE_publishDate_DateTime,Q_LE_publishDate_DateTime",type:"datetime"},null,8,["label"]),p(E(qe),{label:R.$t("article.block"),name:"Q_In_@BlockItem-blockId_Long",options:ne.value.filter(T=>T.recommendable).map(T=>({label:T.name,value:T.id}))},null,8,["label","options"]),p(E(qe),{label:R.$t("article.org"),name:"Q_Like_org-name"},null,8,["label"]),p(E(qe),{label:R.$t("article.user"),name:"Q_Like_user-username"},null,8,["label"]),p(E(qe),{label:R.$t("article.created"),name:"Q_GE_created_DateTime,Q_LE_created_DateTime",type:"datetime"},null,8,["label"]),p(E(qe),{label:R.$t("article.modifiedUser"),name:"Q_Like_modifiedUser@user-username"},null,8,["label"]),p(E(qe),{label:R.$t("article.modified"),name:"Q_GE_modified_DateTime,Q_LE_modified_DateTime",type:"datetime"},null,8,["label"]),p(E(qe),{label:R.$t("article.author"),name:"Q_Contains_@articleExt-author"},null,8,["label"]),p(E(qe),{label:R.$t("article.editor"),name:"Q_Contains_@articleExt-editor"},null,8,["label"]),p(E(qe),{label:R.$t("article.source"),name:"Q_Contains_@articleExt-source"},null,8,["label"]),p(E(qe),{label:R.$t("article.subtitle"),name:"Q_Contains_@articleExt-subtitle"},null,8,["label"]),p(E(qe),{label:R.$t("article.fullTitle"),name:"Q_Contains_@articleExt-fullTitle"},null,8,["label"]),p(E(qe),{label:R.$t("article.seoKeywords"),name:"Q_Contains_@articleExt-seoKeywords"},null,8,["label"]),p(E(qe),{label:R.$t("article.seoDescription"),name:"Q_Contains_@articleExt-seoDescription"},null,8,["label"])]),_:1},8,["params"])]),ce("div",null,[p(fe,{type:"primary",disabled:E(Re)("article:create"),icon:E(is),onClick:z[2]||(z[2]=()=>lt())},{default:d(()=>[U(P(R.$t("add")),1)]),_:1},8,["disabled","icon"]),p(ht,{modelValue:pe.value,"onUpdate:modelValue":z[3]||(z[3]=T=>pe.value=T),class:"w-64 ml-2"},{prefix:d(()=>[U(P(R.$t("batchAction")+":"),1)]),default:d(()=>[(A(),we(Be,null,Xe(ye,T=>p(_n,{key:T,disabled:E(Re)("article:".concat(T)),value:T,label:R.$t("article.op.".concat(T))},null,8,["disabled","value","label"])),64))]),_:1},8,["modelValue"]),p(Xn,{title:R.$t("confirmExecute"),onConfirm:z[4]||(z[4]=()=>f(pe.value,Te.value))},{reference:d(()=>[p(fe,{disabled:Te.value.length<=0||E(Re)("article:".concat(pe.value)),icon:E($l)},{default:d(()=>[U(P(R.$t("execute")),1)]),_:1},8,["disabled","icon"])]),_:1},8,["title"]),p(E(Cu),{name:"article",class:"ml-2"})]),p(rr,{modelValue:Ke.value,"onUpdate:modelValue":z[5]||(z[5]=T=>Ke.value=T),class:"mt-3",onChange:z[6]||(z[6]=()=>s())},{default:d(()=>[p(kt,{value:-1},{default:d(()=>[U(P(R.$t("all")),1)]),_:1}),p(kt,{value:0},{default:d(()=>[U(P(R.$t("article.status.0")),1)]),_:1}),p(kt,{value:1},{default:d(()=>[U(P(R.$t("article.status.1")),1)]),_:1}),p(kt,{value:5},{default:d(()=>[U(P(R.$t("article.status.5")),1)]),_:1}),p(kt,{value:10},{default:d(()=>[U(P(R.$t("article.status.10")),1)]),_:1}),p(kt,{value:11},{default:d(()=>[U(P(R.$t("article.status.11")),1)]),_:1}),p(kt,{value:12},{default:d(()=>[U(P(R.$t("article.status.12")),1)]),_:1}),p(kt,{value:20},{default:d(()=>[U(P(R.$t("article.status.20")),1)]),_:1}),p(kt,{value:21},{default:d(()=>[U(P(R.$t("article.status.21")),1)]),_:1}),p(kt,{value:22},{default:d(()=>[U(P(R.$t("article.status.22")),1)]),_:1})]),_:1},8,["modelValue"]),ce("div",my,[$i((A(),$(or,{id:"dataTable",ref_key:"table",ref:u,"row-key":"id",data:c.value,onSelectionChange:z[7]||(z[7]=T=>y.value=T),onRowDblclick:z[8]||(z[8]=T=>Ne(T.id)),onSortChange:ie},{default:d(()=>[p(E(Ru),{name:"article"},{default:d(()=>[p(Me,{type:"selection",selectable:J,width:"38"}),p(Me,{width:"42"},{default:d(()=>[p(jt,{class:Wt(["text-lg align-middle",K.value||E(Re)("article:updateOrder")?["cursor-not-allowed","text-gray-disabled"]:["cursor-move","text-gray-secondary","drag-handle"]]),disalbed:""},{default:d(()=>[p(E(Ml))]),_:1},8,["class"])]),_:1}),p(Me,{property:"id",label:"ID",width:"170",sortable:"custom"}),p(Me,{property:"title",label:R.$t("article.title"),"min-width":"280","sort-by":"@articleExt-title",sortable:"custom"},{default:d(({row:T})=>[p(ar,{href:"javascript:",underline:!1,onClick:()=>E(jo)(T.status,T.url,T.dynamicUrl)},{default:d(()=>[U(P(T.title),1)]),_:2},1032,["onClick"]),(A(!0),we(Be,null,Xe(T.blockItemList,Le=>(A(),$($t,{key:Le.id,type:Le.enabled?void 0:"info",size:"small",class:"ml-1",closable:E(Ll)("blockItem:delete"),onClose:()=>Jt(Le.id)},{default:d(()=>[U(P(Le.block.name),1)]),_:2},1032,["type","closable","onClose"]))),128)),T.sticky>0?(A(),$(Zn,{key:0,placement:"top"},{content:d(()=>[U(P(R.$t("article.sticky"))+" ",1),T.stickyDate!=null?(A(),we("span",hy,P(E(vt)(T.stickyDate).format(" YYYY-MM-DD HH:mm:ss")),1)):te("",!0)]),default:d(()=>[p($t,{type:"danger",class:"mx-1",effect:"light",size:"small",round:"",closable:!E(Re)("article:sticky"),onClose:()=>Ge(T.id)},{default:d(()=>[U(P(T.sticky),1)]),_:2},1032,["closable","onClose"])]),_:2},1024)):te("",!0),T.srcId!=null?(A(),$(Zn,{key:1,placement:"top"},{content:d(()=>[U(P(E(t)("article.type.".concat(T.type)))+": ",1),T.siteId!==T.src.siteId?(A(),we("span",yy,"["+P(T.src.site.name)+"]",1)):te("",!0),U(" "+P(T.src.channel.paths.map(Le=>Le.name).join(" / ")),1)]),default:d(()=>[p(jt,{class:"ml-1 align-middle"},{default:d(()=>[p(E(Bl))]),_:1})]),_:2},1024)):te("",!0)]),_:1},8,["label"]),(A(!0),we(Be,null,Xe(F.value.filter(T=>["text","textarea","number","date","color","slider","switch","radio","checkbox","select","multipleSelect"].includes(T.type)),T=>(A(),$(Me,{key:T.code,property:"customs.".concat(T.code),label:T.name,"sort-by":"mainsJson$".concat(T.code).concat(T.dataType==="number"?"_Int":""),sortable:["checkbox","multipleSelect"].indexOf(T.type)===-1?"custom":void 0,display:T.showInList?void 0:"none","show-overflow-tooltip":""},{default:d(({row:Le})=>[T.type==="date"&&T.dateType==="date"?(A(),we(Be,{key:0},[U(P(E(vt)(Le.customs[T.code]).format("YYYY-MM-DD")),1)],64)):T.type==="date"&&T.dateType==="datetime"?(A(),we(Be,{key:1},[U(P(E(vt)(Le.customs[T.code]).format("YYYY-MM-DD HH:mm:ss")),1)],64)):T.type==="switch"?(A(),$($t,{key:2,type:Le.customs[T.code]?"success":"info",size:"small"},{default:d(()=>[U(P(R.$t(Le.customs[T.code]?"yes":"no")),1)]),_:2},1032,["type"])):te("",!0)]),_:2},1032,["property","label","sort-by","sortable","display"]))),128)),p(Me,{property:"channel.name",label:R.$t("article.channel"),"sort-by":"channel-name",sortable:"custom","show-overflow-tooltip":""},{default:d(({row:T})=>[ce("span",{title:T.channel.paths.map(Le=>Le.name).join(" / ")},P(T.channel.name),9,vy)]),_:1},8,["label"]),p(Me,{property:"org.name",label:R.$t("article.org"),"sort-by":"org-name",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"author",label:R.$t("article.author"),"sort-by":"@articleExt-author",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"editor",label:R.$t("article.editor"),"sort-by":"@articleExt-editor",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"source",label:R.$t("article.source"),"sort-by":"@articleExt-source",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"user.username",label:R.$t("article.user"),"sort-by":"user-username",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"created",label:R.$t("article.created"),"min-width":"120",sortable:"custom",display:"none","show-overflow-tooltip":""},{default:d(({row:T})=>[U(P(E(vt)(T.created).format("YYYY-MM-DD HH:mm")),1)]),_:1},8,["label"]),p(Me,{property:"modifiedUser.username",label:R.$t("article.modifiedUser"),"sort-by":"modifiedUser@user-username",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"modified",label:R.$t("article.modified"),"min-width":"120",sortable:"custom",display:"none","show-overflow-tooltip":""},{default:d(({row:T})=>[U(P(E(vt)(T.modified).format("YYYY-MM-DD HH:mm")),1)]),_:1},8,["label"]),p(Me,{property:"publishDate",label:R.$t("article.publishDate"),"min-width":"120",sortable:"custom","show-overflow-tooltip":""},{default:d(({row:T})=>[U(P(E(vt)(T.publishDate).format("YYYY-MM-DD HH:mm")),1)]),_:1},8,["label"]),p(Me,{property:"views",label:R.$t("article.views"),"sort-by":"@articleExt-views",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"dayViews",label:R.$t("article.dayViews"),"sort-by":"@articleExt-dayViews",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"weekViews",label:R.$t("article.weekViews"),"sort-by":"@articleExt-weekViews",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"monthViews",label:R.$t("article.monthViews"),"sort-by":"@articleExt-monthViews",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"quarterViews",label:R.$t("article.quarterViews"),"sort-by":"@articleExt-quarterViews",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"yearViews",label:R.$t("article.yearViews"),"sort-by":"@articleExt-yearViews",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"ups",label:R.$t("article.ups"),"sort-by":"@articleExt-ups",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"downs",label:R.$t("article.downs"),"sort-by":"@articleExt-downs",sortable:"custom",display:"none","show-overflow-tooltip":""},null,8,["label"]),p(Me,{property:"status",label:R.$t("article.status"),sortable:"custom","show-overflow-tooltip":""},{default:d(({row:T})=>[T.status===0?(A(),$($t,{key:0,type:"success",size:"small"},{default:d(()=>[U(P(R.$t("article.status.".concat(T.status))),1)]),_:2},1024)):T.status===1?(A(),$($t,{key:1,size:"small"},{default:d(()=>[U(P(R.$t("article.status.".concat(T.status))),1)]),_:2},1024)):T.status===20||T.status===21?(A(),$($t,{key:2,type:"warning",size:"small"},{default:d(()=>[U(P(R.$t("article.status.".concat(T.status))),1)]),_:2},1024)):T.status===22?(A(),$(Zn,{key:3,content:T.rejectReason,placement:"top"},{default:d(()=>[p($t,{type:"danger",size:"small"},{default:d(()=>[U(P(R.$t("article.status.".concat(T.status))),1)]),_:2},1024)]),_:2},1032,["content"])):(A(),$($t,{key:4,type:"info",size:"small"},{default:d(()=>[U(P(R.$t("article.status.".concat(T.status))),1)]),_:2},1024))]),_:1},8,["label"]),p(Me,{label:R.$t("table.action"),width:"260"},{default:d(({row:T})=>[p(fe,{type:"primary",disabled:E(Re)("article:update"),size:"small",link:"",onClick:()=>Ne(T.id)},{default:d(()=>[U(P(R.$t("edit")),1)]),_:2},1032,["disabled","onClick"]),E(je).epRank>0||E(je).epDisplay?(A(),$(fe,{key:0,type:"primary",disabled:!T.processInstanceId||E(Re)("processInstance:task")||E(je).epRank<1,size:"small",link:"",onClick:()=>Je(T.processInstanceId)},{default:d(()=>[U(P(R.$t("processInstance.op.task")),1)]),_:2},1032,["disabled","onClick"])):te("",!0),p(Xn,{title:R.$t("confirmDelete"),onConfirm:()=>f("delete",[T.id])},{reference:d(()=>[p(fe,{type:"primary",disabled:E(Re)("article:delete")||[20].includes(T.status),size:"small",link:""},{default:d(()=>[U(P(R.$t("delete")),1)]),_:2},1032,["disabled"])]),_:2},1032,["title","onConfirm"]),p(Xn,{title:R.$t("confirmCompletelyDelete"),onConfirm:()=>f("completelyDelete",[T.id])},{reference:d(()=>[p(fe,{type:"primary",disabled:E(Re)("article:completelyDelete"),size:"small",link:""},{default:d(()=>[U(P(R.$t("completelyDelete")),1)]),_:1},8,["disabled"])]),_:2},1032,["title","onConfirm"]),p(sr,{class:"ml-2 align-middle"},{dropdown:d(()=>[ce("div",null,[p(Mn,null,{default:d(()=>[p(Mt,{disabled:E(Re)("article:submit")||[0,12].includes(T.status),onClick:()=>f("submit",[T.id])},{default:d(()=>[ce("span",gy,P(R.$t("article.op.submit")),1)]),_:2},1032,["disabled","onClick"]),p(Mt,{disabled:E(Re)("article:archive")||![0].includes(T.status),onClick:()=>f("archive",[T.id])},{default:d(()=>[ce("span",by,P(R.$t("article.op.archive")),1)]),_:2},1032,["disabled","onClick"]),p(Mt,{disabled:E(Re)("article:offline")||![0,1,5,11,12].includes(T.status),onClick:()=>f("offline",[T.id])},{default:d(()=>[ce("span",_y,P(R.$t("article.op.offline")),1)]),_:2},1032,["disabled","onClick"]),p(Mt,{disabled:E(Re)("article:create"),divided:"",onClick:()=>rt(T.id)},{default:d(()=>[ce("span",wy,P(R.$t("copy")),1)]),_:2},1032,["disabled","onClick"]),E(je).epRank>=2||E(je).epDisplay?(A(),$(Mt,{key:0,disabled:E(Re)("article:internalPush")||T.status!==0||T.srcId!=null||E(je).epRank<2,title:E(je).epRank<2?R.$t("error.enterprise.short"):void 0,onClick:()=>Ze(T.id)},{default:d(()=>[ce("span",Ey,P(R.$t("article.op.internalPush")),1)]),_:2},1032,["disabled","title","onClick"])):te("",!0),E(je).epRank>=3||E(je).epDisplay?(A(),$(Mt,{key:1,disabled:E(Re)("article:externalPush")||T.status!==0||T.srcId!=null||E(je).epRank<3,title:E(je).epRank<3?R.$t("error.enterprise.short"):void 0,onClick:()=>xe(T.id)},{default:d(()=>[ce("span",xy,P(R.$t("article.op.externalPush")),1)]),_:2},1032,["disabled","title","onClick"])):te("",!0),p(Mt,{disabled:E(Re)("article:sticky"),divided:"",onClick:()=>w(T.id,T.sticky,T.stickyDate)},{default:d(()=>[ce("span",Sy,P(R.$t("article.op.sticky")),1)]),_:2},1032,["disabled","onClick"]),(A(!0),we(Be,null,Xe(ne.value.filter(Le=>Le.enabled&&Le.recommendable),(Le,wn)=>(A(),$(Mt,{key:Le.id,disabled:E(Re)("blockItem:create")||T.blocks.findIndex(vi=>vi.id===Le.id)>=0,divided:wn===0,onClick:()=>_t(Le.id,T)},{default:d(()=>[ce("span",ky,P("".concat(R.$t("article.op.recommendTo"),": ").concat(Le.name)),1)]),_:2},1032,["disabled","divided","onClick"]))),128))]),_:2},1024)])]),default:d(()=>[p(fe,{type:"primary",size:"small",link:""},{default:d(()=>[p(jt,{class:"text-primary"},{default:d(()=>[p(E(Ul))]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["label"])]),_:1})]),_:1},8,["data"])),[[Jn,v.value]]),p(ue,{"current-page":r.value,"onUpdate:currentPage":z[9]||(z[9]=T=>r.value=T),"page-size":a.value,"onUpdate:pageSize":z[10]||(z[10]=T=>a.value=T),total:o.value,"page-sizes":E(zl),layout:E(jl),size:"small",background:"",class:"justify-end px-3 py-2",onSizeChange:z[11]||(z[11]=()=>s()),onCurrentChange:z[12]||(z[12]=()=>s())},null,8,["current-page","page-size","total","page-sizes","layout"])]),p(uy,{modelValue:x.value,"onUpdate:modelValue":z[13]||(z[13]=T=>x.value=T),action:j.value,"bean-id":m.value,"bean-ids":V.value,channel:H.value,onFinished:s},null,8,["modelValue","action","bean-id","bean-ids","channel"]),p(dy,{modelValue:oe.value,"onUpdate:modelValue":z[14]||(z[14]=T=>oe.value=T),"bean-id":m.value,type:he.value,onFinished:s},null,8,["modelValue","bean-id","type"]),p(Yu,{modelValue:D.value,"onUpdate:modelValue":z[15]||(z[15]=T=>D.value=T),"bean-id":void 0,"bean-ids":[],"block-id":X.value,"article-id":B.value,title:b.value,description:k.value,video:I.value,images:S.value,onFinished:s},null,8,["modelValue","block-id","article-id","title","description","video","images"]),p(Lh,{modelValue:Z.value,"onUpdate:modelValue":z[16]||(z[16]=T=>Z.value=T),"instance-id":G.value},null,8,["modelValue","instance-id"]),p(et,{modelValue:ae.value,"onUpdate:modelValue":z[20]||(z[20]=T=>ae.value=T),title:R.$t("article.sticky"),width:768},{default:d(()=>[p(Y,{ref_key:"stickyForm",ref:ke,model:g.value,"label-width":"150px"},{default:d(()=>[p(Fe,{prop:"sticky"},{label:d(()=>[p(tt,{message:"article.sticky",help:""})]),default:d(()=>[p(Pe,{modelValue:g.value.sticky,"onUpdate:modelValue":z[17]||(z[17]=T=>g.value.sticky=T),min:0,max:999},null,8,["modelValue"])]),_:1}),p(Fe,{prop:"stickyDate",rules:{validator:(T,Le,wn)=>{if(Le!=null&&Date.now()>new Date(Le).getTime()){wn(R.$t("article.error.stickyDate.beforeCurrent"));return}wn()}}},{label:d(()=>[p(tt,{message:"article.stickyDate",help:""})]),default:d(()=>[p(Q,{modelValue:g.value.stickyDate,"onUpdate:modelValue":z[18]||(z[18]=T=>g.value.stickyDate=T),type:"datetime"},null,8,["modelValue"])]),_:1},8,["rules"]),p(fe,{type:"primary",onClick:z[19]||(z[19]=()=>$e())},{default:d(()=>[U(P(R.$t("submit")),1)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])]),_:1})]),_:1})}}});export{sv as default};
