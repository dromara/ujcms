System.register(["./index-legacy-DywSgIaj.js","./stat-legacy-DZcOoiqc.js"],(function(t,a){"use strict";var e,r,n,s,l,i,u,d,o,y,c,m,f,v,p,b,g,h;return{setters:[t=>{e=t.d,r=t.u,n=t.r,s=t.T,l=t.o,i=t.S,u=t.W,d=t.b,o=t.e,y=t.K,c=t.k,m=t.i,f=t.w,v=t.a7,p=t.a8,b=t.n,g=t.t},t=>{h=t.q}],execute:function(){const a={class:"p-3 mt-3 app-block"};t("default",e({__name:"VisitTrend",setup(t){const{t:e}=r(),w=n("last30day"),O=t=>{switch(t){case"now":return i().subtract(2,"hour").format();case"today":return i().startOf("day").format();case"yesterday":return i().startOf("day").subtract(1,"day").format();case"last7day":return i().startOf("day").subtract(6,"day").format();case"last30day":return i().startOf("day").subtract(29,"day").format();case"lastYear":return i().startOf("day").subtract(1,"year").format();default:return}},x=t=>"now"===t?i().format():"yesterday"===t?i().endOf("day").subtract(1,"day").format():i().endOf("day").format(),k=s(),C=async t=>{const a=await h({begin:O(t),end:x(t)}),r={tooltip:{trigger:"axis"},legend:{data:[e("visit.pv"),e("visit.uv"),e("visit.ip")]},grid:{left:16,right:24,top:40,bottom:8,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:a.map((t=>t.dateString))},yAxis:{type:"value",minInterval:1},series:[{name:e("visit.pv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.pvCount)))},{name:e("visit.uv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.uvCount)))},{name:e("visit.ip"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.ipCount)))}]},n=k.value;if(null==n)return;let s=u.getInstanceByDom(n);null==s&&(s=u.init(n)),s.setOption(r),window.addEventListener("resize",(function(){s&&s.resize()}))};return l((async()=>{C(w.value)})),(t,e)=>{const r=d("el-radio-button"),n=d("el-radio-group");return o(),y("div",null,[c("div",a,[c("div",null,[m(n,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=t=>w.value=t),onChange:e[1]||(e[1]=t=>C(t))},{default:f((()=>[(o(),y(v,null,p(["now","today","yesterday","last7day","last30day","lastYear","all"],(a=>m(r,{key:a,value:a},{default:f((()=>[b(g(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),c("div",{ref_key:"trendChart",ref:k,class:"h-80"},null,512)])])}}}))}}}));
