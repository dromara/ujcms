import{d as pe,r as u,b as f,e as p,f as $,w as s,i as l,j as t,V as b,ao as B,K as A,a7 as L,a8 as me,n as C,t as w,p as Ee,u as ke,aa as ge,v as He,aJ as Me,o as Ve,k as U,E as Pe,h as F,aA as ze,c as Ie,aI as Fe,ae as Be,ai as Oe,aY as Ke,aq as ue,g as je}from"./index-B6OoDg6B.js";import{r as Ge,n as $e,o as Qe,p as Je,s as he,t as Ye,v as We,w as Xe,b as Ze,x as xe,j as el,y as ll}from"./user-DGHrS2p0.js";import{a as ce,_ as al,b as sl,c as ol}from"./QueryItem.vue_vue_type_script_setup_true_lang-Tf1Ym-Zs.js";import{_ as nl}from"./ListMove.vue_vue_type_script_setup_true_lang-CJvXK2TJ.js";import{_ as tl}from"./DialogForm.vue_vue_type_script_setup_true_lang-BCAZsuC3.js";import{b as rl}from"./data-BgduHdtJ.js";import{e as il,t as ye,f as de}from"./tree-CFBn_SXc.js";import{d as ul}from"./content-2hwtLvQa.js";const dl=pe({name:"RoleForm",__name:"RoleForm",props:{modelValue:{type:Boolean,required:!0},beanId:{type:String,default:null},beanIds:{type:Array,required:!0}},emits:{"update:modelValue":null,finished:null},setup(j){const J=u(),k=u({});return(c,v)=>{const E=f("el-input"),q=f("el-form-item"),O=f("el-input-number"),z=f("el-option"),D=f("el-select"),r=f("el-radio"),G=f("el-radio-group");return p(),$(tl,{values:k.value,"onUpdate:values":v[5]||(v[5]=V=>k.value=V),name:c.$t("menu.user.role"),"query-bean":t(he),"create-bean":t(Je),"update-bean":t(Qe),"delete-bean":t($e),"bean-id":j.beanId,"bean-ids":j.beanIds,focus:J.value,"init-values":()=>({type:4,rank:t(b).rank+1,scope:0}),"to-values":V=>({...V}),"disable-delete":V=>V.id<=1,"disable-edit":V=>V.global&&!t(b).globalPermission||t(b).rank>V.rank,perms:"role","model-value":j.modelValue,"onUpdate:modelValue":v[6]||(v[6]=V=>c.$emit("update:modelValue",V)),onFinished:v[7]||(v[7]=V=>c.$emit("finished"))},{default:s(({bean:V,disabled:N})=>[l(q,{prop:"name",label:c.$t("role.name"),rules:{required:!0,message:()=>c.$t("v.required")}},{default:s(()=>[l(E,{ref_key:"focus",ref:J,modelValue:k.value.name,"onUpdate:modelValue":v[0]||(v[0]=d=>k.value.name=d),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label","rules"]),l(q,{prop:"description",label:c.$t("role.description")},{default:s(()=>[l(E,{modelValue:k.value.description,"onUpdate:modelValue":v[1]||(v[1]=d=>k.value.description=d),maxlength:"300"},null,8,["modelValue"])]),_:1},8,["label"]),l(q,{prop:"rank",rules:[{required:!0,message:()=>c.$t("v.required")}]},{label:s(()=>[l(B,{message:"role.rank",help:""})]),default:s(()=>[l(O,{modelValue:k.value.rank,"onUpdate:modelValue":v[2]||(v[2]=d=>k.value.rank=d),modelModifiers:{number:!0},min:N?0:t(b).rank,max:32767},null,8,["modelValue","min"])]),_:2},1032,["rules"]),l(q,{prop:"type",rules:[{required:!0,message:()=>c.$t("v.required")},{validator:(d,K,H)=>{if([1,2,3].includes(K)&&t(b).epRank<1){H(c.$t("error.enterprise.short"));return}H()}}]},{label:s(()=>[l(B,{message:"role.type",help:""})]),default:s(()=>[l(D,{modelValue:k.value.type,"onUpdate:modelValue":v[3]||(v[3]=d=>k.value.type=d)},{default:s(()=>[(p(),A(L,null,me([1,2,3,4],d=>l(z,{key:d,label:c.$t("role.type.".concat(d)),value:d},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["rules"]),l(q,{prop:"scope",label:c.$t("block.scope"),rules:[{required:!0,message:()=>c.$t("v.required")},{asyncValidator:async(d,K,H)=>{if(K!==V.scope&&await t(Ge)(k.value.scope,k.value.id)){H(c.$t("role.error.scopeNotAllowd"));return}H()}}]},{default:s(()=>[l(G,{modelValue:k.value.scope,"onUpdate:modelValue":v[4]||(v[4]=d=>k.value.scope=d)},{default:s(()=>[(p(),A(L,null,me([0,2],d=>l(r,{key:d,value:d,disabled:!t(b).globalPermission},{default:s(()=>[C(w(c.$t("role.scope.".concat(d))),1)]),_:2},1032,["value","disabled"])),64))]),_:1},8,["modelValue"])]),_:2},1032,["label","rules"])]),_:1},8,["values","name","query-bean","create-bean","update-bean","delete-bean","bean-id","bean-ids","focus","init-values","to-values","disable-delete","disable-edit","model-value"])}}}),ml={class:"border-t"},pl={class:"border-t"},vl=["innerHTML"],bl={class:"border-t"},fl=["innerHTML"],cl={class:"border-t"},yl=["innerHTML"],kl={class:"border-t"},gl=["innerHTML"],Vl={class:"flex items-center justify-between"},Pl=pe({name:"RolePermissionForm",__name:"RolePermissionForm",props:{modelValue:{type:Boolean,required:!0},beanId:{type:String,default:null}},emits:{"update:modelValue":null,finished:null},setup(j,{emit:J}){var be;const k=j,c=J,{beanId:v,modelValue:E}=Ee(k),{t:q}=ke(),O=u("permission"),z=u(),D=u({}),r=u({}),G=u(!1),V=u(!1),N=u(!1),d=u(),K=u(!1),H=u(!1),I=u(),le=u(!1),W=u(!1),M=u(),X=u(!1),ae=u(!1),n=u(),g=u(!1),T=u(!1),_=u(),P=rl();il(P,(be=b.grantPermissions)!=null?be:[]);const R=u([]),Q=u([]),se=ge(()=>D.value.global&&!b.globalPermission||b.rank>D.value.rank),i=async()=>{v.value!=null&&(D.value=await he(v.value),r.value={...D.value},Me().then(()=>{var o,e,y,m,h,S;(y=d.value)==null||y.setCheckedKeys((e=(o=D.value.permission)==null?void 0:o.split(","))!=null?e:[]),(S=I.value)==null||S.setCheckedKeys((h=(m=D.value.grantPermission)==null?void 0:m.split(","))!=null?h:[])}))},Ce=async()=>{var o;if(v.value!=null){const e=await Ye(v.value);(o=M.value)==null||o.setCheckedKeys([]),e.forEach(y=>{var m;(m=M.value)==null||m.setChecked(y,!0,!1)})}},we=async()=>{var o;if(v.value!=null){const e=await We(v.value);(o=n.value)==null||o.setCheckedKeys([]),e.forEach(y=>{var m;(m=n.value)==null||m.setChecked(y,!0,!1)})}},_e=async()=>{var o;if(v.value!=null){const e=await Xe(v.value);(o=_.value)==null||o.setCheckedKeys([]),e.forEach(y=>{var m;(m=_.value)==null||m.setChecked(y,!0,!1)})}},Re=async()=>{R.value=ye(await ul())},Ue=async()=>{Q.value=ye(await Ze({current:!0}))};He(E,async()=>{E.value&&(i(),Ce(),we(),_e())}),Ve(()=>{Re(),Ue()});const qe=()=>{z.value.validate(async o=>{if(o){G.value=!0;try{oe(),ne(),te(),re(),ie(),await xe(r.value),c("finished"),c("update:modelValue",!1),Pe.success(q("success"))}finally{G.value=!1}}})},Y=(o,e,y,m)=>{y.forEach(h=>{h.children&&(e.getNode(h[m!=null?m:"key"]).expanded=o,Y(o,e,h.children,m))})},Z=(o,e,y,m)=>{e.setCheckedKeys(o?y.map(h=>h[m!=null?m:"key"]):[])},oe=()=>{d.value!=null&&(r.value.permission=ve(d.value.getCheckedNodes(),d.value.getHalfCheckedNodes()))},ne=()=>{I.value!=null&&(r.value.grantPermission=ve(I.value.getCheckedNodes(),I.value.getHalfCheckedNodes()))},te=()=>{M.value!=null&&(r.value.articlePermissions=[...M.value.getCheckedNodes(),...M.value.getHalfCheckedNodes()].map(o=>o.id))},re=()=>{n.value!=null&&(r.value.channelPermissions=[...n.value.getCheckedNodes(),...n.value.getHalfCheckedNodes()].map(o=>o.id))},ie=()=>{_.value!=null&&(r.value.orgPermissions=_.value.getCheckedNodes().map(o=>o.id))},ve=(o,e)=>[...o,...e].filter(y=>y.perms).map(y=>{var m;return(m=y.perms)==null?void 0:m.join(",")}).join(",");return(o,e)=>{const y=f("el-alert"),m=f("el-switch"),h=f("el-form-item"),S=f("el-checkbox"),x=f("el-tree"),ee=f("el-tab-pane"),Te=f("el-option"),Se=f("el-select"),Ae=f("el-tabs"),De=f("el-form"),Ne=f("el-tag"),fe=f("el-button"),Le=f("el-drawer");return p(),$(Le,{title:o.$t("permissionSettings"),"with-header":!1,"model-value":j.modelValue,size:576,"onUpdate:modelValue":e[35]||(e[35]=a=>o.$emit("update:modelValue",a))},{default:s(()=>[l(De,{ref_key:"form",ref:z,model:r.value,disabled:se.value,"label-width":"150px"},{default:s(()=>[l(Ae,{modelValue:O.value,"onUpdate:modelValue":e[32]||(e[32]=a=>O.value=a)},{default:s(()=>[l(ee,{label:o.$t("role.permission"),name:"permission"},{default:s(()=>[l(y,{title:o.$t("role.permission.tooltip"),type:"info",closable:!1,"show-icon":""},null,8,["title"]),l(h,{prop:"allPermission"},{label:s(()=>[l(B,{message:"role.allPermission"})]),default:s(()=>[l(m,{modelValue:r.value.allPermission,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.allPermission=a)},null,8,["modelValue"])]),_:1}),r.value.allPermission?F("",!0):(p(),A(L,{key:0},[U("div",ml,[l(S,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value=a),disabled:!1,label:o.$t("expand/collapse"),onChange:e[2]||(e[2]=a=>Y(a,d.value,t(P)))},null,8,["modelValue","label"]),l(S,{modelValue:N.value,"onUpdate:modelValue":e[3]||(e[3]=a=>N.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[4]||(e[4]=a=>{Z(a,d.value,t(P)),oe()})},null,8,["modelValue","label"])]),l(x,{ref_key:"permissionTree",ref:d,data:t(P),"node-key":"key",class:"border rounded","show-checkbox":"",onCheck:e[5]||(e[5]=()=>oe())},null,8,["data"])],64))]),_:1},8,["label"]),t(b).epRank>=1||t(b).epDisplay?(p(),$(ee,{key:0,label:o.$t("role.grantPermission"),name:"grantPermission"},{default:s(()=>[t(b).epRank>=1?(p(),A(L,{key:0},[l(y,{title:o.$t("role.grantPermission.tooltip"),type:"info",closable:!1,"show-icon":""},null,8,["title"]),l(h,{prop:"allGrantPermission",class:"mt-3"},{label:s(()=>[l(B,{message:"role.allGrantPermission"})]),default:s(()=>[l(m,{modelValue:r.value.allGrantPermission,"onUpdate:modelValue":e[6]||(e[6]=a=>r.value.allGrantPermission=a)},null,8,["modelValue"])]),_:1}),r.value.allGrantPermission?F("",!0):(p(),A(L,{key:0},[U("div",pl,[l(S,{modelValue:K.value,"onUpdate:modelValue":e[7]||(e[7]=a=>K.value=a),label:o.$t("expand/collapse"),onChange:e[8]||(e[8]=a=>Y(a,I.value,t(P)))},null,8,["modelValue","label"]),l(S,{modelValue:H.value,"onUpdate:modelValue":e[9]||(e[9]=a=>H.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[10]||(e[10]=a=>{Z(a,I.value,t(P)),ne()})},null,8,["modelValue","label"])]),l(x,{ref_key:"grantPermissionTree",ref:I,data:t(P),"node-key":"key",class:"border rounded","show-checkbox":"",onCheck:e[11]||(e[11]=()=>ne())},null,8,["data"])],64))],64)):(p(),$(y,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[U("span",{innerHTML:o.$t("error.enterprise.short")},null,8,vl)]),_:1}))]),_:1},8,["label"])):F("",!0),t(b).epRank>=1||t(b).epDisplay?(p(),$(ee,{key:1,label:o.$t("role.dataPermission"),name:"dataPermission"},{default:s(()=>[t(b).epRank>=1?(p(),A(L,{key:0},[l(h,{prop:"globalPermission",rules:{required:!0,message:()=>o.$t("v.required")}},{label:s(()=>[l(B,{message:"role.globalPermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.globalPermission,"onUpdate:modelValue":e[12]||(e[12]=a=>r.value.globalPermission=a),disabled:!t(b).globalPermission},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),l(h,{prop:"allStatusPermission",rules:{required:!0,message:()=>o.$t("v.required")}},{label:s(()=>[l(B,{message:"role.allStatusPermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.allStatusPermission,"onUpdate:modelValue":e[13]||(e[13]=a=>r.value.allStatusPermission=a),disabled:!t(b).allStatusPermission},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),l(h,{prop:"dataScope",rules:[{required:!0,message:()=>o.$t("v.required")}]},{label:s(()=>[l(B,{message:"role.dataScope",help:""})]),default:s(()=>[l(Se,{modelValue:r.value.dataScope,"onUpdate:modelValue":e[14]||(e[14]=a=>r.value.dataScope=a)},{default:s(()=>[(p(),A(L,null,me([1,2,3,4],a=>l(Te,{key:a,label:o.$t("role.dataScope.".concat(a)),value:a},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["rules"]),r.value.dataScope===2?(p(),A(L,{key:0},[U("div",bl,[l(S,{modelValue:g.value,"onUpdate:modelValue":e[15]||(e[15]=a=>g.value=a),label:o.$t("expand/collapse"),onChange:e[16]||(e[16]=a=>Y(a,_.value,Q.value,"id"))},null,8,["modelValue","label"]),l(S,{modelValue:T.value,"onUpdate:modelValue":e[17]||(e[17]=a=>T.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[18]||(e[18]=a=>{Z(a,_.value,t(de)(Q.value),"id"),ie()})},null,8,["modelValue","label"])]),l(x,{ref_key:"orgPermissionTree",ref:_,data:Q.value,"node-key":"id",props:{label:"name"},class:"border rounded","default-expanded-keys":Q.value.map(a=>a.id),"show-checkbox":"","check-strictly":"",onCheck:e[19]||(e[19]=()=>ie())},null,8,["data","default-expanded-keys"])],64)):F("",!0)],64)):(p(),$(y,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[U("span",{innerHTML:o.$t("error.enterprise.short")},null,8,fl)]),_:1}))]),_:1},8,["label"])):F("",!0),t(b).epRank>=1||t(b).epDisplay?(p(),$(ee,{key:2,label:o.$t("role.articlePermission"),name:"articlePermission"},{default:s(()=>[t(b).epRank>=1?(p(),A(L,{key:0},[l(h,{prop:"allArticlePermission"},{label:s(()=>[l(B,{message:"role.allArticlePermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.allArticlePermission,"onUpdate:modelValue":e[20]||(e[20]=a=>r.value.allArticlePermission=a)},null,8,["modelValue"])]),_:1}),r.value.allArticlePermission?F("",!0):(p(),A(L,{key:0},[U("div",cl,[l(S,{modelValue:le.value,"onUpdate:modelValue":e[21]||(e[21]=a=>le.value=a),label:o.$t("expand/collapse"),onChange:e[22]||(e[22]=a=>Y(a,M.value,R.value,"id"))},null,8,["modelValue","label"]),l(S,{modelValue:W.value,"onUpdate:modelValue":e[23]||(e[23]=a=>W.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[24]||(e[24]=a=>{Z(a,M.value,t(de)(R.value),"id"),te()})},null,8,["modelValue","label"])]),l(x,{ref_key:"articlePermissionTree",ref:M,data:R.value,"node-key":"id",props:{label:"name"},class:"border rounded","show-checkbox":"",onCheck:e[25]||(e[25]=()=>te())},null,8,["data"])],64))],64)):(p(),$(y,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[U("span",{innerHTML:o.$t("error.enterprise.short")},null,8,yl)]),_:1}))]),_:1},8,["label"])):F("",!0),t(b).epRank>=1||t(b).epDisplay?(p(),$(ee,{key:3,label:o.$t("role.channelPermission"),name:"channelPermission"},{default:s(()=>[t(b).epRank>=1?(p(),A(L,{key:0},[l(h,{prop:"allChannelPermission"},{label:s(()=>[l(B,{message:"role.allChannelPermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.allChannelPermission,"onUpdate:modelValue":e[26]||(e[26]=a=>r.value.allChannelPermission=a)},null,8,["modelValue"])]),_:1}),r.value.allChannelPermission?F("",!0):(p(),A(L,{key:0},[U("div",kl,[l(S,{modelValue:X.value,"onUpdate:modelValue":e[27]||(e[27]=a=>X.value=a),label:o.$t("expand/collapse"),onChange:e[28]||(e[28]=a=>Y(a,n.value,R.value,"id"))},null,8,["modelValue","label"]),l(S,{modelValue:ae.value,"onUpdate:modelValue":e[29]||(e[29]=a=>ae.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[30]||(e[30]=a=>{Z(a,n.value,t(de)(R.value),"id"),re()})},null,8,["modelValue","label"])]),l(x,{ref_key:"channelPermissionTree",ref:n,data:R.value,"node-key":"id",props:{label:"name"},class:"border rounded","check-strictly":"","show-checkbox":"",onCheck:e[31]||(e[31]=()=>re())},null,8,["data"])],64))],64)):(p(),$(y,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[U("span",{innerHTML:o.$t("error.enterprise.short")},null,8,gl)]),_:1}))]),_:1},8,["label"])):F("",!0)]),_:1},8,["modelValue"])]),_:1},8,["model","disabled"])]),footer:s(()=>[U("div",Vl,[U("div",null,[l(Ne,null,{default:s(()=>{var a;return[C(w((a=r.value)==null?void 0:a.name),1)]}),_:1})]),U("div",null,[l(fe,{onClick:e[33]||(e[33]=()=>o.$emit("update:modelValue",!1))},{default:s(()=>[C(w(o.$t("cancel")),1)]),_:1}),l(fe,{type:"primary",loading:G.value,disabled:se.value,onClick:e[34]||(e[34]=()=>qe())},{default:s(()=>[C(w(o.$t("save")),1)]),_:1},8,["loading","disabled"])])])]),_:1},8,["title","model-value"])}}}),$l={class:"mb-3"},Sl=pe({name:"RoleList",__name:"RoleList",setup(j){const{t:J}=ke(),k=u({}),c=u(),v=u(),E=u([]),q=u([]),O=u(!1),z=u(!1),D=u(!1),r=u(),G=ge(()=>E.value.map(n=>n.id)),V=u(!1),N=async()=>{O.value=!0;try{E.value=await el({...ze(k.value),Q_OrderBy:c.value}),V.value=Object.values(k.value).filter(n=>n!==void 0&&n!=="").length>0||c.value!==void 0}finally{O.value=!1}};Ve(N);const d=n=>n.global&&!b.globalPermission||b.rank>n.rank,K=({column:n,prop:g,order:T})=>{var _;g&&T?c.value=((_=n.sortBy)!=null?_:g)+(T==="descending"?"_desc":""):c.value=void 0,N()},H=()=>N(),I=()=>{v.value.clearSort(),Fe(k.value),c.value=void 0,N()},le=()=>{r.value=void 0,z.value=!0},W=n=>{r.value=n,z.value=!0},M=n=>{r.value=n,D.value=!0},X=async n=>{await $e(n),N(),Pe.success(J("success"))},ae=async(n,g)=>{const T=Ke(n,E.value,g);await ll(T.map(_=>_.id))};return(n,g)=>{const T=f("el-button"),_=f("el-popconfirm"),P=f("el-table-column"),R=f("el-tag"),Q=f("el-table"),se=Ie("loading");return p(),A("div",null,[U("div",$l,[l(t(al),{params:k.value,onSearch:H,onReset:I},{default:s(()=>[l(t(ce),{label:n.$t("role.name"),name:"Q_Contains_name"},null,8,["label"]),l(t(ce),{label:n.$t("role.description"),name:"Q_Contains_description"},null,8,["label"])]),_:1},8,["params"])]),U("div",null,[l(T,{type:"primary",icon:t(Be),onClick:le},{default:s(()=>[C(w(n.$t("add")),1)]),_:1},8,["icon"]),l(_,{title:n.$t("confirmDelete"),onConfirm:g[0]||(g[0]=()=>X(q.value.map(i=>i.id)))},{reference:s(()=>[l(T,{disabled:q.value.length<=0,icon:t(Oe)},{default:s(()=>[C(w(n.$t("delete")),1)]),_:1},8,["disabled","icon"])]),_:1},8,["title"]),l(nl,{class:"ml-2",disabled:q.value.length<=0||V.value||t(ue)("role:update"),onMove:g[1]||(g[1]=i=>ae(q.value,i))},null,8,["disabled"]),l(t(sl),{name:"role",class:"ml-2"})]),je((p(),$(Q,{ref_key:"table",ref:v,data:E.value,class:"mt-3 bg-white shadow",onSelectionChange:g[2]||(g[2]=i=>q.value=i),onRowDblclick:g[3]||(g[3]=i=>W(i.id)),onSortChange:K},{default:s(()=>[l(t(ol),{name:"role"},{default:s(()=>[l(P,{type:"selection",selectable:i=>!d(i),width:"50"},null,8,["selectable"]),l(P,{property:"id",label:"ID",width:"170",sortable:"custom"}),l(P,{property:"name",label:n.$t("role.name"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(P,{property:"description",label:n.$t("role.description"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(P,{property:"rank",label:n.$t("role.rank"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(P,{property:"globalPermission",label:n.$t("role.globalPermission"),sortable:"custom"},{default:s(({row:i})=>[l(R,{type:i.globalPermission?"success":"info",size:"small"},{default:s(()=>[C(w(n.$t(i.globalPermission?"yes":"no")),1)]),_:2},1032,["type"])]),_:1},8,["label"]),l(P,{property:"type",label:n.$t("role.type"),sortable:"custom"},{default:s(({row:i})=>[i.type===1?(p(),$(R,{key:0,size:"small"},{default:s(()=>[C(w(n.$t("role.type.".concat(i.type))),1)]),_:2},1024)):i.type===2?(p(),$(R,{key:1,type:"warning",size:"small"},{default:s(()=>[C(w(n.$t("role.type.".concat(i.type))),1)]),_:2},1024)):i.type===3?(p(),$(R,{key:2,type:"success",size:"small"},{default:s(()=>[C(w(n.$t("role.type.".concat(i.type))),1)]),_:2},1024)):(p(),$(R,{key:3,type:"info",size:"small"},{default:s(()=>[C(w(n.$t("role.type.".concat(i.type))),1)]),_:2},1024))]),_:1},8,["label"]),l(P,{property:"scope",label:n.$t("role.scope"),sortable:"custom"},{default:s(({row:i})=>[i.scope===2?(p(),$(R,{key:0,type:"success",size:"small"},{default:s(()=>[C(w(n.$t("role.scope.".concat(i.scope))),1)]),_:2},1024)):(p(),$(R,{key:1,type:"info",size:"small"},{default:s(()=>[C(w(n.$t("role.scope.".concat(i.scope))),1)]),_:2},1024))]),_:1},8,["label"]),l(P,{label:n.$t("table.action"),width:"160"},{default:s(({row:i})=>[l(T,{type:"primary",disabled:t(ue)("role:update"),size:"small",link:"",onClick:()=>W(i.id)},{default:s(()=>[C(w(n.$t("edit")),1)]),_:2},1032,["disabled","onClick"]),l(T,{type:"primary",disabled:t(ue)("role:updatePermission"),size:"small",link:"",onClick:()=>M(i.id)},{default:s(()=>[C(w(n.$t("permissionSettings")),1)]),_:2},1032,["disabled","onClick"]),l(_,{title:n.$t("confirmDelete"),onConfirm:()=>X([i.id])},{reference:s(()=>[l(T,{type:"primary",size:"small",disabled:d(i),link:""},{default:s(()=>[C(w(n.$t("delete")),1)]),_:2},1032,["disabled"])]),_:2},1032,["title","onConfirm"])]),_:1},8,["label"])]),_:1})]),_:1},8,["data"])),[[se,O.value]]),l(dl,{modelValue:z.value,"onUpdate:modelValue":g[4]||(g[4]=i=>z.value=i),"bean-id":r.value,"bean-ids":G.value,onFinished:N},null,8,["modelValue","bean-id","bean-ids"]),l(Pl,{modelValue:D.value,"onUpdate:modelValue":g[5]||(g[5]=i=>D.value=i),"bean-id":r.value,onFinished:N},null,8,["modelValue","bean-id"])])}}});export{Sl as default};
