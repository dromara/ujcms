System.register(["./index-legacy-Dn378GZk.js","./el-radio-group-legacy-Bo0xKR1q.js","./el-radio-button-legacy-C-wGwFOO.js","./stat-legacy-dUcu6DZw.js"],(function(t,a){"use strict";var e,r,n,s,l,i,u,d,o,y,c,m,v,f,p,b,g,h,w;return{setters:[t=>{e=t.d,r=t.u,n=t.r,s=t.Y,l=t.o,i=t.X,u=t.a0,d=t.b,o=t.P,y=t.l,c=t.h,m=t.w,v=t.aF,f=t.aG,p=t.v,b=t.x},t=>{g=t.b,h=t.E},null,t=>{w=t.q}],execute:function(){const a={class:"p-3 mt-3 app-block"};t("default",e({__name:"VisitTrend",setup(t){const{t:e}=r(),x=n("last30day"),O=t=>{switch(t){case"now":return i().subtract(2,"hour").format();case"today":return i().startOf("day").format();case"yesterday":return i().startOf("day").subtract(1,"day").format();case"last7day":return i().startOf("day").subtract(6,"day").format();case"last30day":return i().startOf("day").subtract(29,"day").format();case"lastYear":return i().startOf("day").subtract(1,"year").format();default:return}},C=t=>"now"===t?i().format():"yesterday"===t?i().endOf("day").subtract(1,"day").format():i().endOf("day").format(),_=s(),j=async t=>{const a=await w({begin:O(t),end:C(t)}),r={tooltip:{trigger:"axis"},legend:{data:[e("visit.pv"),e("visit.uv"),e("visit.ip")]},grid:{left:16,right:24,top:40,bottom:8,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:a.map((t=>t.dateString))},yAxis:{type:"value",minInterval:1},series:[{name:e("visit.pv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.pvCount)))},{name:e("visit.uv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.uvCount)))},{name:e("visit.ip"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.ipCount)))}]},n=_.value;if(null==n)return;let s=u.getInstanceByDom(n);null==s&&(s=u.init(n)),s.setOption(r),window.addEventListener("resize",(function(){s&&s.resize()}))};return l((async()=>{j(x.value)})),(t,e)=>{const r=g,n=h;return d(),o("div",null,[y("div",a,[y("div",null,[c(n,{modelValue:x.value,"onUpdate:modelValue":e[0]||(e[0]=t=>x.value=t),onChange:e[1]||(e[1]=t=>j(t))},{default:m((()=>[(d(),o(v,null,f(["now","today","yesterday","last7day","last30day","lastYear","all"],(a=>c(r,{key:a,value:a},{default:m((()=>[p(b(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),y("div",{ref_key:"trendChart",ref:_,class:"h-80"},null,512)])])}}}))}}}));
