import{d as me,r as u,b as d,c as P,w as s,h as l,i as ye,j as Me,k as t,$ as b,b3 as M,P as q,aF as D,aG as de,g as I,v as h,x as C,A as ze,u as ke,ar as ge,B as Be,bt as Oe,o as Pe,l as _,aO as Ve,m as $e,t as he,E as Ge,b8 as je,b9 as Ke,f as Qe,b6 as We,bi as Ze,bs as Je,aW as Xe,aZ as Ye,bI as xe,b5 as ie,e as el,y as ll,aQ as al,aP as sl}from"./index-__TSAjOL.js";import{E as ol}from"./el-popover-B2t_MYt0.js";import{r as nl,n as Ce,o as tl,p as rl,s as we,t as il,v as ul,w as dl,b as ml,x as pl,j as vl,y as bl}from"./user-Cc_GcFRq.js";import{E as fl,a as fe,_ as cl,b as yl,c as kl}from"./QueryItem.vue_vue_type_script_setup_true_lang-CDNlcHM_.js";import{_ as gl}from"./ListMove.vue_vue_type_script_setup_true_lang-Dnx-NEui.js";import{E as Pl,a as Vl}from"./el-radio-group-B2Xrve8Z.js";/* empty css                 */import{c as $l,E as Ee,a as _e}from"./el-select-CPBsiljt.js";import{_ as hl}from"./DialogForm.vue_vue_type_script_setup_true_lang-CYMSRniG.js";import{E as Cl}from"./el-tree-CZELDHk3.js";import{E as wl}from"./el-switch-Cg-m0Y0i.js";import{b as El}from"./data-CRNvglzJ.js";import{e as _l,t as ce,f as ue}from"./tree-CFBn_SXc.js";import{d as Rl}from"./content-BqI55UAh.js";const Tl=me({name:"RoleForm",__name:"RoleForm",props:{modelValue:{type:Boolean,required:!0},beanId:{type:String,default:null},beanIds:{type:Array,required:!0}},emits:{"update:modelValue":null,finished:null},setup(B){const K=u(),y=u({});return(c,v)=>{const N=Me,R=ye,z=$l,F=_e,S=Ee,r=Vl,O=Pl;return d(),P(hl,{values:y.value,"onUpdate:values":v[5]||(v[5]=g=>y.value=g),name:c.$t("menu.user.role"),"query-bean":t(we),"create-bean":t(rl),"update-bean":t(tl),"delete-bean":t(Ce),"bean-id":B.beanId,"bean-ids":B.beanIds,focus:K.value,"init-values":()=>({type:4,rank:t(b).rank+1,scope:0}),"to-values":g=>({...g}),"disable-delete":g=>g.id<=1,"disable-edit":g=>g.global&&!t(b).globalPermission||t(b).rank>g.rank,perms:"role","model-value":B.modelValue,"onUpdate:modelValue":v[6]||(v[6]=g=>c.$emit("update:modelValue",g)),onFinished:v[7]||(v[7]=g=>c.$emit("finished"))},{default:s(({bean:g,disabled:A})=>[l(R,{prop:"name",label:c.$t("role.name"),rules:{required:!0,message:()=>c.$t("v.required")}},{default:s(()=>[l(N,{ref_key:"focus",ref:K,modelValue:y.value.name,"onUpdate:modelValue":v[0]||(v[0]=p=>y.value.name=p),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label","rules"]),l(R,{prop:"description",label:c.$t("role.description")},{default:s(()=>[l(N,{modelValue:y.value.description,"onUpdate:modelValue":v[1]||(v[1]=p=>y.value.description=p),maxlength:"300"},null,8,["modelValue"])]),_:1},8,["label"]),l(R,{prop:"rank",rules:[{required:!0,message:()=>c.$t("v.required")}]},{label:s(()=>[l(M,{message:"role.rank",help:""})]),default:s(()=>[l(z,{modelValue:y.value.rank,"onUpdate:modelValue":v[2]||(v[2]=p=>y.value.rank=p),modelModifiers:{number:!0},min:A?0:t(b).rank,max:32767},null,8,["modelValue","min"])]),_:2},1032,["rules"]),t(b).epRank>=3?(d(),P(R,{key:0,prop:"type",rules:[{required:!0,message:()=>c.$t("v.required")}]},{label:s(()=>[l(M,{message:"role.type",help:""})]),default:s(()=>[l(S,{modelValue:y.value.type,"onUpdate:modelValue":v[3]||(v[3]=p=>y.value.type=p)},{default:s(()=>[(d(),q(D,null,de([1,2,3,4],p=>l(F,{key:p,label:c.$t("role.type.".concat(p)),value:p},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["rules"])):I("",!0),l(R,{prop:"scope",label:c.$t("block.scope"),rules:[{required:!0,message:()=>c.$t("v.required")},{asyncValidator:async(p,Q,G)=>{if(Q!==g.scope&&await t(nl)(y.value.scope,y.value.id)){G(c.$t("role.error.scopeNotAllowd"));return}G()}}]},{default:s(()=>[l(O,{modelValue:y.value.scope,"onUpdate:modelValue":v[4]||(v[4]=p=>y.value.scope=p)},{default:s(()=>[(d(),q(D,null,de([0,2],p=>l(r,{key:p,value:p,disabled:!t(b).globalPermission},{default:s(()=>[h(C(c.$t("role.scope.".concat(p))),1)]),_:2},1032,["value","disabled"])),64))]),_:1},8,["modelValue"])]),_:2},1032,["label","rules"])]),_:1},8,["values","name","query-bean","create-bean","update-bean","delete-bean","bean-id","bean-ids","focus","init-values","to-values","disable-delete","disable-edit","model-value"])}}}),Ul={class:"border-t"},ql={class:"border-t"},Sl=["innerHTML"],Al={class:"border-t"},Dl=["innerHTML"],Nl={class:"border-t"},Ll=["innerHTML"],Il={class:"border-t"},Fl=["innerHTML"],Hl={class:"flex items-center justify-between"},Ml=me({name:"RolePermissionForm",__name:"RolePermissionForm",props:{modelValue:{type:Boolean,required:!0},beanId:{type:String,default:null}},emits:{"update:modelValue":null,finished:null},setup(B,{emit:K}){var ve;const y=B,c=K,{beanId:v,modelValue:N}=ze(y),{t:R}=ke(),z=u("permission"),F=u(),S=u({}),r=u({}),O=u(!1),g=u(!1),A=u(!1),p=u(),Q=u(!1),G=u(!1),H=u(),ee=u(!1),Z=u(!1),L=u(),J=u(!1),le=u(!1),n=u(),k=u(!1),T=u(!1),w=u(),V=El();_l(V,(ve=b.grantPermissions)!=null?ve:[]);const E=u([]),j=u([]),ae=ge(()=>S.value.global&&!b.globalPermission||b.rank>S.value.rank),i=async()=>{v.value!=null&&(S.value=await we(v.value),r.value={...S.value},Oe().then(()=>{var o,e,f,m,$,U;(f=p.value)==null||f.setCheckedKeys((e=(o=S.value.permission)==null?void 0:o.split(","))!=null?e:[]),(U=H.value)==null||U.setCheckedKeys(($=(m=S.value.grantPermission)==null?void 0:m.split(","))!=null?$:[])}))},Re=async()=>{var o;if(v.value!=null){const e=await il(v.value);(o=L.value)==null||o.setCheckedKeys([]),e.forEach(f=>{var m;(m=L.value)==null||m.setChecked(f,!0,!1)})}},Te=async()=>{var o;if(v.value!=null){const e=await ul(v.value);(o=n.value)==null||o.setCheckedKeys([]),e.forEach(f=>{var m;(m=n.value)==null||m.setChecked(f,!0,!1)})}},Ue=async()=>{var o;if(v.value!=null){const e=await dl(v.value);(o=w.value)==null||o.setCheckedKeys([]),e.forEach(f=>{var m;(m=w.value)==null||m.setChecked(f,!0,!1)})}},qe=async()=>{E.value=ce(await Rl())},Se=async()=>{j.value=ce(await ml({current:!0}))};Be(N,async()=>{N.value&&(i(),Re(),Te(),Ue())}),Pe(()=>{qe(),Se()});const Ae=()=>{F.value.validate(async o=>{if(o){O.value=!0;try{se(),oe(),ne(),te(),re(),await pl(r.value),c("finished"),c("update:modelValue",!1),he.success(R("success"))}finally{O.value=!1}}})},W=(o,e,f,m)=>{f.forEach($=>{$.children&&(e.getNode($[m!=null?m:"key"]).expanded=o,W(o,e,$.children,m))})},X=(o,e,f,m)=>{e.setCheckedKeys(o?f.map($=>$[m!=null?m:"key"]):[])},se=()=>{p.value!=null&&(r.value.permission=pe(p.value.getCheckedNodes(),p.value.getHalfCheckedNodes()))},oe=()=>{H.value!=null&&(r.value.grantPermission=pe(H.value.getCheckedNodes(),H.value.getHalfCheckedNodes()))},ne=()=>{L.value!=null&&(r.value.articlePermissions=[...L.value.getCheckedNodes(),...L.value.getHalfCheckedNodes()].map(o=>o.id))},te=()=>{n.value!=null&&(r.value.channelPermissions=[...n.value.getCheckedNodes(),...n.value.getHalfCheckedNodes()].map(o=>o.id))},re=()=>{w.value!=null&&(r.value.orgPermissions=w.value.getCheckedNodes().map(o=>o.id))},pe=(o,e)=>[...o,...e].filter(f=>f.perms).map(f=>{var m;return(m=f.perms)==null?void 0:m.join(",")}).join(",");return(o,e)=>{const f=Qe,m=wl,$=ye,U=We,Y=Cl,x=Ke,De=_e,Ne=Ee,Le=je,Ie=Ge,Fe=Ve,be=$e,He=fl;return d(),P(He,{title:o.$t("permissionSettings"),"with-header":!1,"model-value":B.modelValue,size:576,"onUpdate:modelValue":e[35]||(e[35]=a=>o.$emit("update:modelValue",a))},{default:s(()=>[l(Ie,{ref_key:"form",ref:F,model:r.value,disabled:ae.value,"label-width":"150px"},{default:s(()=>[l(Le,{modelValue:z.value,"onUpdate:modelValue":e[32]||(e[32]=a=>z.value=a)},{default:s(()=>[l(x,{label:o.$t("role.permission"),name:"permission"},{default:s(()=>[l(f,{title:o.$t("role.permission.tooltip"),type:"info",closable:!1,"show-icon":""},null,8,["title"]),l($,{prop:"allPermission"},{label:s(()=>[l(M,{message:"role.allPermission"})]),default:s(()=>[l(m,{modelValue:r.value.allPermission,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.allPermission=a)},null,8,["modelValue"])]),_:1}),r.value.allPermission?I("",!0):(d(),q(D,{key:0},[_("div",Ul,[l(U,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=a=>g.value=a),disabled:!1,label:o.$t("expand/collapse"),onChange:e[2]||(e[2]=a=>W(a,p.value,t(V)))},null,8,["modelValue","label"]),l(U,{modelValue:A.value,"onUpdate:modelValue":e[3]||(e[3]=a=>A.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[4]||(e[4]=a=>{X(a,p.value,t(V)),se()})},null,8,["modelValue","label"])]),l(Y,{ref_key:"permissionTree",ref:p,data:t(V),"node-key":"key",class:"border rounded","show-checkbox":"",onCheck:e[5]||(e[5]=()=>se())},null,8,["data"])],64))]),_:1},8,["label"]),t(b).epRank>=1||t(b).epDisplay?(d(),P(x,{key:0,label:o.$t("role.grantPermission"),name:"grantPermission"},{default:s(()=>[t(b).epRank>=1?(d(),q(D,{key:0},[l(f,{title:o.$t("role.grantPermission.tooltip"),type:"info",closable:!1,"show-icon":""},null,8,["title"]),l($,{prop:"allGrantPermission",class:"mt-3"},{label:s(()=>[l(M,{message:"role.allGrantPermission"})]),default:s(()=>[l(m,{modelValue:r.value.allGrantPermission,"onUpdate:modelValue":e[6]||(e[6]=a=>r.value.allGrantPermission=a)},null,8,["modelValue"])]),_:1}),r.value.allGrantPermission?I("",!0):(d(),q(D,{key:0},[_("div",ql,[l(U,{modelValue:Q.value,"onUpdate:modelValue":e[7]||(e[7]=a=>Q.value=a),label:o.$t("expand/collapse"),onChange:e[8]||(e[8]=a=>W(a,H.value,t(V)))},null,8,["modelValue","label"]),l(U,{modelValue:G.value,"onUpdate:modelValue":e[9]||(e[9]=a=>G.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[10]||(e[10]=a=>{X(a,H.value,t(V)),oe()})},null,8,["modelValue","label"])]),l(Y,{ref_key:"grantPermissionTree",ref:H,data:t(V),"node-key":"key",class:"border rounded","show-checkbox":"",onCheck:e[11]||(e[11]=()=>oe())},null,8,["data"])],64))],64)):(d(),P(f,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[_("span",{innerHTML:o.$t("error.enterprise.short")},null,8,Sl)]),_:1}))]),_:1},8,["label"])):I("",!0),t(b).epRank>=1||t(b).epDisplay?(d(),P(x,{key:1,label:o.$t("role.dataPermission"),name:"dataPermission"},{default:s(()=>[t(b).epRank>=1?(d(),q(D,{key:0},[l($,{prop:"globalPermission",rules:{required:!0,message:()=>o.$t("v.required")}},{label:s(()=>[l(M,{message:"role.globalPermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.globalPermission,"onUpdate:modelValue":e[12]||(e[12]=a=>r.value.globalPermission=a),disabled:!t(b).globalPermission},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),l($,{prop:"allStatusPermission",rules:{required:!0,message:()=>o.$t("v.required")}},{label:s(()=>[l(M,{message:"role.allStatusPermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.allStatusPermission,"onUpdate:modelValue":e[13]||(e[13]=a=>r.value.allStatusPermission=a),disabled:!t(b).allStatusPermission},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),l($,{prop:"dataScope",rules:[{required:!0,message:()=>o.$t("v.required")}]},{label:s(()=>[l(M,{message:"role.dataScope",help:""})]),default:s(()=>[l(Ne,{modelValue:r.value.dataScope,"onUpdate:modelValue":e[14]||(e[14]=a=>r.value.dataScope=a)},{default:s(()=>[(d(),q(D,null,de([1,2,3,4],a=>l(De,{key:a,label:o.$t("role.dataScope.".concat(a)),value:a},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["rules"]),r.value.dataScope===2?(d(),q(D,{key:0},[_("div",Al,[l(U,{modelValue:k.value,"onUpdate:modelValue":e[15]||(e[15]=a=>k.value=a),label:o.$t("expand/collapse"),onChange:e[16]||(e[16]=a=>W(a,w.value,j.value,"id"))},null,8,["modelValue","label"]),l(U,{modelValue:T.value,"onUpdate:modelValue":e[17]||(e[17]=a=>T.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[18]||(e[18]=a=>{X(a,w.value,t(ue)(j.value),"id"),re()})},null,8,["modelValue","label"])]),l(Y,{ref_key:"orgPermissionTree",ref:w,data:j.value,"node-key":"id",props:{label:"name"},class:"border rounded","default-expanded-keys":j.value.map(a=>a.id),"show-checkbox":"","check-strictly":"",onCheck:e[19]||(e[19]=()=>re())},null,8,["data","default-expanded-keys"])],64)):I("",!0)],64)):(d(),P(f,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[_("span",{innerHTML:o.$t("error.enterprise.short")},null,8,Dl)]),_:1}))]),_:1},8,["label"])):I("",!0),t(b).epRank>=1||t(b).epDisplay?(d(),P(x,{key:2,label:o.$t("role.articlePermission"),name:"articlePermission"},{default:s(()=>[t(b).epRank>=1?(d(),q(D,{key:0},[l($,{prop:"allArticlePermission"},{label:s(()=>[l(M,{message:"role.allArticlePermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.allArticlePermission,"onUpdate:modelValue":e[20]||(e[20]=a=>r.value.allArticlePermission=a)},null,8,["modelValue"])]),_:1}),r.value.allArticlePermission?I("",!0):(d(),q(D,{key:0},[_("div",Nl,[l(U,{modelValue:ee.value,"onUpdate:modelValue":e[21]||(e[21]=a=>ee.value=a),label:o.$t("expand/collapse"),onChange:e[22]||(e[22]=a=>W(a,L.value,E.value,"id"))},null,8,["modelValue","label"]),l(U,{modelValue:Z.value,"onUpdate:modelValue":e[23]||(e[23]=a=>Z.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[24]||(e[24]=a=>{X(a,L.value,t(ue)(E.value),"id"),ne()})},null,8,["modelValue","label"])]),l(Y,{ref_key:"articlePermissionTree",ref:L,data:E.value,"node-key":"id",props:{label:"name"},class:"border rounded","show-checkbox":"",onCheck:e[25]||(e[25]=()=>ne())},null,8,["data"])],64))],64)):(d(),P(f,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[_("span",{innerHTML:o.$t("error.enterprise.short")},null,8,Ll)]),_:1}))]),_:1},8,["label"])):I("",!0),t(b).epRank>=1||t(b).epDisplay?(d(),P(x,{key:3,label:o.$t("role.channelPermission"),name:"channelPermission"},{default:s(()=>[t(b).epRank>=1?(d(),q(D,{key:0},[l($,{prop:"allChannelPermission"},{label:s(()=>[l(M,{message:"role.allChannelPermission",help:""})]),default:s(()=>[l(m,{modelValue:r.value.allChannelPermission,"onUpdate:modelValue":e[26]||(e[26]=a=>r.value.allChannelPermission=a)},null,8,["modelValue"])]),_:1}),r.value.allChannelPermission?I("",!0):(d(),q(D,{key:0},[_("div",Il,[l(U,{modelValue:J.value,"onUpdate:modelValue":e[27]||(e[27]=a=>J.value=a),label:o.$t("expand/collapse"),onChange:e[28]||(e[28]=a=>W(a,n.value,E.value,"id"))},null,8,["modelValue","label"]),l(U,{modelValue:le.value,"onUpdate:modelValue":e[29]||(e[29]=a=>le.value=a),label:o.$t("checkAll/uncheckAll"),onChange:e[30]||(e[30]=a=>{X(a,n.value,t(ue)(E.value),"id"),te()})},null,8,["modelValue","label"])]),l(Y,{ref_key:"channelPermissionTree",ref:n,data:E.value,"node-key":"id",props:{label:"name"},class:"border rounded","check-strictly":"","show-checkbox":"",onCheck:e[31]||(e[31]=()=>te())},null,8,["data"])],64))],64)):(d(),P(f,{key:1,type:"warning",closable:!1,"show-icon":!0},{title:s(()=>[_("span",{innerHTML:o.$t("error.enterprise.short")},null,8,Fl)]),_:1}))]),_:1},8,["label"])):I("",!0)]),_:1},8,["modelValue"])]),_:1},8,["model","disabled"])]),footer:s(()=>[_("div",Hl,[_("div",null,[l(Fe,null,{default:s(()=>{var a;return[h(C((a=r.value)==null?void 0:a.name),1)]}),_:1})]),_("div",null,[l(be,{onClick:e[33]||(e[33]=()=>o.$emit("update:modelValue",!1))},{default:s(()=>[h(C(o.$t("cancel")),1)]),_:1}),l(be,{type:"primary",loading:O.value,disabled:ae.value,onClick:e[34]||(e[34]=()=>Ae())},{default:s(()=>[h(C(o.$t("save")),1)]),_:1},8,["loading","disabled"])])])]),_:1},8,["title","model-value"])}}}),zl={class:"mb-3"},aa=me({name:"RoleList",__name:"RoleList",setup(B){const{t:K}=ke(),y=u({}),c=u(),v=u(),N=u([]),R=u([]),z=u(!1),F=u(!1),S=u(!1),r=u(),O=ge(()=>N.value.map(n=>n.id)),g=u(!1),A=async()=>{z.value=!0;try{N.value=await vl({...Ze(y.value),Q_OrderBy:c.value}),g.value=Object.values(y.value).filter(n=>n!==void 0&&n!=="").length>0||c.value!==void 0}finally{z.value=!1}};Pe(A);const p=n=>n.global&&!b.globalPermission||b.rank>n.rank,Q=({column:n,prop:k,order:T})=>{var w;k&&T?c.value=((w=n.sortBy)!=null?w:k)+(T==="descending"?"_desc":""):c.value=void 0,A()},G=()=>A(),H=()=>{v.value.clearSort(),Je(y.value),c.value=void 0,A()},ee=()=>{r.value=void 0,F.value=!0},Z=n=>{r.value=n,F.value=!0},L=n=>{r.value=n,S.value=!0},J=async n=>{await Ce(n),A(),he.success(K("success"))},le=async(n,k)=>{const T=xe(n,N.value,k);await bl(T.map(w=>w.id))};return(n,k)=>{const T=$e,w=ol,V=al,E=Ve,j=sl,ae=ll;return d(),q("div",null,[_("div",zl,[l(t(cl),{params:y.value,onSearch:G,onReset:H},{default:s(()=>[l(t(fe),{label:n.$t("role.name"),name:"Q_Contains_name"},null,8,["label"]),l(t(fe),{label:n.$t("role.description"),name:"Q_Contains_description"},null,8,["label"])]),_:1},8,["params"])]),_("div",null,[l(T,{type:"primary",icon:t(Xe),onClick:ee},{default:s(()=>[h(C(n.$t("add")),1)]),_:1},8,["icon"]),l(w,{title:n.$t("confirmDelete"),onConfirm:k[0]||(k[0]=()=>J(R.value.map(i=>i.id)))},{reference:s(()=>[l(T,{disabled:R.value.length<=0,icon:t(Ye)},{default:s(()=>[h(C(n.$t("delete")),1)]),_:1},8,["disabled","icon"])]),_:1},8,["title"]),l(gl,{class:"ml-2",disabled:R.value.length<=0||g.value||t(ie)("role:update"),onMove:k[1]||(k[1]=i=>le(R.value,i))},null,8,["disabled"]),l(t(yl),{name:"role",class:"ml-2"})]),el((d(),P(j,{ref_key:"table",ref:v,data:N.value,class:"mt-3 bg-white shadow",onSelectionChange:k[2]||(k[2]=i=>R.value=i),onRowDblclick:k[3]||(k[3]=i=>Z(i.id)),onSortChange:Q},{default:s(()=>[l(t(kl),{name:"role"},{default:s(()=>[l(V,{type:"selection",selectable:i=>!p(i),width:"50"},null,8,["selectable"]),l(V,{property:"id",label:"ID",width:"170",sortable:"custom"}),l(V,{property:"name",label:n.$t("role.name"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(V,{property:"description",label:n.$t("role.description"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(V,{property:"rank",label:n.$t("role.rank"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(V,{property:"globalPermission",label:n.$t("role.globalPermission"),sortable:"custom"},{default:s(({row:i})=>[l(E,{type:i.globalPermission?"success":"info",size:"small"},{default:s(()=>[h(C(n.$t(i.globalPermission?"yes":"no")),1)]),_:2},1032,["type"])]),_:1},8,["label"]),l(V,{property:"type",label:n.$t("role.type"),sortable:"custom"},{default:s(({row:i})=>[i.type===1?(d(),P(E,{key:0,size:"small"},{default:s(()=>[h(C(n.$t("role.type.".concat(i.type))),1)]),_:2},1024)):i.type===2?(d(),P(E,{key:1,type:"warning",size:"small"},{default:s(()=>[h(C(n.$t("role.type.".concat(i.type))),1)]),_:2},1024)):i.type===3?(d(),P(E,{key:2,type:"success",size:"small"},{default:s(()=>[h(C(n.$t("role.type.".concat(i.type))),1)]),_:2},1024)):(d(),P(E,{key:3,type:"info",size:"small"},{default:s(()=>[h(C(n.$t("role.type.".concat(i.type))),1)]),_:2},1024))]),_:1},8,["label"]),l(V,{property:"scope",label:n.$t("role.scope"),sortable:"custom"},{default:s(({row:i})=>[i.scope===2?(d(),P(E,{key:0,type:"success",size:"small"},{default:s(()=>[h(C(n.$t("role.scope.".concat(i.scope))),1)]),_:2},1024)):(d(),P(E,{key:1,type:"info",size:"small"},{default:s(()=>[h(C(n.$t("role.scope.".concat(i.scope))),1)]),_:2},1024))]),_:1},8,["label"]),l(V,{label:n.$t("table.action"),width:"180"},{default:s(({row:i})=>[l(T,{type:"primary",disabled:t(ie)("role:update"),size:"small",link:"",onClick:()=>Z(i.id)},{default:s(()=>[h(C(n.$t("edit")),1)]),_:2},1032,["disabled","onClick"]),l(T,{type:"primary",disabled:t(ie)("role:updatePermission"),size:"small",link:"",onClick:()=>L(i.id)},{default:s(()=>[h(C(n.$t("permissionSettings")),1)]),_:2},1032,["disabled","onClick"]),l(w,{title:n.$t("confirmDelete"),onConfirm:()=>J([i.id])},{reference:s(()=>[l(T,{type:"primary",size:"small",disabled:p(i),link:""},{default:s(()=>[h(C(n.$t("delete")),1)]),_:2},1032,["disabled"])]),_:2},1032,["title","onConfirm"])]),_:1},8,["label"])]),_:1})]),_:1},8,["data"])),[[ae,z.value]]),l(Tl,{modelValue:F.value,"onUpdate:modelValue":k[4]||(k[4]=i=>F.value=i),"bean-id":r.value,"bean-ids":O.value,onFinished:A},null,8,["modelValue","bean-id","bean-ids"]),l(Ml,{modelValue:S.value,"onUpdate:modelValue":k[5]||(k[5]=i=>S.value=i),"bean-id":r.value,onFinished:A},null,8,["modelValue","bean-id"])])}}});export{aa as default};
