System.register(["./index-legacy-Dn378GZk.js","./duration-legacy-Cq6YcfyS.js","./stat-legacy-dUcu6DZw.js","./content-legacy-mGlTTE-V.js","./interaction-legacy-0-DprZot.js"],(function(t,e){"use strict";var a,l,s,n,u,i,r,d,o,c,v,p,f,y,x,m,g,b,w,h,_,C,k,$,j,Y,S,D,V,q,M,R,P,A,N,O,T,z,B;return{setters:[t=>{a=t.d,l=t.u,s=t.X,n=t.Y,u=t.r,i=t.o,r=t.Z,d=t.$,o=t.a0,c=t.a1,v=t.b,p=t.P,f=t.h,y=t.w,x=t.c,m=t.a2,g=t.l,b=t.a3,w=t.k,h=t.a4,_=t.a5,C=t.v,k=t.x,$=t.g,j=t.a6,Y=t.a7,S=t.a8,D=t.Q,V=t.a9,q=t.aa},t=>{M=t.d},t=>{R=t.q,P=t.a,A=t.b},t=>{N=t.q,O=t.a,T=t.b,z=t.c},t=>{B=t.q}],execute:function(){const e={class:"mb-3 shadow-md bg-warning-lighter"},H={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},L={class:"flex items-center"},F={class:"mb-3 shadow-md bg-warning-lighter"},I={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},E={class:"flex items-center"},W={class:"mb-3 shadow-md bg-warning-lighter"},G={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},Q={class:"flex items-center"},X={class:"mb-3 shadow-md bg-warning-lighter"},Z={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},J={class:"flex items-center"},K={class:"mb-3 shadow-md bg-warning-lighter"},U={class:"flex items-center justify-between px-4 py-3 text-xl text-warning"},tt={class:"flex items-center"},et={class:"p-3 app-block"},at={class:"text-sm text-gray-secondary"},lt={class:"flex items-end justify-between mt-1"},st={class:"text-3xl text-primary"},nt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-primary"},ut={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},it={class:"p-3 app-block"},rt={class:"text-sm text-gray-secondary"},dt={class:"flex items-end justify-between mt-1"},ot={class:"text-3xl text-primary"},ct={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-warning"},vt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},pt={class:"p-3 app-block"},ft={class:"text-sm text-gray-secondary"},yt={class:"flex items-end justify-between mt-1"},xt={class:"text-3xl text-primary"},mt={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-success"},gt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},bt={class:"p-3 app-block"},wt={class:"text-sm text-gray-secondary"},ht={class:"flex items-end justify-between mt-1"},_t={class:"text-3xl text-primary"},Ct={class:"flex items-center justify-center w-12 h-12 text-xl text-white rounded bg-danger"},kt={class:"flex justify-between pt-2 mt-3 text-xs border-t text-gray-regular"},$t={class:"px-3 py-5 mt-3 app-block"},jt={class:"flex p-3 mt-3 justify-evenly app-block"},Yt={class:"h-64 w-60 text-primary"},St={class:"mt-2 text-center"},Dt={class:"flex items-center justify-center mt-2"},Vt={class:"text-3xl"},qt={key:0},Mt={key:1},Rt={class:"mt-4 space-y-2 text-sm"},Pt={key:0},At={key:1},Nt={key:0},Ot={key:1},Tt={key:0},zt={key:1},Bt={class:"h-64 w-60 text-gray-secondary"},Ht={class:"mt-2 text-center"},Lt={class:"flex items-center justify-center mt-2"},Ft={class:"text-3xl"},It={key:0},Et={key:1},Wt={class:"mt-4 space-y-2 text-sm"},Gt={key:0},Qt={key:1},Xt={key:0},Zt={key:1},Jt={key:0},Kt={key:1},Ut={class:"p-3 mt-3 app-block"};t("default",a({__name:"HomePage",setup(t){const{t:a,n:te}=l();s.extend(M);const ee=n(),ae=n(),le=u({}),se=u({}),ne=u({}),ue=u(0),ie=u(0),re=u(0),de=u(0),oe=u(0);return i((async()=>{r("articleReview:list")&&((async()=>{d.epRank>=1&&(ue.value=await N())})(),(async()=>{d.epRank>=1&&(ie.value=await O())})()),r("formReview:list")&&((async()=>{d.epRank>=3&&(de.value=await T())})(),(async()=>{d.epRank>=3&&(oe.value=await z())})()),r("messageBoard:list")&&(async()=>{re.value=await B()})(),(async()=>{const t=await R({begin:s().startOf("day").subtract(1,"day").format(),end:s().endOf("day").format()}),e={tooltip:{trigger:"axis"},legend:{data:[a("visitTrend.yesterdayPv"),a("visitTrend.todayPv")]},grid:{left:16,right:16,top:40,bottom:0,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:Array.from(Array(24).keys())},yAxis:{type:"value",minInterval:1},series:[{name:a("visitTrend.yesterdayPv"),type:"line",symbol:"circle",color:"#a0cfff",data:t.filter((t=>s(t.date)<s().startOf("day"))).map((t=>Number(t.pvCount)))},{name:a("visitTrend.todayPv"),type:"line",symbol:"circle",color:"#409eff",areaStyle:{color:"#ecf5ff"},data:t.filter((t=>s(t.date)>=s().startOf("day"))).map((t=>Number(t.pvCount)))}]},l=ee.value;if(null==l)return;let n=o.getInstanceByDom(l);null==n&&(n=o.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await P({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")}),e={title:{text:a("menu.stat.visitSource"),textStyle:{color:"#909399",fontWeight:"normal",fontSize:16}},legend:{type:"scroll",orient:"vertical",right:"10%",top:16,bottom:16},tooltip:{trigger:"item",valueFormatter:t=>te(t)},series:[{name:a("menu.stat.visitSource"),type:"pie",radius:["44%","80%"],center:["40%","54%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!1}},labelLine:{show:!1},data:t.map((t=>({value:Number(t.pvCount),name:a(`visitSource.type.${t.name}`)})))}]},l=ae.value;if(null==l)return;let n=o.getInstanceByDom(l);null==n&&(n=o.init(l)),n.setOption(e),window.addEventListener("resize",(function(){n&&n.resize()}))})(),(async()=>{const t=await A({begin:s().subtract(30,"day").format("YYYY-MM-DD"),end:s().format("YYYY-MM-DD")});le.value=t.newVisitor,se.value=t.oldVisitor,le.value.pvCount=Number(le.value.pvCount),se.value.pvCount=Number(se.value.pvCount),le.value.uvCount=Number(le.value.uvCount),se.value.uvCount=Number(se.value.uvCount);const e=le.value.uvCount+se.value.uvCount;e>0?(le.value.proportion=100*le.value.uvCount/e,se.value.proportion=100*se.value.uvCount/e):(le.value.proportion=50,se.value.proportion=50)})(),(async()=>{ne.value=await c()})()})),(t,a)=>{const l=b,n=_,u=m,i=j;return v(),p("div",null,[f(i,{gutter:12},{default:y((()=>[ue.value>0?(v(),x(u,{key:0,span:6},{default:y((()=>[g("div",e,[g("div",H,[g("div",L,[f(l,null,{default:y((()=>[f(w(h))])),_:1}),f(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[0]||(a[0]=()=>t.$router.push({path:"/content/article-review"}))},{default:y((()=>[C(k(t.$t("todo.pendingArticle")),1)])),_:1})]),g("div",null,[f(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[1]||(a[1]=()=>t.$router.push({path:"/content/article-review"}))},{default:y((()=>[C(k(ue.value),1)])),_:1})])])])])),_:1})):$("",!0),ie.value>0?(v(),x(u,{key:1,span:6},{default:y((()=>[g("div",F,[g("div",I,[g("div",E,[f(l,null,{default:y((()=>[f(w(h))])),_:1}),f(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[2]||(a[2]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:y((()=>[C(k(t.$t("todo.rejectedArticle")),1)])),_:1})]),g("div",null,[f(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[3]||(a[3]=()=>t.$router.push({path:"/content/article",query:{status:22}}))},{default:y((()=>[C(k(ie.value),1)])),_:1})])])])])),_:1})):$("",!0),de.value>0?(v(),x(u,{key:2,span:6},{default:y((()=>[g("div",W,[g("div",G,[g("div",Q,[f(l,null,{default:y((()=>[f(w(h))])),_:1}),f(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[4]||(a[4]=()=>t.$router.push({path:"/content/form-review"}))},{default:y((()=>[C(k(t.$t("todo.pendingForm")),1)])),_:1})]),g("div",null,[f(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[5]||(a[5]=()=>t.$router.push({path:"/content/form-review"}))},{default:y((()=>[C(k(de.value),1)])),_:1})])])])])),_:1})):$("",!0),oe.value>0?(v(),x(u,{key:3,span:6},{default:y((()=>[g("div",X,[g("div",Z,[g("div",J,[f(l,null,{default:y((()=>[f(w(h))])),_:1}),f(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[6]||(a[6]=()=>t.$router.push({path:"/content/form",query:{status:22}}))},{default:y((()=>[C(k(t.$t("todo.rejectedForm")),1)])),_:1})]),g("div",null,[f(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[7]||(a[7]=()=>t.$router.push({path:"/content/form",query:{status:22}}))},{default:y((()=>[C(k(oe.value),1)])),_:1})])])])])),_:1})):$("",!0),re.value>0?(v(),x(u,{key:4,span:6},{default:y((()=>[g("div",K,[g("div",U,[g("div",tt,[f(l,null,{default:y((()=>[f(w(h))])),_:1}),f(n,{class:"ml-1 text-base",type:"warning",underline:!1,onClick:a[8]||(a[8]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:y((()=>[C(k(t.$t("todo.unreviewedMessageBoard")),1)])),_:1})]),g("div",null,[f(n,{class:"ml-1 text-xl",type:"warning",underline:!1,onClick:a[9]||(a[9]=()=>t.$router.push({path:"/interaction/message-board",query:{status:1}}))},{default:y((()=>[C(k(re.value),1)])),_:1})])])])])),_:1})):$("",!0)])),_:1}),f(i,{gutter:12},{default:y((()=>[f(u,{span:6},{default:y((()=>[g("div",et,[g("div",at,k(t.$t("contentStat.article")),1),g("div",lt,[g("div",st,k(ne.value.article?.total),1),g("div",nt,[f(l,null,{default:y((()=>[f(w(Y))])),_:1})])]),g("div",ut,[g("div",null,k(t.$t("contentStat.last7day")),1),g("div",null,k(ne.value.article?.last7day),1)])])])),_:1}),f(u,{span:6},{default:y((()=>[g("div",it,[g("div",rt,k(t.$t("contentStat.channel")),1),g("div",dt,[g("div",ot,k(ne.value.channel?.total),1),g("div",ct,[f(l,null,{default:y((()=>[f(w(S))])),_:1})])]),g("div",vt,[g("div",null,k(t.$t("contentStat.last7day")),1),g("div",null,k(ne.value.channel?.last7day),1)])])])),_:1}),f(u,{span:6},{default:y((()=>[g("div",pt,[g("div",ft,k(t.$t("contentStat.user")),1),g("div",yt,[g("div",xt,k(ne.value.user?.total),1),g("div",mt,[f(l,null,{default:y((()=>[f(w(D))])),_:1})])]),g("div",gt,[g("div",null,k(t.$t("contentStat.last7day")),1),g("div",null,k(ne.value.user?.last7day),1)])])])),_:1}),f(u,{span:6},{default:y((()=>[g("div",bt,[g("div",wt,k(t.$t("contentStat.attachment")),1),g("div",ht,[g("div",_t,k(ne.value.attachment?.total),1),g("div",Ct,[f(l,null,{default:y((()=>[f(w(V))])),_:1})])]),g("div",kt,[g("div",null,k(t.$t("contentStat.last7day")),1),g("div",null,k(ne.value.attachment?.last7day),1)])])])),_:1})])),_:1}),g("div",$t,[g("div",{ref_key:"trendChart",ref:ee,class:"h-64"},null,512)]),f(i,{gutter:12},{default:y((()=>[f(u,{span:12},{default:y((()=>[g("div",jt,[g("div",Yt,[g("div",St,k(t.$t("visitVisitor.newVisitor")),1),g("div",Dt,[f(l,{class:"text-5xl"},{default:y((()=>[f(w(q))])),_:1}),g("span",Vt,[le.value.uvCount>0?(v(),p("span",qt,k(t.$n(le.value.proportion??0,"decimal")),1)):(v(),p("span",Mt,"-")),a[10]||(a[10]=C("% "))])]),g("div",Rt,[f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visitVisitor.pv")),1)])),_:1}),f(u,{span:12},{default:y((()=>[C(k(le.value.pvCount),1)])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visitVisitor.uv")),1)])),_:1}),f(u,{span:12},{default:y((()=>[C(k(le.value.uvCount),1)])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visit.bounceRate")),1)])),_:1}),f(u,{span:12},{default:y((()=>[le.value.uvCount>0?(v(),p("span",Pt,k(t.$n(100*le.value.bounceCount/le.value.uvCount,"decimal"))+"%",1)):(v(),p("span",At,"-"))])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visit.averageDuration")),1)])),_:1}),f(u,{span:12},{default:y((()=>[le.value.uvCount>0?(v(),p("span",Nt,k(w(s).duration(le.value.duration/le.value.uvCount,"seconds").format("HH:mm:ss")),1)):(v(),p("span",Ot,"-"))])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visit.averagePv")),1)])),_:1}),f(u,{span:12},{default:y((()=>[le.value.uvCount>0?(v(),p("span",Tt,k(t.$n(le.value.pvCount/le.value.uvCount,"decimal")),1)):(v(),p("span",zt,"-"))])),_:1})])),_:1})])]),g("div",Bt,[g("div",Ht,k(t.$t("visitVisitor.oldVisitor")),1),g("div",Lt,[f(l,{class:"text-5xl"},{default:y((()=>[f(w(q))])),_:1}),g("span",Ft,[se.value.uvCount>0?(v(),p("span",It,k(t.$n(se.value.proportion??0,"decimal")),1)):(v(),p("span",Et,"-")),a[11]||(a[11]=C("% "))])]),g("div",Wt,[f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visitVisitor.pv")),1)])),_:1}),f(u,{span:12},{default:y((()=>[C(k(se.value.pvCount),1)])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visitVisitor.uv")),1)])),_:1}),f(u,{span:12},{default:y((()=>[C(k(se.value.uvCount),1)])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visit.bounceRate")),1)])),_:1}),f(u,{span:12},{default:y((()=>[se.value.uvCount>0?(v(),p("span",Gt,k(t.$n(100*se.value.bounceCount/se.value.uvCount,"decimal"))+"%",1)):(v(),p("span",Qt,"-"))])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visit.averageDuration")),1)])),_:1}),f(u,{span:12},{default:y((()=>[se.value.uvCount>0?(v(),p("span",Xt,k(w(s).duration(se.value.duration/se.value.uvCount,"seconds").format("HH:mm:ss")),1)):(v(),p("span",Zt,"-"))])),_:1})])),_:1}),f(i,{gutter:24},{default:y((()=>[f(u,{span:12,class:"text-right"},{default:y((()=>[C(k(t.$t("visit.averagePv")),1)])),_:1}),f(u,{span:12},{default:y((()=>[se.value.uvCount>0?(v(),p("span",Jt,k(t.$n(se.value.pvCount/se.value.uvCount,"decimal")),1)):(v(),p("span",Kt,"-"))])),_:1})])),_:1})])])])])),_:1}),f(u,{span:12},{default:y((()=>[g("div",Ut,[g("div",{ref_key:"sourceTypeChart",ref:ae,class:"w-full h-64"},null,512)])])),_:1})])),_:1})])}}}))}}}));
