System.register(["./index-legacy-BTwn5I6C.js","./el-radio-group-legacy-CqcfN_4l.js","./el-radio-button-legacy-C-wGwFOO.js","./duration-legacy-CLDiK8xz.js","./stat-legacy-C0RGhAOz.js"],(function(t,a){"use strict";var e,u,s,l,n,r,v,o,i,d,c,p,f,y,m,Y,_,C,g,x,b,h;return{setters:[t=>{e=t.d,u=t.X,s=t.r,l=t.o,n=t.b,r=t.P,v=t.l,o=t.h,i=t.w,d=t.aF,c=t.aG,p=t.v,f=t.x,y=t.k,m=t.aa,Y=t.a3,_=t.a2,C=t.a6},t=>{g=t.b,x=t.E},null,t=>{b=t.d},t=>{h=t.b}],execute:function(){const a={class:"p-3 mt-3 app-block"},k={class:"flex p-3 mt-3 justify-evenly app-block"},D={class:"h-64 w-60 text-primary"},$={class:"mt-2 text-center"},M={class:"flex items-center justify-center mt-2"},V={class:"text-3xl"},j={key:0},w={key:1},H={class:"mt-4 space-y-2 text-sm"},N={key:0},P={key:1},R={key:0},A={key:1},B={key:0},E={key:1},F={class:"h-64 w-60 text-gray-secondary"},G={class:"mt-2 text-center"},I={class:"flex items-center justify-center mt-2"},S={class:"text-3xl"},U={key:0},X={key:1},q={class:"mt-4 space-y-2 text-sm"},z={key:0},J={key:1},K={key:0},L={key:1},O={key:0},Q={key:1};t("default",e({__name:"VisitVisitor",setup(t){u.extend(b);const e=s("last30day"),T=t=>{switch(t){case"today":return u().format("YYYY-MM-DD");case"yesterday":return u().subtract(1,"day").format("YYYY-MM-DD");case"last7day":return u().subtract(6,"day").format("YYYY-MM-DD");case"last30day":return u().subtract(29,"day").format("YYYY-MM-DD");case"last3month":return u().subtract(3,"month").format("YYYY-MM-DD");case"last6month":return u().subtract(6,"month").format("YYYY-MM-DD");case"lastYear":return u().subtract(1,"year").format("YYYY-MM-DD");default:return}},W=t=>"yesterday"===t?u().subtract(1,"day").format("YYYY-MM-DD"):u().format("YYYY-MM-DD"),Z=s({}),tt=s({}),at=async t=>{const a=await h({begin:T(t),end:W(t)});Z.value=a.newVisitor,tt.value=a.oldVisitor,Z.value.pvCount=Number(Z.value.pvCount),tt.value.pvCount=Number(tt.value.pvCount),Z.value.uvCount=Number(Z.value.uvCount),tt.value.uvCount=Number(tt.value.uvCount);const e=Z.value.uvCount+tt.value.uvCount;e>0?(Z.value.proportion=100*Z.value.uvCount/e,tt.value.proportion=100*tt.value.uvCount/e):(Z.value.proportion=50,tt.value.proportion=50)};return l((async()=>{at(e.value)})),(t,s)=>{const l=g,b=x,h=Y,T=_,W=C;return n(),r("div",null,[v("div",a,[v("div",null,[o(b,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value=t),onChange:s[1]||(s[1]=t=>at(t))},{default:i((()=>[(n(),r(d,null,c(["today","yesterday","last7day","last30day","last3month","last6month","lastYear","all"],(a=>o(l,{key:a,value:a},{default:i((()=>[p(f(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),v("div",k,[v("div",D,[v("div",$,f(t.$t("visitVisitor.newVisitor")),1),v("div",M,[o(h,{class:"text-5xl"},{default:i((()=>[o(y(m))])),_:1}),v("span",V,[Z.value.uvCount>0?(n(),r("span",j,f(t.$n(Z.value.proportion??0,"decimal")),1)):(n(),r("span",w,"0")),s[2]||(s[2]=p("% "))])]),v("div",H,[o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.pv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(Z.value.pvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.uv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(Z.value.uvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.bounceRate")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),r("span",N,f(t.$n(100*Z.value.bounceCount/Z.value.uvCount,"decimal"))+"%",1)):(n(),r("span",P,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averageDuration")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),r("span",R,f(y(u).duration(Z.value.duration/Z.value.uvCount,"seconds").format("HH:mm:ss")),1)):(n(),r("span",A,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averagePv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),r("span",B,f(t.$n(Z.value.pvCount/Z.value.uvCount,"decimal")),1)):(n(),r("span",E,"-"))])),_:1})])),_:1})])]),v("div",F,[v("div",G,f(t.$t("visitVisitor.oldVisitor")),1),v("div",I,[o(h,{class:"text-5xl"},{default:i((()=>[o(y(m))])),_:1}),v("span",S,[tt.value.uvCount>0?(n(),r("span",U,f(t.$n(tt.value.proportion??0,"decimal")),1)):(n(),r("span",X,"0")),s[3]||(s[3]=p("% "))])]),v("div",q,[o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.pv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(tt.value.pvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visitVisitor.uv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[p(f(tt.value.uvCount),1)])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.bounceRate")),1)])),_:1}),o(T,{span:12},{default:i((()=>[tt.value.uvCount>0?(n(),r("span",z,f(t.$n(100*tt.value.bounceCount/tt.value.uvCount,"decimal"))+"%",1)):(n(),r("span",J,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averageDuration")),1)])),_:1}),o(T,{span:12},{default:i((()=>[Z.value.uvCount>0?(n(),r("span",K,f(y(u).duration(tt.value.duration/tt.value.uvCount,"seconds").format("HH:mm:ss")),1)):(n(),r("span",L,"-"))])),_:1})])),_:1}),o(W,{gutter:24},{default:i((()=>[o(T,{span:12,class:"text-right"},{default:i((()=>[p(f(t.$t("visit.averagePv")),1)])),_:1}),o(T,{span:12},{default:i((()=>[tt.value.uvCount>0?(n(),r("span",O,f(t.$n(tt.value.pvCount/tt.value.uvCount,"decimal")),1)):(n(),r("span",Q,"-"))])),_:1})])),_:1})])])])])])}}}))}}}));
