System.register(["./index-legacy-UxpaZzxR.js","./duration-legacy-Bmv7iMxF.js","./stat-legacy-CMGLVay5.js"],(function(t,a){"use strict";var e,u,s,l,n,v,r,o,i,d,c,p,f,y,m,_,C,g;return{setters:[t=>{e=t.d,u=t.U,s=t.r,l=t.o,n=t.b,v=t.e,r=t.I,o=t.k,i=t.i,d=t.w,c=t.a9,p=t.aa,f=t.t,y=t.j,m=t.a0,_=t.l},t=>{C=t.d},t=>{g=t.b}],execute:function(){const a={class:"p-3 mt-3 app-block"},x={class:"flex p-3 mt-3 justify-evenly app-block"},Y={class:"h-64 w-60 text-primary"},k={class:"mt-2 text-center"},$={class:"flex items-center justify-center mt-2"},b={class:"text-3xl"},D={key:0},V={key:1},h={class:"mt-4 space-y-2 text-sm"},M={key:0},w={key:1},j={key:0},H={key:1},N={key:0},P={key:1},R={class:"h-64 w-60 text-gray-secondary"},U={class:"mt-2 text-center"},z={class:"flex items-center justify-center mt-2"},I={class:"text-3xl"},S={key:0},q={key:1},A={class:"mt-4 space-y-2 text-sm"},B={key:0},E={key:1},F={key:0},G={key:1},J={key:0},K={key:1};t("default",e({__name:"VisitVisitor",setup(t){u.extend(C);const e=s("last30day"),L=t=>{switch(t){case"today":return u().format("YYYY-MM-DD");case"yesterday":return u().subtract(1,"day").format("YYYY-MM-DD");case"last7day":return u().subtract(6,"day").format("YYYY-MM-DD");case"last30day":return u().subtract(29,"day").format("YYYY-MM-DD");case"lastYear":return u().subtract(1,"year").format("YYYY-MM-DD");default:return}},O=t=>"yesterday"===t?u().subtract(1,"day").format("YYYY-MM-DD"):u().format("YYYY-MM-DD"),Q=s({}),T=s({}),W=async t=>{const a=await g({begin:L(t),end:O(t)});Q.value=a.newVisitor,T.value=a.oldVisitor,Q.value.pvCount=Number(Q.value.pvCount),T.value.pvCount=Number(T.value.pvCount),Q.value.uvCount=Number(Q.value.uvCount),T.value.uvCount=Number(T.value.uvCount);const e=Q.value.uvCount+T.value.uvCount;e>0?(Q.value.proportion=100*Q.value.uvCount/e,T.value.proportion=100*T.value.uvCount/e):(Q.value.proportion=50,T.value.proportion=50)};return l((async()=>{W(e.value)})),(t,s)=>{const l=n("el-radio-button"),C=n("el-radio-group"),g=n("el-icon"),L=n("el-col"),O=n("el-row");return v(),r("div",null,[o("div",a,[o("div",null,[i(C,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value=t),onChange:s[1]||(s[1]=t=>W(t))},{default:d((()=>[(v(),r(c,null,p(["today","yesterday","last7day","last30day","lastYear","all"],(a=>i(l,{key:a,value:a},{default:d((()=>[_(f(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),o("div",x,[o("div",Y,[o("div",k,f(t.$t("visitVisitor.newVisitor")),1),o("div",$,[i(g,{class:"text-5xl"},{default:d((()=>[i(y(m))])),_:1}),o("span",b,[Q.value.uvCount>0?(v(),r("span",D,f(t.$n(Q.value.proportion??0,"decimal")),1)):(v(),r("span",V,"0")),_("% ")])]),o("div",h,[i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visitVisitor.pv")),1)])),_:1}),i(L,{span:12},{default:d((()=>[_(f(Q.value.pvCount),1)])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visitVisitor.uv")),1)])),_:1}),i(L,{span:12},{default:d((()=>[_(f(Q.value.uvCount),1)])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visit.bounceRate")),1)])),_:1}),i(L,{span:12},{default:d((()=>[Q.value.uvCount>0?(v(),r("span",M,f(t.$n(100*Q.value.bounceCount/Q.value.uvCount,"decimal"))+"%",1)):(v(),r("span",w,"-"))])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visit.averageDuration")),1)])),_:1}),i(L,{span:12},{default:d((()=>[Q.value.uvCount>0?(v(),r("span",j,f(y(u).duration(Q.value.duration/Q.value.uvCount,"seconds").format("HH:mm:ss")),1)):(v(),r("span",H,"-"))])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visit.averagePv")),1)])),_:1}),i(L,{span:12},{default:d((()=>[Q.value.uvCount>0?(v(),r("span",N,f(t.$n(Q.value.pvCount/Q.value.uvCount,"decimal")),1)):(v(),r("span",P,"-"))])),_:1})])),_:1})])]),o("div",R,[o("div",U,f(t.$t("visitVisitor.oldVisitor")),1),o("div",z,[i(g,{class:"text-5xl"},{default:d((()=>[i(y(m))])),_:1}),o("span",I,[T.value.uvCount>0?(v(),r("span",S,f(t.$n(T.value.proportion??0,"decimal")),1)):(v(),r("span",q,"0")),_("% ")])]),o("div",A,[i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visitVisitor.pv")),1)])),_:1}),i(L,{span:12},{default:d((()=>[_(f(T.value.pvCount),1)])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visitVisitor.uv")),1)])),_:1}),i(L,{span:12},{default:d((()=>[_(f(T.value.uvCount),1)])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visit.bounceRate")),1)])),_:1}),i(L,{span:12},{default:d((()=>[T.value.uvCount>0?(v(),r("span",B,f(t.$n(100*T.value.bounceCount/T.value.uvCount,"decimal"))+"%",1)):(v(),r("span",E,"-"))])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visit.averageDuration")),1)])),_:1}),i(L,{span:12},{default:d((()=>[Q.value.uvCount>0?(v(),r("span",F,f(y(u).duration(T.value.duration/T.value.uvCount,"seconds").format("HH:mm:ss")),1)):(v(),r("span",G,"-"))])),_:1})])),_:1}),i(O,{gutter:24},{default:d((()=>[i(L,{span:12,class:"text-right"},{default:d((()=>[_(f(t.$t("visit.averagePv")),1)])),_:1}),i(L,{span:12},{default:d((()=>[T.value.uvCount>0?(v(),r("span",J,f(t.$n(T.value.pvCount/T.value.uvCount,"decimal")),1)):(v(),r("span",K,"-"))])),_:1})])),_:1})])])])])])}}}))}}}));
