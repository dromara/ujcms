System.register(["./index-legacy-DSyHl_gO.js","./el-radio-group-legacy-CeZwVPyl.js","./el-radio-button-legacy-C-wGwFOO.js","./stat-legacy-CJTQv6rn.js"],(function(t,a){"use strict";var e,r,n,s,l,u,i,o,d,y,c,m,f,v,p,b,g,h,O;return{setters:[t=>{e=t.d,r=t.u,n=t.r,s=t.Y,l=t.o,u=t.X,i=t.a0,o=t.b,d=t.P,y=t.l,c=t.h,m=t.w,f=t.aF,v=t.aG,p=t.v,b=t.x},t=>{g=t.b,h=t.E},null,t=>{O=t.q}],execute:function(){const a={class:"p-3 mt-3 app-block"};t("default",e({__name:"VisitTrend",setup(t){const{t:e}=r(),w=n("last30day"),x=t=>{switch(t){case"now":return u().subtract(2,"hour").format();case"today":return u().startOf("day").format();case"yesterday":return u().startOf("day").subtract(1,"day").format();case"last7day":return u().startOf("day").subtract(6,"day").format();case"last30day":return u().startOf("day").subtract(29,"day").format();case"last3month":return u().startOf("day").subtract(3,"month").format();case"last6month":return u().startOf("day").subtract(6,"month").format();case"lastYear":return u().startOf("day").subtract(1,"year").format();default:return}},C=t=>"now"===t?u().format():"yesterday"===t?u().endOf("day").subtract(1,"day").format():u().endOf("day").format(),_=s(),j=async t=>{const a=await O({begin:x(t),end:C(t)}),r={tooltip:{trigger:"axis"},legend:{data:[e("visit.pv"),e("visit.uv"),e("visit.ip")]},grid:{left:16,right:24,top:40,bottom:8,containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:a.map((t=>t.dateString))},yAxis:{type:"value",minInterval:1},series:[{name:e("visit.pv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.pvCount)))},{name:e("visit.uv"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.uvCount)))},{name:e("visit.ip"),type:"line",symbol:a.length>30?"none":"circle",data:a.map((t=>Number(t.ipCount)))}]},n=_.value;if(null==n)return;let s=i.getInstanceByDom(n);null==s&&(s=i.init(n)),s.setOption(r),window.addEventListener("resize",(function(){s&&s.resize()}))};return l((async()=>{j(w.value)})),(t,e)=>{const r=g,n=h;return o(),d("div",null,[y("div",a,[y("div",null,[c(n,{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=t=>w.value=t),onChange:e[1]||(e[1]=t=>j(t))},{default:m((()=>[(o(),d(f,null,v(["today","yesterday","last7day","last30day","last3month","last6month","lastYear","all"],(a=>c(r,{key:a,value:a},{default:m((()=>[p(b(t.$t(`visit.${a}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])]),y("div",{ref_key:"trendChart",ref:_,class:"h-80"},null,512)])])}}}))}}}));
