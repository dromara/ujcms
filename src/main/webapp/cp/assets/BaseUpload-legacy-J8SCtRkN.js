System.register(["./index-legacy-DywSgIaj.js","./config-legacy-DGGA2fzV.js","./BaseUpload.vue_vue_type_style_index_0_scoped_bf818630_lang-legacy-DiuVfy3G.js"],(function(e,a){"use strict";var t,l,u,r,i,n,o,c,s,d,p,f,y,v,g,b,m,_,B,S,A,h,w,I,j,x,L;return{setters:[e=>{t=e.d,l=e.p,u=e.u,r=e.a,i=e.r,n=e.aa,o=e.b,c=e.e,s=e.K,d=e.i,p=e.w,f=e.bb,y=e.k,v=e.t,g=e.aj,b=e.E,m=e.j,_=e.ac,B=e.ad,S=e.f,A=e.h,h=e._},e=>{w=e.f,I=e.T,j=e.U,x=e.V,L=e.i},null],execute:function(){const a=t({__name:"BaseUpload",props:{type:{type:String,default:"file",validator:e=>["image","video","audio","library","doc","file","any"].includes(e)},button:{type:String,default:null},data:{type:Object,default:null},uploadAction:{type:String,default:null},fileAccept:{type:String,default:null},fileMaxSize:{type:Number,default:null},multiple:{type:Boolean},disabled:{type:Boolean,default:!1},onSuccess:{type:Function,default:null}},setup(e){const a=e,{type:t,uploadAction:h,fileAccept:z,fileMaxSize:M}=l(a),{t:T}=u(),U=r(),$=i({}),k=n((()=>{if(null!=h?.value)return h.value;switch(t.value){case"image":return L;case"video":return x;case"audio":return j;case"library":case"doc":return I;case"file":return w;default:throw new Error(`Type not support: ${t.value}`)}})),E=n((()=>{if(null!=z?.value)return z.value;switch(t.value){case"image":return U.upload.imageInputAccept;case"video":return U.upload.videoInputAccept;case"audio":return U.upload.audioInputAccept;case"library":return U.upload.libraryInputAccept;case"doc":return U.upload.docInputAccept;case"file":return U.upload.fileInputAccept;case"any":return;default:throw new Error(`Type not support: ${t.value}`)}})),O=n((()=>{if(null!=M?.value)return M.value;switch(t.value){case"image":return U.upload.imageLimitByte;case"video":return U.upload.videoLimitByte;case"audio":return U.upload.audioLimitByte;case"library":return U.upload.libraryLimitByte;case"doc":return U.upload.docLimitByte;case"file":return U.upload.fileLimitByte;default:return 0}})),F=e=>!(O.value>0&&e.size>O.value&&(b.error(T("error.fileMaxSize",{size:O.value/1024/1024+" MB"})),1)),N=e=>{g(JSON.parse(e.message))};return(a,t)=>{const l=o("el-upload"),u=o("el-progress");return c(),s("div",null,[d(l,{action:k.value,headers:{...m(B)(),...m(_)()},data:e.data,accept:E.value,"before-upload":F,"on-success":e.onSuccess,"on-progress":(e,a)=>$.value=a,"on-error":N,"show-file-list":!1,disabled:e.disabled,multiple:e.multiple,drag:""},{default:p((()=>[f(a.$slots,"default",{},(()=>[y("span",null,v(e.button??a.$t("clickOrDragToUpload")),1)]),!0)])),_:3},8,["action","headers","data","accept","on-success","on-progress","disabled","multiple"]),"uploading"===$.value.status?(c(),S(u,{key:0,percentage:parseInt($.value.percentage,10)},null,8,["percentage"])):A("",!0)])}}});e("B",h(a,[["__scopeId","data-v-bf818630"]]))}}}));
