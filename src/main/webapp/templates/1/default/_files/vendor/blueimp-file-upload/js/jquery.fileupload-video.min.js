(e=>{"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)})(function(d,l){d.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),d.widget("blueimp.fileupload",d.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(e,i){var o;return i.disabled||(o=e.files[e.index],this._videoElement.canPlayType&&this._videoElement.canPlayType(o.type)&&("number"!==d.type(i.maxFileSize)||o.size<=i.maxFileSize)&&(!i.fileTypes||i.fileTypes.test(o.type))&&(i=l.createObjectURL(o))&&((o=this._videoElement.cloneNode(!1)).src=i,o.controls=!0,e.video=o)),e},setVideo:function(e,i){return e.video&&!i.disabled&&(e.files[e.index][i.name||"preview"]=e.video),e}}})});